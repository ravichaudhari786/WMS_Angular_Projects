"use strict";(self.webpackChunkwms_app=self.webpackChunkwms_app||[]).push([[872],{61872:function(t,e,r){r.r(e),r.d(e,{ProcessModule:function(){return Ce}});var i=r(66269),o=r(63423),a=r(64762),n=r(3679),l=r(1527),s=r(38583),d=r(48923),c=r(37716),u=r(99603),m=r(69517),h=r(35618),f=r(93738),g=r(65939),D=r(98295),p=r(88030),Z=r(25239),I=r(63887);function v(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function T(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.DockID),c.xp6(1),c.Oqu(t.DockName)}}function b(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.UserID),c.xp6(1),c.Oqu(t.UserName)}}function y(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.Remarks),c.xp6(1),c.Oqu(t.Remarks)}}function C(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.ProductID),c.xp6(1),c.Oqu(t.ProductName)}}function N(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.BrandID),c.xp6(1),c.Oqu(t.BrandName)}}function A(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.Counts),c.xp6(1),c.Oqu(t.Counts)}}function w(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.StorageAreaTypeID),c.xp6(1),c.hij("",t.ServiceName," ")}}function x(t,e){if(1&t&&(c.TgZ(0,"option",64),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.LabourContractorID),c.xp6(1),c.hij(" ",t.ContractorName,"")}}function q(t,e){if(1&t&&(c.TgZ(0,"option",65),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.Q6J("ngValue",t),c.xp6(1),c.Oqu(t.Remarks)}}function L(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",66),c.TgZ(1,"h4",67),c._uU(2,"Storage Area"),c.qZA(),c.qZA(),c._UZ(3,"br"),c.TgZ(4,"div",23),c.TgZ(5,"div",68),c.TgZ(6,"label"),c._uU(7,"Quantity "),c.qZA(),c._UZ(8,"input",69),c.qZA(),c.TgZ(9,"div",68),c.TgZ(10,"label"),c._uU(11,"AllocatedQty"),c.qZA(),c._UZ(12,"input",70),c.qZA(),c.qZA(),c.TgZ(13,"div",71),c.TgZ(14,"ag-grid-angular",72,73),c.NdJ("cellValueChanged",function(e){return c.CHM(t),c.oxw().onCellKeyPress(e)}),c.qZA(),c.qZA(),c.TgZ(16,"div",74),c.TgZ(17,"button",75),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),r=c.MAs(191);return e.onSaveStorageArea(r)}),c._uU(18,"ADD"),c.qZA(),c.TgZ(19,"button",76),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),r=c.MAs(191);return e.oncloseStoragearea(r)}),c._uU(20,"cancel"),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(14),c.Q6J("rowData",t.storageAreaList)("columnDefs",t.columnDefs)}}function S(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",66),c.TgZ(1,"h4",67),c._uU(2,"Customer Contact"),c.qZA(),c.qZA(),c.TgZ(3,"div",71),c._UZ(4,"ag-grid-angular",77),c.qZA(),c.TgZ(5,"div",74),c.TgZ(6,"button",76),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),r=c.MAs(193);return e.onCloseCustomerContact(r)}),c._uU(7,"cancel"),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(4),c.Q6J("rowData",t.customercontactList)("columnDefs",t.CustomerContactcolumnDefs)("groupIncludeTotalFooter",!0)}}function _(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",66),c.TgZ(1,"h4",67),c._uU(2,"Transporter Details"),c.qZA(),c.TgZ(3,"button",78),c.NdJ("click",function(){return c.CHM(t),c.oxw().onAddTranspoterDetailNewrow()}),c._uU(4,"+"),c.qZA(),c.qZA(),c.TgZ(5,"div",71),c.TgZ(6,"ag-grid-angular",79),c.NdJ("rowClicked",function(e){return c.CHM(t),c.oxw().onRowSelectedTransport(e)}),c.qZA(),c.qZA(),c.TgZ(7,"div",80),c.TgZ(8,"button",81),c.NdJ("click",function(){return c.CHM(t),c.oxw().onRemoveTranspoterDetailNewrow()}),c._uU(9,"-"),c.qZA(),c.TgZ(10,"button",82),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),r=c.MAs(195);return e.onCloseTransportContact(r)}),c._uU(11,"Cancel"),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(6),c.Q6J("rowData",t.TransportList)("columnDefs",t.TransperdetailcolumnDefs)}}const k=function(t){return{"is-invalid":t}},O=function(){return[10,20,50,100,500]};let U=(()=>{class t{constructor(t,e,r,i,o){this.fb=t,this.api=e,this.dialog=r,this.modalService=i,this.el=o,this.collapsed=!1,this.OnAddProductClick=!1,this.InwardID=0,this.ReceiptNo="0",this.DID=0,this.Flag=!1,this.click=!1,this.challanid=0,this.InwardTransportID=0,this.challandid=0,this.closeResult="",this.tab=0,this.config={backdrop:!1,ignoreBackdropClick:!0},this.submitted=!1,this.firstlotno="",this.StorageId=0,this.challanquantity=0,this.allocatedQty=0,this.outquantity=0,this.inprocessquantity=0,this.balancequantity=0,this.transferdid=0,this.focusedRowKey=117,this.servicesid=0,this.ProductRate=0,this.isnew=!0,this.ChallansProductList=[],this.ChallansLocation=[],this.InwardDetailList=[],this.DetailList=[],this.newDynamicInwardDetails={},this.newDynamicInwardtransfer={},this.InwardchargesList=[],this.ChargesList=[],this.InwardTransportList=[],this.TransportList=[],this.InwardshowStorageArea=[],this.InwardshowStorage=[],this.InwardValidateStorage=[],this.storageAreaList=[],this.SaveInward=[],this.SaveInwardlist=[],this.newDynamicSaveInward={},this.GetInwardListJson={},this.InData={},this.InServiceData={},this.BindDropdownData={},this.MyMenus=[],this.rowSelection="multiple",this.columnDefs=[{headerName:"StorageAreaID",field:"StorageAreaID",hide:!0},{headerName:"StorageArea",field:"StorageArea",checkboxSelection:!1,filter:"agTextColumnFilter",filterParams:{applyMiniFilterWhileTyping:!0},floatingFilter:!0},{headerName:"Qty",field:"AllocatedQuantity",aggFunc:"sum",cellEditorPopup:!0,editable:!0,valueParser:"Number(newValue)",sort:"desc",filter:"agNumberColumnFilter",floatingFilter:!0,cellEditorPopupPosition:"defualt",cellStyle:t=>t.value>0?{color:"white",backgroundColor:"blue"}:{color:"black",backgroundColor:"transparent"}}],this.AppliedStoragecolumnDefs=[{headerName:"InwardDID",field:"InwardDID",hide:!1},{headerName:"LotNo",field:"LotNo",filter:!0},{headerName:"TransporterName",field:"TransporterName",filter:!0},{headerName:"TruckNo",field:"TruckNo",filter:!0},{headerName:"TransporterName",field:"TransporterName",filter:!0},{headerName:"ContainerNo",field:"ContainerNo",filter:!0},{headerName:"Applied Qty",field:"Qty",filter:!0}],this.CustomerContactcolumnDefs=[{headerName:"CustomerContactID",field:"CustomerContactID",hide:!0},{headerName:"Contact Person",field:"ContactPersonName"},{headerName:"Mobile No",field:"MobileNo"},{headerName:"Email ID",field:"EmailID"},{headerName:"Send SMS",field:"SendSMS"},{headerName:"Send Email",field:"SendEmail"}],this.TransperdetailcolumnDefs=[{headerName:"InwardTransportID",field:"InwardTransportID",hide:!0},{headerName:"TransporterName",field:"TransporterName",editable:!0},{headerName:"TruckNo",field:"TruckNo",editable:!0},{headerName:"ContainerNo",field:"ContainerNo",editable:!0}],this.InwardDetailColumns=[{header:"InwardDID",field:"InwardDID",hide:!0},{header:"ProductID",field:"ProductID",hide:!0},{header:"ProductName",field:"ProductName"},{header:"LotNo",field:"LotNo"},{header:"BrandID",field:"BrandID",hide:!0},{header:"BrandName",field:"BrandName"},{header:"ItemsInPacket",field:"ItemsInPacket"},{header:"InQuantity",field:"InQuantity"},{header:"MFD Date",field:"MFGDate",hide:!0},{header:"ExpiryDate",field:"ExpDate",hide:!0},{header:"Remarks",field:"Remarks"},{header:"LabourContractorID",field:"LabourContractorID",hide:!0},{header:"LabourContracterName",field:"LabourContracterName"},{header:"StorageAreaTypeID",field:"StorageAreaTypeID",hide:!0},{header:"StorageAreaType",field:"StorageAreaType"},{header:"SelfLife",field:"SelfLife"},{header:"Country",field:"Country"}],this.serviceColumns=[{type:"checkbox",field:"Add",cellRenderer:t=>this.checkBoxCellEditRenderer(t),hide:!1,width:10},{field:"InwardDID",hide:!0},{field:"ServiceID",hide:!0,resizable:!0},{field:"ServiceName"},{field:"C_Rate",hide:!0},{field:"L_Rate",hide:!0}],this.AppliedStorageArea=[{header:"Add",field:"Add",hide:!0},{header:"InwardDID",field:"InwardDID",hide:!0},{header:"ProductID",field:"ProductID",hide:!0},{header:"ProductName",field:"ProductName"},{header:"LotNo",field:"LotNo",hide:!0},{header:"StorageArea",field:"StorageArea",hide:!0},{header:"StorageAreaID",field:"StorageAreaID",hide:!0},{header:"AllocatedQuantity",field:"AllocatedQuantity",hide:!0},{header:"IsCustomerArea",field:"IsCustomerArea",hide:!0}],this.StorageAreaColumns=[{header:"StorageAreaID",field:"StorageAreaID",hide:!0},{header:"StorageArea",field:"StorageArea",hide:!1},{header:"AllocatedQty",field:"AllocatedQty"}],this.columns=[{minWidth:100,header:"Edit",field:"Edit",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"edit",icon:"edit",tooltip:"Edit",click:t=>{console.log(t),this.tab=0}}]},{header:"InwardID",field:"InwardID",hide:!1,minWidth:100},{header:"CustomerID",field:"CustomerID",hide:!0},{header:"ReceiptNo",field:"ReceiptNo",minWidth:100},{header:"CustomerName",field:"CustomerName",minWidth:200},{header:"DocID",field:"DocID",minWidth:100},{header:"UnLoadingBy",field:"UnLoadingBy",hide:!0},{header:"InwardDate",field:"InwardDate",minWidth:100},{header:"BillingStartDate",field:"BillingStartDate",minWidth:100},{header:"PersonName",field:"PersonName",minWidth:100},{header:"Remarks",field:"Remarks",minWidth:100},{header:"Status",field:"Status",minWidth:100,hide:!0},{header:"StatusName",field:"StatusName",minWidth:100}],this.columnsInwardList=[{headerName:"Action",floatingFilter:!1,maxWidth:200,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.OnInwardActions.bind(this)}},{headerName:"InwardID",field:"InwardID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerID",field:"CustomerID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ReceiptNo",field:"ReceiptNo",minWidth:80,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerName",field:"CustomerName",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DocID",field:"DocID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"UnLoadingBy",field:"UnLoadingBy",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"InwardDate",field:"InwardDate",minWidth:100,type:"date",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"BillingStartDate",field:"BillingStartDate",minWidth:100,type:"date",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"PersonName",field:"PersonName",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Status",field:"Status",hide:!0,minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusName",field:"StatusName",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0}],this.MyMenus=this.api.getCurrentMenusForButton("Inward"),this.currentUser=this.api.getCurrentUser();const a=new s.uU("en-US").transform(Date(),"yyyy-MM-dd hh:mm:ss");this.todayDate=a,this.productdate=new Date,this.form=this.fb.group({customer_id:[null,n.kI.required],challan_no:[null,n.kI.required],dock_name:["",n.kI.required],inward_date:["",n.kI.required],unloading_by:[null,[n.kI.required]],custremarks:[null,n.kI.required],transportername:[null,n.kI.required],truckno:[null,n.kI.required],container_no:[null,n.kI.required],selflife:[null,n.kI.required],product_id:[null,n.kI.required],brand_id:[null,n.kI.required],packetcount:[null,n.kI.required],quantity:[null,n.kI.required],service_id:[null,n.kI.required],mgfdate:[null,n.kI.required],expdate:[null,n.kI.required],labourcontractor_id:[null,n.kI.required],lot_no:[null,n.kI.required],remarks:[null,n.kI.required],country:["",n.kI.required],allocatedQty:[0,n.kI.required]}),this.frameworkComponents={buttonRenderer:d.J}}ngOnInit(){this.BindDropdownData={InwardID:0,CustomerID:0,Remarks:0,CreatedBy:0,serviceID:0,ProductID:0,CompanyId:Number(this.currentUser.companyId),WarehouseId:Number(this.currentUser.warehouseId),FinantialYearId:Number(this.currentUser.FinantialYearId),challan:0,StorageAreaMasterID:1,FinancialYear:""},this.BindDropdown(),this.inwardservicelist=[],console.log(this.todayDate)}BindDropdown(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.get("/Customer").subscribe(t=>{this.customerList=t},t=>{console.error(t)}),this.api.get("/dock").subscribe(t=>{this.dockList=t},t=>{console.error(t)}),this.api.get("/UnloadingBy").subscribe(t=>{this.unloadingList=t},t=>{console.error(t)}),this.api.get("/Remarks").subscribe(t=>{this.remarkList=t.filter(t=>1==t.ProcessID)},t=>{console.error(t)}),this.api.get("/brand").subscribe(t=>{this.brandList=t},t=>{console.error(t)}),this.api.get("/CountInPacket").subscribe(t=>{this.packateCountList=t},t=>{console.error(t)}),this.api.get("/LabourContracter").subscribe(t=>{this.labourContractorList=t},t=>{console.error(t)}),this.api.get("/StorageAreaType/servieceStorageAreaType").subscribe(t=>{this.serviceTypeList=t},t=>{console.error(t)}),this.api.post("/InwardList",this.BindDropdownData).subscribe(t=>{this.InwardList=t},t=>{console.error(t)}),this.api.post("/Inward/GetLotNo",this.BindDropdownData).subscribe(t=>{this.CurrentLotNo=t[0].LotNo},t=>{console.error(t)})})}get f(){return this.form.controls}GetCustomerID(t){console.log("customer_id =",this.form.value.customer_id),this.api.post("/Inward/GetCustomerProducts",this.BindDropdownData).subscribe(t=>{this.productList=t},t=>{console.error(t)})}GetServicedetail(){this.api.get("/StorageAreaType/servieceStorageAreaType").subscribe(t=>{this.serviceTypeList=t},t=>{console.error(t)})}printIconClick(t){}OnApplyClick(t,e){var r,i;null==this.form.value.customer_id||0==this.form.value.customer_id?(this.dialog.alert("Select Customers ....."),null===(r=null==document?void 0:document.getElementById("customer_id"))||void 0===r||r.focus()):(""==this.form.value.challan_no||null==this.form.value.challan_no)&&(this.dialog.alert("Enter challan No ....."),null===(i=null==document?void 0:document.getElementById("challan_no"))||void 0===i||i.focus())}onCustomerContact(t){var e;if(null==this.form.value.customer_id||0==this.form.value.customer_id)this.dialog.alert("Select Customers ....."),null===(e=null==document?void 0:document.getElementById("customer_id"))||void 0===e||e.focus();else{const e={InwardID:0,CustomerID:Number(this.form.value.customer_id),Remarks:0,CreatedBy:0,serviceID:0,ProductID:0,CompanyId:Number(this.currentUser.companyId),WarehouseId:Number(this.currentUser.warehouseId),FinantialYearId:Number(this.currentUser.FinantialYearId),challan:0,StorageAreaMasterID:1,FinancialYear:""};this.api.post("/Inward/GetCustomerContact",e).subscribe(t=>{this.customercontactList=t},t=>{console.error(t)}),this.modalService.open(t)}}onCloseCustomerContact(t){this.modalService.dismissAll(t)}onCloseTransportContact(t){const e=this.TransportList.filter(t=>t.TruckNo.length>0);this.TransportList=e,this.modalService.dismissAll(t)}OnTransportAdd(t){null==this.form.value.truckno||""==this.form.value.truckno?this.dialog.alert("Please .... Enter Truck Number..."):(0==this.TransportList.length?(this.InwardTransportID=1,this.TransportList.push({InwardTransportID:this.InwardTransportID,TransporterName:this.form.value.transportername,TruckNo:this.form.value.truckno,ContainerNo:this.form.value.container_no}),this.TransportList.slice()):this.InwardTransportID=this.InwardTransportID+1,this.modalService.open(t))}onRowSelectedTransport(t){this.InwardTransportID=t.data.InwardTransportID}onRemoveTranspoterDetailNewrow(){const t=this.TransportList.filter(t=>t.InwardTransportID!=this.InwardTransportID);this.TransportList=t}onAddTranspoterDetailNewrow(){this.InwardTransportID=this.InwardTransportID+1,this.TransportList.push({InwardTransportID:this.InwardTransportID,TransporterName:"",TruckNo:"",ContainerNo:""});let t=this.TransportList.filter(t=>t);this.TransportList=t}OnProductSelect(t){this.api.get("/service/InwardService?productID="+this.form.value.product_id+"&customerID="+this.form.value.customer_id).subscribe(t=>{this.inwardservicelist=t,console.log(this.inwardservicelist)},t=>{console.error(t)})}OnBrandSelect(t){}OnServiceSelect(t){var e,r;return null==this.form.value.customer_id?(this.dialog.alert("Please .... select Customers"),this.form.controls.product_id.reset(),this.form.controls.service_id.reset(),this.inwardservicelist=[],void(null===(e=null==document?void 0:document.getElementById("customer_id"))||void 0===e||e.focus())):null==this.form.value.product_id?(this.dialog.alert("Please .... select Product"),this.form.controls.product_id.reset(),this.form.controls.service_id.reset(),this.inwardservicelist=[],void(null===(r=null==document?void 0:document.getElementById("product_id"))||void 0===r||r.focus())):(this.InServiceData={InwardID:0,CustomerID:Number(this.form.value.customer_id),Remarks:"",CreatedBy:0,serviceID:Number(this.form.value.service_id),ProductID:Number(this.form.value.product_id),CompanyId:0,WarehouseId:0,FinantialYearId:0,challan:"",StorageAreaMasterID:0,FinancialYear:""},this.api.post("/Inward/GetServiceId",this.InServiceData).subscribe(t=>{this.servicesid=t[0].StorageAreaTypeID},t=>{console.error(t)}),void this.api.post("/Inward/GetInwardProductRate",this.InServiceData).subscribe(t=>{var e;console.log(" mess =>"+t[0].Message),""!==t[0].Message&&(this.dialog.alert(""+t[0].Message),this.form.controls.product_id.reset(),this.form.controls.service_id.reset(),this.inwardservicelist=[],null===(e=null==document?void 0:document.getElementById("product_id"))||void 0===e||e.focus())},t=>{console.error(t)}))}OnLabourSelect(t){}onRowDblclicked(t,e){this.Flag=!0,this.GetServicedetail(),console.log(this.InwardTransportList),this.form.controls.product_id.reset(),this.form.controls.brand_id.reset(),this.form.controls.packetcount.reset(),this.form.controls.service_id.reset(),this.form.controls.mgfdate.reset(),this.form.controls.expdate.reset(),this.form.controls.remarks.reset(),this.form.controls.selflife.setValue("0"),this.form.controls.quantity.reset(),this.form.controls.country.setValue(""),this.CurrentLotNo=Number(this.CurrentLotNo)+1,this.form.patchValue({brand_id:t.cellSelection[0].rowData.BrandID,product_id:t.cellSelection[0].rowData.ProductID,packetcount:t.cellSelection[0].rowData.ItemsInPacket,quantity:t.cellSelection[0].rowData.InQuantity,selflife:t.cellSelection[0].rowData.SelfLife,mgfdate:t.cellSelection[0].rowData.MFGDate,expdate:t.cellSelection[0].rowData.ExpDate,lot_no:t.cellSelection[0].rowData.LotNo,country:t.cellSelection[0].rowData.Country,service_id:t.cellSelection[0].rowData.StorageAreaTypeID,labourcontractor_id:t.cellSelection[0].rowData.LabourContractorID}),this.DID=t.cellSelection[0].rowData.InwardDID,this.servicesid=t.cellSelection[0].rowData.ServiceID,this.challanid=t.cellSelection[0].rowData.ChallanID,this.challandid=t.cellSelection[0].rowData.ChallanDID,this.firstlotno=t.cellSelection[0].rowData.FirstLotNo,this.challanquantity=t.cellSelection[0].rowData.ChallanQuantity,this.outquantity=t.cellSelection[0].rowData.OutQuantity,this.inprocessquantity=t.cellSelection[0].rowData.InprocessQuantity,this.transferdid=t.cellSelection[0].rowData.TransferDID,this.isnew=t.cellSelection[0].rowData.IsNew,this.inwardservicelist=[],this.inwardservicelist=this.InwardchargesList.filter(e=>e.InwardDID==t.cellSelection[0].rowData.InwardDID),this.inwardservicelist.forEach(t=>{t.Add=!0}),this.api.get("/service/InwardService?productID="+t.cellSelection[0].rowData.ProductID+"&customerID="+this.form.value.customer_id).subscribe(t=>{this.inwardserviTest=t,this.SetServiceTo_inwardservicelist()},t=>{console.error(t)}),this.GetStorageAreaList();const r=this.InwardshowStorageArea.filter(t=>t.InwardDID==this.DID),i=this.storageAreaList;i.forEach(t=>(r.forEach(e=>{t.StorageAreaID===e.StorageAreaID&&(t.AllocatedQuantity=e.StorageQuantity)}),t)),this.storageAreaList=[],this.storageAreaList=i;var o=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t);this.allocatedQty=o,this.form.controls.allocatedQty.setValue(this.allocatedQty)}SetServiceTo_inwardservicelist(){if(this.inwardserviTest.length>0){let t=this.inwardservicelist.concat(this.inwardserviTest.filter(t=>!this.inwardservicelist.find(e=>e.ServiceID==t.ServiceID)));this.inwardservicelist=t}}OnAddClick(){var t,e,r,i,o,a;if(this.storageAreaList.length>0&&(this.InwardValidateStorage=this.storageAreaList.filter(t=>t.AllocatedQuantity>0),this.allocatedQty=this.InwardValidateStorage.length>0?this.InwardValidateStorage.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t):0),0==this.serviceTypeList.length&&this.GetServicedetail(),0==this.TransportList.length&&(this.InwardTransportID=1,this.TransportList.push({InwardTransportID:this.InwardTransportID,TransporterName:this.form.value.transportername,TruckNo:this.form.value.truckno,ContainerNo:this.form.value.container_no}),this.TransportList.slice()),null==this.form.value.truckno||""==this.form.value.truckno)return this.dialog.alert("Please .... Enter Truck number"),void(null===(t=null==document?void 0:document.getElementById("truckno"))||void 0===t||t.focus());if(null==this.form.value.product_id)return this.dialog.alert("Please .... select Product"),void(null===(e=null==document?void 0:document.getElementById("product_id"))||void 0===e||e.focus());if(null==this.form.value.quantity)return this.dialog.alert("Please... Enter Quantity ..!!!"),void(null===(r=null==document?void 0:document.getElementById("quantity"))||void 0===r||r.focus());if(null==this.form.value.service_id)return this.dialog.alert("Please... Select Service Type ..!!!"),void(null===(i=null==document?void 0:document.getElementById("service_id"))||void 0===i||i.focus());if(null==this.form.value.labourcontractor_id)return this.dialog.alert("Please... Select labour contractor ..!!!"),void(null===(o=null==document?void 0:document.getElementById("labourcontractor_id"))||void 0===o||o.focus());if(this.form.value.quantity!=this.allocatedQty)return this.dialog.alert("Please... Add storage area quntity ..!!!"),void(null===(a=null==document?void 0:document.getElementById("BtnStorageArea"))||void 0===a||a.focus());if(1==this.Flag){if(0==this.ChargesList.length||0==this.InwardchargesList.length){this.ChargesList=[],this.inwardservicelist.forEach(t=>{1==t.Add&&this.ChargesList.push({InwardDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,C_Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.ChargesList.slice();var n=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t);this.allocatedQty=n}else if(0==this.ChargesList.length){const t=this.InwardchargesList.filter(t=>t.InwardDID==this.DID);this.ChargesList=t,n=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t),this.allocatedQty=n}const t=this.InwardDetailList.filter(t=>t.InwardDID!=this.DID);this.InwardDetailList=t;const e=this.InwardchargesList.filter(t=>t.InwardDID!=this.DID);this.InwardchargesList=e;const r=this.InwardTransportList.filter(t=>t.InwardDID!=this.DID);this.InwardTransportList=r;const i=this.InwardshowStorageArea.filter(t=>t.InwardDID!=this.DID);this.InwardshowStorageArea=i}else 0==this.Flag&&(this.DID=this.DID+1,this.allocatedQty=0);(null==this.form.value.selflife||""==this.form.value.selflife)&&this.form.controls.selflife.setValue("0"),null==this.form.value.remarks&&(this.form.value.remarks=" "),null==this.form.value.brand_id&&(this.form.value.brand_id=" ");var l=this.brandList.filter(t=>t.BrandID==this.form.value.brand_id),s=this.productList.filter(t=>t.ProductID==this.form.value.product_id),d=this.serviceTypeList.filter(t=>t.StorageAreaTypeID==this.form.value.service_id),c=this.labourContractorList.filter(t=>t.LabourContractorID==this.form.value.labourcontractor_id);0==l.length&&l.push({BrandID:0,BrandName:""}),0==d.length&&d.push({BrandID:0,BrandName:""}),this.newDynamicInwardDetails=[],this.DetailList=[],this.newDynamicInwardtransfer=[],this.newDynamicInwardDetails={InwardDID:this.DID,ChallanID:this.challanid,ChallanDID:this.challandid,ProductID:this.form.value.product_id,ProductName:s[0].ProductName,LotNo:this.form.value.lot_no,FirstLotNo:this.firstlotno,BrandID:this.form.value.brand_id,BrandName:l[0].BrandName,ItemsInPacket:this.form.value.packetcount,InQuantity:this.form.value.quantity,ChallanQuantity:this.challanquantity,OutQuantity:this.outquantity,InprocessQuantity:this.inprocessquantity,BalanceQuantity:this.form.value.quantity,MFGDate:this.todayDate,ExpDate:this.todayDate,Remarks:this.form.value.remarks.Remarks,TransferDID:this.transferdid,LabourContractorID:this.form.value.labourcontractor_id,LabourContracterName:c[0].ContractorName,StorageAreaTypeID:this.servicesid,StorageAreaType:d[0].ServiceName,SelfLife:this.form.value.selflife,IsNew:this.isnew,Country:this.form.value.country,ServiceID:this.form.value.service_id},this.DetailList=this.InwardDetailList,this.DetailList.push(this.newDynamicInwardDetails),this.InwardDetailList=this.DetailList.slice(),console.log("this.InwardDetailList",this.InwardDetailList),0==this.ChargesList.length||0==this.InwardchargesList.length?(this.ChargesList=[],this.inwardservicelist.forEach(t=>{1==t.Add&&this.InwardchargesList.push({InwardDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,C_Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.InwardchargesList.slice()):(this.ChargesList.forEach(t=>{this.InwardchargesList.push({InwardDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,C_Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.InwardchargesList.slice()),this.TransportList.forEach(t=>{this.InwardTransportList.push({InwardDID:this.DID,LotNo:this.form.value.lot_no,TransporterName:null==t.TransporterName?"A":t.TransporterName,TruckNo:null==t.TruckNo?"B":t.TruckNo,ContainerNo:null==t.ContainerNo?"C":t.ContainerNo,Qty:this.form.value.quantity})}),this.InwardchargesList.slice(),this.storageAreaList.forEach(t=>{t.AllocatedQuantity>0&&this.InwardshowStorageArea.push({InwardDID:this.DID,StorageAreaID:t.StorageAreaID,StorageQuantity:t.AllocatedQuantity,LotNo:this.form.value.lot_no,IsCustomerAreaSelected:!1})}),this.InwardshowStorageArea.slice(),console.log(this.InwardDetailList),console.log(this.InwardchargesList),console.log(this.InwardTransportList),console.log(this.InwardshowStorageArea),this.form.controls.product_id.reset(),this.form.controls.brand_id.reset(),this.form.controls.packetcount.reset(),this.form.controls.service_id.reset(),this.form.controls.mgfdate.reset(),this.form.controls.expdate.reset(),this.form.controls.remarks.reset(),this.form.controls.selflife.setValue("0"),this.form.controls.quantity.reset(),this.form.controls.country.setValue(""),this.CurrentLotNo=Number(this.CurrentLotNo)+1,this.ChargesList=[],this.inwardservicelist=[],this.storageAreaList=[],this.Flag=!1,this.GetStorageAreaList()}GetStorageAreaList(){this.api.get("/StorageAreaMaster?WarehouseID="+this.currentUser.warehouseId).subscribe(t=>{this.storageAreaList=t,this.allocatedQty=0,console.log("this.storageAreaList",this.storageAreaList)},t=>{console.error(t)})}openStorageArea(t){this.ChallansProductList.push({AddArea:!0,Auto:!1,ChallanDID:0,ProductID:this.form.value.product_id,ProductName:"",LotNo:this.form.value.lot_no,BrandName:"",ItemsInPacket:"",InQuantity:this.form.value.quantity,StorageAreaTypeID:this.servicesid,StorageAreaType:"",Applied:!1}),this.ChallansLocation.push({ChallanDID:0,StorageAreaID:0,StorageQuantity:this.form.value.quantity,LotNo:this.form.value.lot_no,IsCustomerAreaSelected:!1}),this.api.post("/Inward/GetAvailableStorageArea",{WarehouseID:this.currentUser.warehouseId,CustomerID:this.form.value.customer_id,Mode:"Inward",InwardID:this.InwardID,ChallanID:0,Cproduct:this.ChallansProductList,Clocation:this.ChallansLocation}).subscribe(e=>{var r;if(this.storageAreaList=e.Table,this.allocatedQty=0,console.log("this.storageAreaList",this.storageAreaList),this.allocatedQty=0,null==this.form.value.quantity||0==this.form.value.quantity)this.dialog.alert("Please .... Enter Quantity"),null===(r=null==document?void 0:document.getElementById("quantity"))||void 0===r||r.focus();else{if(1==this.Flag){const t=this.InwardshowStorageArea.filter(t=>t.InwardDID==this.DID),e=this.storageAreaList;e.forEach(e=>(t.forEach(t=>{e.StorageAreaID===t.StorageAreaID&&(e.AllocatedQuantity=t.StorageQuantity)}),e)),this.storageAreaList=[],this.storageAreaList=e;var i=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t);this.allocatedQty=i,this.form.controls.allocatedQty.setValue(this.allocatedQty)}else this.storageAreaList.length>0&&(this.InwardValidateStorage=this.storageAreaList.filter(t=>t.AllocatedQty>0),this.InwardValidateStorage.length>0?(this.allocatedQty=this.InwardValidateStorage.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t),this.form.controls.allocatedQty.setValue(this.allocatedQty)):(this.allocatedQty=0,this.form.controls.allocatedQty.setValue(this.allocatedQty)));this.modalService.open(t,this.config)}},t=>{console.error(t)})}oncloseStoragearea(t){var e=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t);this.form.value.quantity==e?(this.onStorageGridRefresh(),this.modalService.dismissAll(t),this.allocatedQty=0):(this.dialog.alert("Please, Enter correct Quantity ..."),this.onStorageGridRefresh(),this.modalService.dismissAll(t),this.allocatedQty=0),console.log(this.storageAreaList)}onSaveStorageArea(t){var e=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t);this.form.value.quantity==e?(this.onStorageGridRefresh(),this.modalService.dismissAll(t)):(this.dialog.alert("Please, Enter correct Quantity ..."),this.onStorageGridRefresh(),this.modalService.open(t),this.allocatedQty=0),console.log(this.storageAreaList)}onCellKeyPress(t){this.allocatedQty=0,this.StorageId=t.data.StorageAreaID;var e=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t);this.allocatedQty=e,this.form.value.quantity>=this.allocatedQty?(this.form.controls.allocatedQty.setValue(this.allocatedQty),this.storageAreaList.slice()):(this.storageAreaList.forEach(e=>{e.StorageAreaID==t.data.StorageAreaID&&(e.AllocatedQuantity=0)}),this.dialog.alert("Please .... enter proper quantity")),this.onStorageGridRefresh()}onStorageGridRefresh(){this.allocatedQty=0;var t=this.storageAreaList.map(t=>t.AllocatedQuantity).reduce((t,e)=>e+t);this.allocatedQty=t,this.form.controls.allocatedQty.setValue(this.allocatedQty);let e=this.storageAreaList.filter(t=>t);this.storageAreaList=e}Ondeleteclick(t){console.log(t)}tabInwardchange(t){this.tab=t,this.GetInwardList()}OnSaveinward(){var t,e,r,i,o;return null==this.form.value.customer_id||""==this.form.value.customer_id?(this.dialog.alert("Please .... Select Customer Name"),void(null===(t=null==document?void 0:document.getElementById("customer_id"))||void 0===t||t.focus())):null==this.form.value.dock_name||""==this.form.value.dock_name?(this.dialog.alert("Please .... select Dock name ...."),void(null===(e=null==document?void 0:document.getElementById("dock_name"))||void 0===e||e.focus())):null==this.form.value.inward_date?(this.dialog.alert("Please... Enter inward date ..!!!"),void(null===(r=null==document?void 0:document.getElementById("inward_date"))||void 0===r||r.focus())):null==this.form.value.unloading_by?(this.dialog.alert("Please... Select unloading by ..!!!"),void(null===(i=null==document?void 0:document.getElementById("unloading_by"))||void 0===i||i.focus())):null==this.form.value.truckno?(this.dialog.alert("Please... Select truck no ..!!!"),void(null===(o=null==document?void 0:document.getElementById("truckno"))||void 0===o||o.focus())):void(0!=this.InwardDetailList.length?0!=this.InwardshowStorageArea.length?0!=this.InwardTransportList.length?(this.click=!0,this.newDynamicSaveInward={InwardID:this.InwardID,CustomerID:this.form.value.customer_id,CompanyID:this.currentUser.companyId,WarehouseID:this.currentUser.warehouseId,InwardDate:this.form.value.inward_date,Remarks:null==this.form.value.custremarks?"":this.form.value.custremarks,FinancialYearID:this.currentUser.FinantialYearId,UserID:this.currentUser.userId,ReceiptNo:this.ReceiptNo,dockID:this.form.value.dock_name,UnLoadingBy:this.form.value.unloading_by,StorageAreaMasterID:1,InwardDetailModel:this.InwardDetailList,InwardChargesModel:this.InwardchargesList,InwardLocationModel:this.InwardshowStorageArea,InwardTransperModel:this.InwardTransportList},this.api.post("/Inward/SaveInward",this.newDynamicSaveInward).subscribe(t=>{this.dialog.alert(t.Table[0].Column1),this.OnResetInward()},t=>{console.error(t)}),this.GetInwardList(),console.log(this.newDynamicSaveInward)):this.dialog.alert("Please... Add transport Details..!!!"):this.dialog.alert("Please... Add Storage Details ..!!!"):this.dialog.alert("Please... Add Product Details ..!!!"))}GetInwardList(){this.GetInwardListJson={CompanyId:this.currentUser.companyId,WarehouseId:this.currentUser.warehouseId,FinantialYearId:this.currentUser.FinantialYearId},this.api.post("/InwardList",this.GetInwardListJson).subscribe(t=>{this.InwardList=t},t=>{console.error(t)})}SetDataTo_Inwardlist(){this.api.get("/InwardList?companyId="+this.currentUser.companyId+"&warehouseId="+this.currentUser.warehouseId+"&finantialYearId="+this.currentUser.FinantialYearId).subscribe(t=>{this.InwardList=[],this.InwardList=t},t=>{console.error(t)})}OnResetInward(){this.click=!1,this.form.reset(),this.BindDropdown(),this.InwardTransportID=0;const t=new s.uU("en-US").transform(Date(),"yyyy-MM-dd hh:mm:ss");this.todayDate=t,this.form.controls.inward_date.setValue(this.todayDate),this.InwardDetailList=[],this.customercontactList=[],this.inwardservicelist=[],this.storageAreaList=[],this.TransportList=[],this.GetStorageAreaList(),this.DID=0,this.InwardID=0,this.ReceiptNo="0"}contentReady(t){this.collapsed||(this.collapsed=!0,t.component.expandRow(["EnviroCare"]))}checkBoxCellEditRenderer(t){const e=document.createElement("input");return e.type="checkbox",e.value="false",e.checked=t.value,e.addEventListener("click",e=>{t.setValue(1!=t.value),this.ChargesList=[],this.inwardservicelist.forEach(t=>{1==t.Add&&this.ChargesList.push({InwardDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,C_Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.ChargesList.slice(),console.log(this.ChargesList)}),e}OnInwardActions(t){if("Delete"==String(t.actions)){if(window.confirm("Are sure you want to delete this item ?"))if(51==t.rowData.Status){const e={InwardID:t.rowData.InwardID,CustomerID:Number(t.rowData.CustomerID),Remarks:0,CreatedBy:Number(this.currentUser.userId),serviceID:0,ProductID:0,CompanyId:Number(this.currentUser.companyId),WarehouseId:Number(this.currentUser.warehouseId),FinantialYearId:Number(this.currentUser.FinantialYearId),challan:0,StorageAreaMasterID:1,FinancialYear:""};console.log(e),this.api.post("/Inward/DeleteInward",e).subscribe(t=>{this.dialog.alert(t.Table[0].message),this.SetDataTo_Inwardlist()},t=>{console.error(t)})}else 52==t.rowData.Status||0==t.rowData.Status?this.dialog.alert("Sorry,Inward is under process. You can't Delete....!!!"):53==t.rowData.Status?this.dialog.alert("Sorry,Outward already generated.You can't Delete....!!!"):54==t.rowData.Status&&this.dialog.alert("Sorry,Inward is already cancelled ....!!!")}else if("Edit"==String(t.actions)){const e=new s.uU("en-US").transform(t.rowData.InwardDate,"yyyy-MM-dd hh:mm:ss");51==t.rowData.Status?(this.api.post("/Inward/GetCustomerProducts?customerid="+t.rowData.CustomerID+"&warehouseid="+this.currentUser.warehouseId).subscribe(t=>{this.productList=t},t=>{console.error(t)}),this.GetStorageAreaList(),this.InData={InwardID:t.rowData.InwardID,CustomerID:0,Remarks:0,CreatedBy:0,serviceID:0,ProductID:0,CompanyId:0,WarehouseId:0,FinantialYearId:0,challan:0,StorageAreaMasterID:0,FinancialYear:""},this.api.post("/Inward/GetInwardDetailsByID",this.InData).subscribe(r=>{this.InwardDetailList=r.Table,this.InwardshowStorageArea=r.Table1,this.InwardTransportList=r.Table2,this.InwardchargesList=r.Table3,this.InwardID=t.rowData.InwardID,this.InwardTransportID=0,this.ReceiptNo=t.rowData.ReceiptNo,this.InwardTransportList.filter((t,e,r)=>r.findIndex(e=>e.TruckNo===t.TruckNo)===e).forEach(t=>{this.InwardTransportID=this.InwardTransportID+1,this.TransportList.push({InwardTransportID:this.InwardTransportID,TransporterName:null==t.TransporterName?"A":t.TransporterName,TruckNo:null==t.TruckNo?"B":t.TruckNo,ContainerNo:null==t.ContainerNo?"C":t.ContainerNo})}),this.TransportList.slice(),this.form.setValue({customer_id:null==t.rowData.CustomerID?"":t.rowData.CustomerID,dock_name:t.rowData.DocID,challan_no:0,inward_date:e,unloading_by:t.rowData.UnLoadingBy,custremarks:t.rowData.Remarks,transportername:null==this.InwardTransportList[0].TransporterName?"":this.InwardTransportList[0].TransporterName,truckno:null==this.InwardTransportList[0].TruckNo?"":this.InwardTransportList[0].TruckNo,container_no:null==this.InwardTransportList[0].TruckNo?"":this.InwardTransportList[0].TruckNo,selflife:"0",product_id:0,brand_id:0,packetcount:0,quantity:0,service_id:0,mgfdate:null,expdate:null,labourcontractor_id:0,lot_no:this.CurrentLotNo,remarks:"",country:"",allocatedQty:0})},t=>{console.error(t)}),this.tab=0):52==t.rowData.Status||0==t.rowData.Status?this.dialog.alert("Sorry,Inward is under process. You can't edit ....!!!"):53==t.rowData.Status?this.dialog.alert("Sorry,Outward already generated.You can't edit ....!!!"):54==t.rowData.Status&&this.dialog.alert("Sorry,Inward is already cancelled ....!!!")}else"Print"==String(t.actions)&&this.api.get("/Inward/InwardReceipt?InwardID="+t.rowData.InwardID).subscribe(t=>{console.log("InwardReceipt=>",t);var e=t[0].Base64Str;let r=window.open("");null==r||r.document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(e)+"'></iframe>")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.qu),c.Y36(l.sM),c.Y36(u.cP),c.Y36(m.FF),c.Y36(c.SBq))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-inward"]],decls:213,vars:50,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],["animationDuration","1ms",3,"selectedIndex","selectedIndexChange"],["label","Inward"],[3,"formGroup"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-6","col-md-6"],[1,"form-group"],["formControlName","customer_id","id","customer_id",1,"form-control","form-control-sm",3,"change"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","customer_id_error"],[1,"col-sm-2","col-md-2"],["type","text","formControlName","challan_no","id","challan_no","autocomplete","off",1,"form-control","form-control-sm",3,"ngClass"],[1,"btn","btn-secondary","btn-sm",2,"width","100% !important","margin-top","20px !important",3,"click"],[1,"col-sm-6","col-md-3"],["formControlName","dock_name","id","dock_name",1,"form-control","form-control-sm"],["type","datetime-local","formControlName","inward_date","id","inward_date","placeholder","yyyy-MM-dd","name","inward_date",1,"form-control","form-control-rounded",3,"ngModel"],["formControlName","unloading_by","id","unloading_by",1,"form-control","form-control-sm"],["formControlName","custremarks","id","custremarks",1,"form-control","form-control-sm"],[1,"col-12"],[1,"font-weight-bold"],[1,"row"],[1,"col"],["type","text","formControlName","transportername","id","transportername","placeholder","","autocomplete","on",1,"form-control","form-control-sm"],["type","text","formControlName","truckno","id","truckno","placeholder","","autocomplete","on",1,"form-control","form-control-sm"],["type","text","formControlName","container_no","id","container_no","placeholder","","autocomplete","on",1,"form-control","form-control-sm"],[1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"click"],[1,"col-9"],[1,"col-sm-6","col-md-4"],["formControlName","product_id","id","product_id",1,"form-control","form-control-sm",3,"change"],["formControlName","brand_id","id","brand_id",1,"form-control","form-control-sm",3,"change"],["formControlName","packetcount","id","packetcount",1,"form-control","form-control-sm"],["type","text","formControlName","quantity","id","quantity","autocomplete","off","placeholder","","required","",1,"form-control","form-control-sm"],["formControlName","service_id","id","service_id",1,"form-control","form-control-sm",3,"change"],["disabled","",3,"ngValue"],["type","text","formControlName","selflife","id","selflife","placeholder","",1,"form-control","form-control-sm"],["type","date","formControlName","mgfdate","id","mgfdate","placeholder","",1,"form-control","form-control-sm"],["type","date","formControlName","expdate","id","expdate","placeholder","",1,"form-control","form-control-sm"],["formControlName","labourcontractor_id","id","labourcontractor_id",1,"form-control","form-control-sm",3,"change"],["type","text","formControlName","lot_no","id","lot_no","placeholder","","readonly","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["formControlName","remarks","id","remarks",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","formControlName","country","id","country","placeholder","","autocomplete","off",1,"form-control","form-control-sm"],[1,"col-3"],[1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"id","disabled","click"],["id","BtnStorageArea",1,"btn","btn-secondary","btn-sm",2,"width","100px !important","margin-top","20px !important",3,"click"],[1,"btn","btn-secondary","btn-sm",2,"width","100px !important","margin-top","20px !important"],[1,"btn","btn-secondary","btn-sm",2,"width","105px !important","margin-top","20px !important"],[1,"card"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs"],["StorageAreacontent",""],["CustomerContactcontent",""],["style","width:620px;"],["TranspoterDetailcontent",""],[3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","dblclick"],["gridlist",""],[1,"col-md-6"],[1,"btn","btn-secondary","btn-sm",2,"width","85px !important",3,"disabled","click"],[1,"btn","btn-secondary","btn-sm",2,"width","85px !important",3,"click"],["label","Inward List"],[2,"height","100%","box-sizing","border-box"],[1,"ag-theme-alpine",2,"height","450px",3,"rowData","columnDefs","frameworkComponents"],[3,"value"],[3,"ngValue"],[1,"modal-header"],["id","modal-basic-title"],[1,"col-6"],["formControlName","quantity","id","quantity","readonly","",2,"width","50%"],["formControlName","allocatedQty","id","allocatedQty","readonly","",2,"width","50%"],[1,"modal-body"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs","cellValueChanged"],["LocationGrid",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-info",3,"click"],["rowSelection","multiple",1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs","groupIncludeTotalFooter"],["type","button",1,"btn","btn-secondary","btn-lg",3,"click"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs","rowClicked"],[1,"modalfooter"],["type","button",1,"btn","btn-danger",2,"float","left","width","60px",3,"click"],["type","button",1,"btn","btn-info",2,"float","right","width","100px",3,"click"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-tab-group",2),c.NdJ("selectedIndexChange",function(t){return e.tabInwardchange(t)})("selectedIndexChange",function(t){return e.tab=t}),c.TgZ(4,"mat-tab",3),c.TgZ(5,"form",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"label"),c._uU(11,"Customer Name"),c.qZA(),c.TgZ(12,"select",9),c.NdJ("change",function(t){return e.GetCustomerID(t)}),c.TgZ(13,"option",10),c._uU(14,"Select"),c.qZA(),c.YNc(15,v,2,2,"option",11),c.qZA(),c._UZ(16,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(17,"div",13),c.TgZ(18,"div",8),c.TgZ(19,"label"),c._uU(20,"Challan No."),c.qZA(),c._UZ(21,"input",14),c.qZA(),c.qZA(),c.TgZ(22,"div",13),c.TgZ(23,"div",8),c.TgZ(24,"button",15),c.NdJ("click",function(){return e.OnApplyClick(e.f.customer_id.value,e.f.challan_no.value)}),c._uU(25," Apply "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",13),c.TgZ(27,"div",8),c.TgZ(28,"button",15),c.NdJ("click",function(){c.CHM(t);const r=c.MAs(193);return e.onCustomerContact(r)}),c._uU(29," Contact "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(30,"div",16),c.TgZ(31,"div",8),c.TgZ(32,"label"),c._uU(33,"Dock Name"),c.qZA(),c.TgZ(34,"select",17),c.TgZ(35,"option",10),c._uU(36,"Select "),c.qZA(),c.YNc(37,T,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"div",16),c.TgZ(39,"div",8),c.TgZ(40,"label"),c._uU(41,"Inward Date"),c.qZA(),c._UZ(42,"input",18),c.ALo(43,"date"),c.qZA(),c.qZA(),c.TgZ(44,"div",16),c.TgZ(45,"div",8),c.TgZ(46,"label"),c._uU(47,"Unloading By"),c.qZA(),c.TgZ(48,"select",19),c.TgZ(49,"option",10),c._uU(50,"Select "),c.qZA(),c.YNc(51,b,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(52,"div",16),c.TgZ(53,"div",8),c.TgZ(54,"label"),c._uU(55,"Remarks"),c.qZA(),c.TgZ(56,"select",20),c.TgZ(57,"option",10),c._uU(58,"Select "),c.qZA(),c.YNc(59,y,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(60,"hr"),c.TgZ(61,"div",21),c.TgZ(62,"p",22),c._uU(63,"Transporter Details "),c.qZA(),c.TgZ(64,"div",23),c.TgZ(65,"div",24),c.TgZ(66,"div",23),c.TgZ(67,"div",16),c.TgZ(68,"div",8),c.TgZ(69,"label"),c._uU(70,"Transporter Name"),c.qZA(),c._UZ(71,"input",25),c.qZA(),c.qZA(),c.TgZ(72,"div",16),c.TgZ(73,"div",8),c.TgZ(74,"label"),c._uU(75,"Truck No"),c.qZA(),c._UZ(76,"input",26),c.qZA(),c.qZA(),c.TgZ(77,"div",16),c.TgZ(78,"div",8),c.TgZ(79,"label"),c._uU(80,"Container No"),c.qZA(),c._UZ(81,"input",27),c.qZA(),c.qZA(),c.TgZ(82,"div",16),c.TgZ(83,"div",8),c.TgZ(84,"button",28),c.NdJ("click",function(){c.CHM(t);const r=c.MAs(195);return e.OnTransportAdd(r)}),c._uU(85," Add "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(86,"hr"),c.TgZ(87,"div",21),c.TgZ(88,"p",22),c._uU(89," Inward Details "),c.qZA(),c.TgZ(90,"div",23),c.TgZ(91,"div",29),c.TgZ(92,"div",23),c.TgZ(93,"div",30),c.TgZ(94,"div",8),c.TgZ(95,"label"),c._uU(96,"Product Name"),c.qZA(),c.TgZ(97,"select",31),c.NdJ("change",function(t){return e.OnProductSelect(t)}),c.TgZ(98,"option",10),c._uU(99,"Select "),c.qZA(),c.YNc(100,C,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(101,"div",30),c.TgZ(102,"div",8),c.TgZ(103,"label"),c._uU(104,"Brand Name "),c.qZA(),c.TgZ(105,"select",32),c.NdJ("change",function(t){return e.OnBrandSelect(t)}),c.TgZ(106,"option",10),c._uU(107,"Select "),c.qZA(),c.YNc(108,N,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(109,"div",30),c.TgZ(110,"div",8),c.TgZ(111,"label"),c._uU(112,"Count In Packet"),c.qZA(),c.TgZ(113,"select",33),c.TgZ(114,"option",10),c._uU(115,"Select "),c.qZA(),c.YNc(116,A,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(117,"div",30),c.TgZ(118,"div",8),c.TgZ(119,"label"),c._uU(120,"Quantity"),c.qZA(),c._UZ(121,"input",34),c.qZA(),c.qZA(),c.TgZ(122,"div",30),c.TgZ(123,"div",8),c.TgZ(124,"label"),c._uU(125,"Service Type"),c.qZA(),c.TgZ(126,"select",35),c.NdJ("change",function(t){return e.OnServiceSelect(t)}),c.TgZ(127,"option",36),c._uU(128,"Select "),c.qZA(),c.YNc(129,w,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(130,"div",30),c.TgZ(131,"div",8),c.TgZ(132,"label"),c._uU(133,"Self Life"),c.qZA(),c._UZ(134,"input",37),c.qZA(),c.qZA(),c.TgZ(135,"div",30),c.TgZ(136,"div",8),c.TgZ(137,"label"),c._uU(138,"Mfg Date"),c.qZA(),c._UZ(139,"input",38),c.qZA(),c.qZA(),c.TgZ(140,"div",30),c.TgZ(141,"div",8),c.TgZ(142,"label"),c._uU(143,"Expiry Date"),c.qZA(),c._UZ(144,"input",39),c.qZA(),c.qZA(),c.TgZ(145,"div",30),c.TgZ(146,"div",8),c.TgZ(147,"label"),c._uU(148,"Labour Contracter"),c.qZA(),c.TgZ(149,"select",40),c.NdJ("change",function(t){return e.OnLabourSelect(t)}),c.TgZ(150,"option",36),c._uU(151,"Select "),c.qZA(),c.YNc(152,x,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(153,"div",30),c.TgZ(154,"div",8),c.TgZ(155,"label"),c._uU(156,"Lot No"),c.qZA(),c.TgZ(157,"input",41),c.NdJ("ngModelChange",function(t){return e.CurrentLotNo=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(158,"div",30),c.TgZ(159,"div",8),c.TgZ(160,"label"),c._uU(161,"Remarks"),c.qZA(),c.TgZ(162,"select",42),c.TgZ(163,"option",36),c._uU(164,"Select "),c.qZA(),c.YNc(165,q,2,2,"option",43),c.qZA(),c.qZA(),c.qZA(),c.TgZ(166,"div",30),c.TgZ(167,"div",8),c.TgZ(168,"label"),c._uU(169,"Country"),c.qZA(),c._UZ(170,"input",44),c.qZA(),c.qZA(),c.TgZ(171,"div",45),c.TgZ(172,"div",8),c.TgZ(173,"button",46),c.NdJ("click",function(){return e.OnAddClick()}),c._uU(174," Add "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(175,"div",45),c.TgZ(176,"div",8),c.TgZ(177,"button",47),c.NdJ("click",function(){c.CHM(t);const r=c.MAs(191);return e.openStorageArea(r)}),c._uU(178," Storage Area "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(179,"div",45),c.TgZ(180,"div",8),c.TgZ(181,"button",48),c._uU(182," Label Print "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(183,"div",45),c.TgZ(184,"div",8),c.TgZ(185,"button",49),c._uU(186," Receipt Print "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(187,"div",45),c.TgZ(188,"div",50),c._UZ(189,"ag-grid-angular",51),c.qZA(),c.qZA(),c.qZA(),c.YNc(190,L,21,2,"ng-template",null,52,c.W1O),c.YNc(192,S,8,3,"ng-template",null,53,c.W1O),c.YNc(194,_,12,2,"ng-template",54,55,c.W1O),c.qZA(),c._UZ(196,"hr"),c.TgZ(197,"div",21),c.TgZ(198,"p",22),c._uU(199," Inward Details List "),c.qZA(),c.TgZ(200,"mtx-grid",56,57),c.NdJ("dblclick",function(r){c.CHM(t);const i=c.MAs(201);return e.onRowDblclicked(i,r)}),c.qZA(),c.qZA(),c._UZ(202,"hr"),c.TgZ(203,"div",23),c.TgZ(204,"div",58),c.TgZ(205,"button",59),c.NdJ("click",function(){return e.OnSaveinward()}),c._uU(206,"Save"),c.qZA(),c.qZA(),c.TgZ(207,"div",58),c.TgZ(208,"button",60),c.NdJ("click",function(){return e.OnResetInward()}),c._uU(209,"Reset"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(210,"mat-tab",61),c.TgZ(211,"div",62),c._UZ(212,"ag-grid-angular",63),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&t&&(c.xp6(3),c.Q6J("selectedIndex",e.tab),c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(10),c.Q6J("ngForOf",e.customerList),c.xp6(6),c.Q6J("ngClass",c.VKq(47,k,e.submitted&&e.f.challan_no.errors)),c.xp6(16),c.Q6J("ngForOf",e.dockList),c.xp6(5),c.Q6J("ngModel",c.xi3(43,44,e.todayDate,"yyyy-MM-dd hh:mm:ss")),c.xp6(9),c.Q6J("ngForOf",e.unloadingList),c.xp6(8),c.Q6J("ngForOf",e.remarkList),c.xp6(41),c.Q6J("ngForOf",e.productList),c.xp6(8),c.Q6J("ngForOf",e.brandList),c.xp6(8),c.Q6J("ngForOf",e.packateCountList),c.xp6(11),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.serviceTypeList),c.xp6(21),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.labourContractorList),c.xp6(5),c.Q6J("ngModel",e.CurrentLotNo),c.xp6(6),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.remarkList),c.xp6(8),c.Q6J("id",e.OnAddClick)("disabled",e.OnAddProductClick),c.xp6(16),c.Q6J("rowData",e.inwardservicelist)("columnDefs",e.serviceColumns),c.xp6(11),c.Q6J("data",e.InwardDetailList)("columns",e.InwardDetailColumns)("loading",!1)("columnResizable",!0)("multiSelectable",!1)("rowSelectable",!1)("hideRowSelectionCheckbox",!1)("rowHover",!0)("rowStriped",!1)("showToolbar",!1)("toolbarTitle","Detail List")("columnHideable",!1)("columnMovable",!0)("expandable",!1)("pageOnFront",!0)("showPaginator",!1)("pageSizeOptions",c.DdM(49,O))("pageIndex",0),c.xp6(5),c.Q6J("disabled",e.click),c.xp6(7),c.Q6J("rowData",e.InwardList)("columnDefs",e.columnsInwardList)("frameworkComponents",e.frameworkComponents))},directives:[h.xw,h.yH,f.a8,g.SP,g.uX,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,s.sg,D.TO,n.Fj,s.mk,p.oO,n.Q7,Z.N8,I.CM],pipes:[s.uU],styles:[".mtx-grid[_ngcontent-%COMP%]{height:280px}input.ng-invalid[_ngcontent-%COMP%]:focus{outline-color:red}.ng-deep[_ngcontent-%COMP%]   #gridContainer[_ngcontent-%COMP%]{height:440px}.ng-deep[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{padding:20px;margin-top:20px;background-color:rgba(191,191,191,.15)}.ng-deep[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.ng-deep[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin-top:10px}.ng-deep[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:10px}.ng-deep[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > .dx-selectbox[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.modalfooter[_ngcontent-%COMP%]{flex-wrap:wrap;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}"]}),t})();r(52107);let F=(()=>{class t{constructor(){this.label=""}agInit(t){this.params=t,this.label=this.params.label||null}refresh(t){return!0}onClick(t,e){this.params.onClick instanceof Function&&this.params.onClick({event:t,rowData:this.params.node.data,actions:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-deliveryorderaction-buttons"]],decls:7,vars:0,consts:[[1,"input-group"],["type","button",1,"btn","btn-secondary","btn-sm","btn-space",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c.NdJ("click",function(t){return e.onClick(t,"Edit")}),c._uU(2,"Edit"),c.qZA(),c.TgZ(3,"button",1),c.NdJ("click",function(t){return e.onClick(t,"Delete")}),c._uU(4,"Delete"),c.qZA(),c.TgZ(5,"button",2),c.NdJ("click",function(t){return e.onClick(t,"Print")}),c._uU(6,"Print"),c.qZA(),c.qZA())},styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5%}"]}),t})();function P(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function B(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.PartyName),c.xp6(1),c.Oqu(t.PartyName)}}function Q(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerPartyID),c.xp6(1),c.Oqu(t.PartyName)}}function R(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerContactID),c.xp6(1),c.Oqu(t.ContactPersonName)}}function J(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.Remarks),c.xp6(1),c.Oqu(t.Remarks)}}function M(t,e){if(1&t&&(c.TgZ(0,"option",59),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function Y(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",47),c.TgZ(1,"h4",48),c._uU(2,"Customer Parties"),c.qZA(),c.qZA(),c.TgZ(3,"div",49),c.TgZ(4,"div",39),c.TgZ(5,"div",50),c.TgZ(6,"div",8),c.TgZ(7,"label"),c._uU(8,"Customer Name"),c.qZA(),c.TgZ(9,"select",51),c.YNc(10,M,2,2,"option",52),c.qZA(),c.qZA(),c.TgZ(11,"div",50),c.TgZ(12,"div",8),c.TgZ(13,"label"),c._uU(14,"Party Name"),c.qZA(),c._UZ(15,"input",53),c.qZA(),c.qZA(),c.TgZ(16,"div",50),c.TgZ(17,"div",8),c.TgZ(18,"label"),c._uU(19,"Shipping Address"),c.qZA(),c._UZ(20,"input",54),c.qZA(),c.qZA(),c.TgZ(21,"div",50),c.TgZ(22,"div",8),c.TgZ(23,"label"),c._uU(24,"Shipping Address2"),c.qZA(),c._UZ(25,"input",55),c.qZA(),c.qZA(),c.TgZ(26,"div",50),c.TgZ(27,"div",8),c.TgZ(28,"label"),c._uU(29,"Pin Code"),c.qZA(),c._UZ(30,"input",56),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"div",57),c.TgZ(32,"button",58),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),r=c.MAs(95);return e.onAddCustomerParty(r)}),c._uU(33,"ADD"),c.qZA(),c.TgZ(34,"button",58),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),r=c.MAs(95);return e.onCloseCustpmerParty(r)}),c._uU(35,"Cancel"),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(10),c.Q6J("ngForOf",t.customerList)}}let E=(()=>{class t{constructor(t,e,r,i){this.api=t,this.fb=e,this.modalService=r,this.dialog=i,this.OrderGivenByList=[],this.DeliveryOrdersearchList=[],this.DO_Detail=[],this.checkCust=!1,this.SaveCustomerParty={},this.SaveDeliveryOrder={},this.clickSave=!1,this.DeliveryOrderID=0,this.config={backdrop:!1,ignoreBackdropClick:!0},this.tab=0,this.DeliveryOrdercolumnDefs=[{headerName:"DeliveryOrderID",field:"DeliveryOrderID",hide:!0},{headerName:"InwardDID",field:"InwardDID",hide:!0},{headerName:"InwardLocationID",field:"InwardLocationID",hide:!0},{headerName:"StorageAreaID",field:"StorageAreaID",hide:!0},{headerName:"ProductID",field:"ProductID",hide:!0},{headerName:"ProductName",field:"ProductName",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"LotNo",field:"LotNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},resizable:!0},{headerName:"FirstLotNo",field:"FirstLotNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"StorageAreaName",field:"StorageAreaName",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"InQuantity",field:"InQuantity",hide:!1,filter:"agNumberColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"PendingDO",field:"PendingDO",hide:!1,filter:"agNumberColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"OutQuantity",field:"OutQuantity",hide:!1,filter:"agNumberColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"BalanceQuantity",field:"BalanceQuantity",hide:!1,filter:"agNumberColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"DOQuantity",field:"DOQuantity",hide:!1,cellEditorPopup:!0,sort:"desc",filter:"agNumberColumnFilter",floatingFilter:!0,valueParser:"Number(newValue)",editable:!0,cellStyle:t=>t.value>0?{color:"white",backgroundColor:"#FF0000"}:{color:"black",backgroundColor:"#98FB98"}},{headerName:"BrandID",field:"BrandID",hide:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"BrandName",field:"BrandName",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"ItemsInPacket",field:"ItemsInPacket",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200},{headerName:"Remarks",field:"Remarks",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0,cellStyle:{fontSize:"12px"},width:200}],this.columnsDeliveryOrderList=[{headerName:"Action",floatingFilter:!1,maxWidth:200,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.OnDeliveryOrderActions.bind(this)}},{headerName:"DeliveryOrderID",field:"DeliveryOrderID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerID",field:"CustomerID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DO No",maxWidth:100,field:"DeliveryOrderNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DO Date",resizable:!0,field:"DeliveryOrderDate",type:"date",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerName",field:"CustomerName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliverTo",field:"DeliverTo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusID",field:"StatusID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Status",field:"Status",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CreatedBy",field:"CreatedBy",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Process",field:"Process",resizable:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerPartyID",field:"CustomerPartyID",resizable:!0,hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ContainerNo",field:"ContainerNo",resizable:!0,hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TruckNo",field:"TruckNo",resizable:!0,hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OrderGivenBy",field:"OrderGivenBy",resizable:!0,hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ShippingAddress",field:"ShippingAddress",resizable:!0,hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"WareHouseID",field:"WareHouseID",resizable:!0,hide:!0,filter:"agTextColumnFilter",floatingFilter:!0}],this.currentUser=this.api.getCurrentUser(),this.form=this.fb.group({customer_id:[null,n.kI.required],chk_Do_Disptch:[null,n.kI.required],deliveryorder_date:[null,n.kI.required],customerParty_id:[null,n.kI.required],DeliveryParty_id:[null,n.kI.required],txtDO_No:[null,n.kI.required],txtShipping_Address:[null,n.kI.required],txtTruckNo:[null,n.kI.required],txtContainerNo:[null,n.kI.required],OrderGivenBy_id:[null,n.kI.required],DORemarks:[null,n.kI.required],Party_customer_id:[null,n.kI.required],txtPartyName:[null,n.kI.required],txtshiffadd1:[null,n.kI.required],txtshiffadd2:[null,n.kI.required],txtPinCode:[null,n.kI.required],txtMobileNo:[null,n.kI.required],txtTotalDOQty:[null,n.kI.required]});const o=new s.uU("en-US").transform(Date(),"yyyy-MM-dd");this.todayDate=o,this.frameworkComponents={buttonRenderer:F}}ngOnInit(){this.BindDropdown()}BindDropdown(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.get("/Customer").subscribe(t=>{this.customerList=t},t=>{console.error(t)}),this.api.get("/CustomerParty").subscribe(t=>{this.customePartyList=t},t=>{console.error(t)}),this.api.get("/Remarks").subscribe(t=>{this.remarkList=t.filter(t=>2==t.ProcessID)},t=>{console.error(t)}),this.BindDeliveryOrderList()})}getRowStyle(t){if(13==t.data.StatusID)return{"background-color":"pink"}}BindDeliveryOrderList(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.get("/DeliveryOrder/DOList?FinancialYearID="+this.currentUser.FinantialYearId+"&WareHouseID="+this.currentUser.warehouseId+"&UserID="+this.currentUser.userId).subscribe(t=>{this.DeliveryOrderList=t},t=>{console.error(t)})})}tabDeliveryOrderchange(t){this.tab=t,this.BindDeliveryOrderList()}BindOrderGIvenBy(t=0){this.api.get("/CustomerContacts/GetCustomerContactsList?CustomerID="+t).subscribe(t=>{this.OrderGivenByList=[],this.OrderGivenByList=t},t=>{console.error(t)})}GetCustomerID(t){this.checkCust=!1,this.BindOrderGIvenBy(this.form.value.customer_id),this.api.get("/DeliveryOrder/DOValidation?CustomerID="+this.form.value.customer_id+"&WaherhouseID="+this.currentUser.warehouseId).subscribe(t=>{t.Table.length>0&&(this.checkCust=!0,this.dialog.alert("Order is stopped for some reason .... !!!"))},t=>{console.error(t)})}OnSearchClick(){var t;null==this.form.value.customer_id?(this.dialog.alert("Select Customers ....."),null===(t=null==document?void 0:document.getElementById("customer_id"))||void 0===t||t.focus()):this.api.post("/DeliveryOrder/DOSearch?CustomerID="+this.form.value.customer_id+"&WarehouseID="+this.currentUser.warehouseId).subscribe(t=>{this.DeliveryOrdersearchList=t,0==t.length&&this.dialog.alert("Data not found ..... !!!")},t=>{console.error(t)})}onDOCellKeyPress(t){t.data.BalanceQuantity>t.data.DOQuantity?this.onDOSearchGridRefresh():t.data.BalanceQuantity==t.data.DOQuantity?(this.dialog.alert(t.data.ProductName+" And Lot no "+t.data.LotNo+", Stock will be null or zero ...!!!"),this.onDOSearchGridRefresh()):t.data.BalanceQuantity<t.data.DOQuantity&&(this.DeliveryOrdersearchList.forEach(e=>{e.InwardLocationID==t.data.InwardLocationID&&(e.DOQuantity=0)}),this.dialog.alert("DO Quantity must be less than or equal to balance quantity ..!!!"),this.onDOSearchGridRefresh())}onDOSearchGridRefresh(){let t=this.DeliveryOrdersearchList.filter(t=>t);this.DeliveryOrdersearchList=t;var e=this.DeliveryOrdersearchList.map(t=>t.DOQuantity).reduce((t,e)=>e+t);this.form.controls.txtTotalDOQty.setValue(e)}onCustomerPartyContact(t){var e;null==this.form.value.customer_id||0==this.form.value.customer_id?(this.dialog.alert("Select Customers ....."),null===(e=null==document?void 0:document.getElementById("customer_id"))||void 0===e||e.focus()):(this.form.controls.Party_customer_id.setValue(this.form.value.customer_id),this.modalService.open(t,this.config))}onCloseCustpmerParty(t){this.modalService.dismissAll(t)}onAddCustomerParty(t){var e,r;null==this.form.value.Party_customer_id||0==this.form.value.Party_customer_id?(this.dialog.alert("Select Customers ....."),null===(e=null==document?void 0:document.getElementById("Party_customer_id"))||void 0===e||e.focus()):null==this.form.value.txtPartyName||0==this.form.value.txtPartyName?(this.dialog.alert("Enter Customer Party Name ..... !!!"),null===(r=null==document?void 0:document.getElementById("txtPartyName"))||void 0===r||r.focus()):(this.SaveCustomerParty={CustomerID:this.form.value.customer_id,PartyName:null==this.form.value.txtPartyName?"":this.form.value.txtPartyName,ShippingAddress:null==this.form.value.txtshiffadd1?"":this.form.value.txtshiffadd1,ShippingAddress1:null==this.form.value.txtshiffadd2?"":this.form.value.txtshiffadd2,PinCode:null==this.form.value.txtPinCode?"":this.form.value.txtPinCode,CreatedBy:this.currentUser.userId},console.log(this.SaveCustomerParty),this.api.post("/DeliveryOrder/AddParty",this.SaveCustomerParty).subscribe(e=>{this.dialog.alert(e.Table[0].Message),this.form.controls.txtPartyName.reset(),this.form.controls.txtshiffadd1.reset(),this.form.controls.txtshiffadd2.reset(),this.form.controls.txtPinCode.reset(),this.modalService.dismissAll(t)},t=>{console.error(t)}),this.api.get("/CustomerParty").subscribe(t=>{this.customePartyList=t},t=>{console.error(t)}))}GetMobileNo(t){const e=this.OrderGivenByList.filter(t=>t.CustomerContactID==this.form.value.OrderGivenBy_id);this.form.controls.txtMobileNo.setValue(e[0].MobileNo),console.log(e[0].MobileNo)}onSaveDeliveryOrder(){var t,e;if(null==this.form.value.customer_id||""==this.form.value.customer_id)return this.dialog.alert("Please .... Select Customer Name"),void(null===(t=null==document?void 0:document.getElementById("customer_id"))||void 0===t||t.focus());this.api.get("/DeliveryOrder/DOValidation?CustomerID="+this.form.value.customer_id+"&WaherhouseID="+this.currentUser.warehouseId).subscribe(t=>{var r,i;if(t.Table.length>0)this.checkCust=!0,this.dialog.alert("Order is stopped for some reason .... !!!");else{if(e=this.DeliveryOrdersearchList.length>0?this.DeliveryOrdersearchList.map(t=>t.DOQuantity).reduce((t,e)=>e+t):0,null==this.form.value.customerParty_id||""==this.form.value.customerParty_id)return this.dialog.alert("Please .... Select customer Party"),void(null===(r=null==document?void 0:document.getElementById("customerParty_id"))||void 0===r||r.focus());if(null==this.form.value.OrderGivenBy_id||""==this.form.value.OrderGivenBy_id)return this.dialog.alert("Please .... Select Order Given By"),void(null===(i=null==document?void 0:document.getElementById("OrderGivenBy_id"))||void 0===i||i.focus());if(e<=0)return void this.dialog.alert("Please .... Add DO quantity In delivery order detail ");{this.clickSave=!0;const t=this.OrderGivenByList.filter(t=>t.CustomerContactID==this.form.value.OrderGivenBy_id);let e;e=t.length>0?t[0].ContactPersonName:"",this.DeliveryOrdersearchList.filter(t=>t.DOQuantity>0).forEach(t=>{this.DO_Detail.push({DeliveryOrderID:this.DeliveryOrderID,ProductID:t.ProductID,InwardDID:t.InwardDID,LotNo:t.LotNo,DOQuantity:t.DOQuantity,InwardLocationID:t.InwardLocationID,StorageAreaID:t.StorageAreaID})}),this.DO_Detail.slice(),this.SaveDeliveryOrder={DeliveryOrderID:this.DeliveryOrderID,DeliveryOrderDate:this.form.value.deliveryorder_date,CustomerID:this.form.value.customer_id,WareHouseID:this.currentUser.warehouseId,CompanyID:this.currentUser.companyId,DeliverTo:this.form.value.customerParty_id,CustomerPartyID:null==this.form.value.DeliveryParty_id?0:this.form.value.DeliveryParty_id,ShippingAddress:null==this.form.value.txtShipping_Address?"":this.form.value.txtShipping_Address,OrderGivenBy:e,Remarks:null==this.form.value.DORemarks?"":this.form.value.DORemarks,CreatedBy:this.currentUser.userId,ByCustomer:0,IsDoDispatch:null!=this.form.value.chk_Do_Disptch&&this.form.value.chk_Do_Disptch,TruckNo:null==this.form.value.txtTruckNo?"":this.form.value.txtTruckNo,ContainerNo:null==this.form.value.txtContainerNo?"":this.form.value.txtContainerNo,DeliveryOrderDetailModel:this.DO_Detail},this.api.post("/DeliveryOrder/SaveDO",this.SaveDeliveryOrder).subscribe(t=>{this.dialog.alert(t.Table[0].Message)},t=>{console.error(t),this.clickSave=!1}),console.log(this.SaveDeliveryOrder)}}},t=>{console.error(t)})}onResetDeliveryOrder(){this.clickSave=!1,this.checkCust=!1,this.form.reset(),this.BindDropdown(),this.DeliveryOrderID=0;const t=new s.uU("en-US").transform(Date(),"yyyy-MM-dd");this.todayDate=t,this.form.controls.deliveryorder_date.setValue(this.todayDate),this.DeliveryOrdersearchList=[],this.DO_Detail=[],this.SaveDeliveryOrder={}}OnDeliveryOrderActions(t){"Delete"==String(t.actions)?this.api.get("/DeliveryOrder/DOValidation?CustomerID="+t.rowData.CustomerID+"&WaherhouseID="+t.rowData.WareHouseID).subscribe(e=>{if(e.Table.length>0)this.checkCust=!0,this.dialog.alert("Order is stopped for some reason .... !!!");else if(11==t.rowData.StatusID)this.dialog.alert("Sorry,Outward already generated ....!!!");else if(15==t.rowData.StatusID)this.dialog.alert("Sorry,You already Cancelled this Delivery Order ....!!!");else if(13==t.rowData.StatusID)this.dialog.alert("Sorry,You already Cancelled this Delivery Order ....!!!");else if(12==t.rowData.StatusID){if(1==confirm("Sorry,this translation have dispatch. Do you want to deleted or deactivate your translation ...")){let e=prompt("Remarks ");this.api.post("/DeliveryOrder/PartiallyCancelled?DeliveryOrderID="+t.rowData.DeliveryOrderID+"&CustomerId="+t.rowData.CustomerID+"&Remarks="+e+"&CreatedBy="+this.currentUser.userId).subscribe(t=>{this.dialog.alert(t),this.BindDeliveryOrderList()},t=>{console.error(t)})}}else 1==confirm("Do you want to deleted or deactivate your Delivery Order ...??")&&(prompt("Remarks"),this.api.post("/DeliveryOrder/CancelledDO?DeliveryOrderID="+t.rowData.DeliveryOrderID+"&CustomerId="+t.rowData.CustomerID+"&Remarks=test&CreatedBy="+this.currentUser.userId).subscribe(t=>{this.dialog.alert(t),this.BindDeliveryOrderList()},t=>{console.error(t)}))},t=>{console.error(t)}):"Edit"==String(t.actions)?(this.onResetDeliveryOrder(),this.api.get("/DeliveryOrder/DOValidation?CustomerID="+t.rowData.CustomerID+"&WaherhouseID="+t.rowData.WareHouseID).subscribe(e=>{e.Table.length>0?(this.checkCust=!0,this.dialog.alert("Order is stopped for some reason .... !!!")):11==t.rowData.StatusID?this.dialog.alert("Sorry,Outward already generated ....!!!"):12==t.rowData.StatusID?this.dialog.alert("Sorry,Dispatch already generated ....!!!"):13==t.rowData.StatusID?this.dialog.alert("Sorry,You can't edit this transaction ,because it's already Cancelled or deactivate ....!!!"):15==t.rowData.StatusID?this.dialog.alert("Sorry,You already Cancelled this Delivery Order ....!!!"):"Online"==t.rowData.Process?this.dialog.alert("Sorry,You can't edit because its generated by customer....!!!"):this.api.get("/DeliveryOrder/GetEditDelivryOrder?DeliveryOrderID="+t.rowData.DeliveryOrderID).subscribe(e=>{this.tab=0,this.DeliveryOrdersearchList=e.Table1,this.DeliveryOrderID=t.rowData.DeliveryOrderID,this.onDOSearchGridRefresh();const r=new s.uU("en-US").transform(t.rowData.DeliveryOrderDate,"yyyy-MM-dd");this.BindOrderGIvenBy(t.rowData.CustomerID);var i=this.DeliveryOrdersearchList.map(t=>t.DOQuantity).reduce((t,e)=>e+t);const o=this.OrderGivenByList.filter(e=>e.ContactPersonName==t.rowData.OrderGivenBy);let a,n;o.length>0?(a=o[0].CustomerContactID,n=o[0].MobileNo,this.form.controls.txtMobileNo.setValue(o[0].MobileNo)):(a=0,n="",this.form.controls.txtMobileNo.setValue("")),this.form.setValue({customer_id:t.rowData.CustomerID,deliveryorder_date:r,chk_Do_Disptch:!1,customerParty_id:t.rowData.DeliverTo,DeliveryParty_id:t.rowData.CustomerPartyID,txtDO_No:t.rowData.DeliveryOrderNo,txtShipping_Address:t.rowData.ShippingAddress,txtTruckNo:t.rowData.TruckNo,txtContainerNo:t.rowData.ContainerNo,OrderGivenBy_id:a,DORemarks:t.rowData.Remarks,Party_customer_id:t.rowData.CustomerID,txtPartyName:"",txtshiffadd1:"",txtshiffadd2:"",txtPinCode:"",txtMobileNo:n,txtTotalDOQty:i})},t=>{console.error(t)})},t=>{console.error(t)})):"Print"==String(t.actions)&&this.api.get("/DeliveryOrder/DeliveryOrderReceipt?DeliveryOrderID="+t.rowData.DeliveryOrderID).subscribe(t=>{console.log("OnDeliveryOrderActions=>",t);var e=t[0].Base64Str;let r=window.open("");null==r||r.document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(e)+"'></iframe>")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.sM),c.Y36(n.qu),c.Y36(m.FF),c.Y36(u.cP))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-deliveryorder"]],decls:118,vars:19,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],["animationDuration","1ms",3,"selectedIndex","selectedIndexChange"],["label","Delivery Order"],[3,"formGroup"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-4","col-md-4"],[1,"form-group"],["formControlName","customer_id","id","customer_id",1,"form-control","form-control-sm",3,"change"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","customer_id_error"],[1,"col-sm-3","col-md-3"],["type","date","formControlName","deliveryorder_date","id","deliveryorder_date","placeholder","","name","deliveryorder_date",1,"form-control","form-control-rounded",3,"ngModel"],[1,"form-group","pt-4"],["type","button",1,"btn","btn-secondary","btn-block",3,"disabled","click"],[1,"col-sm-2","col-md-2"],["type","checkbox","formControlName","chk_Do_Disptch","id","chk_Do_Disptch",1,"form-control"],["formControlName","customerParty_id","id","customerParty_id",1,"form-control","form-control-sm"],["formControlName","DeliveryParty_id","id","DeliveryParty_id",1,"form-control","form-control-sm"],[1,"form-group","pt-3"],["type","button",1,"btn","btn-secondary","btn-block",3,"click"],["type","text","formControlName","txtDO_No","id","txtDO_No","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtShipping_Address","id","txtShipping_Address","placeholder","","autocomplete","off",1,"form-control","form-control-sm"],["type","text","formControlName","txtTruckNo","id","txtTruckNo","placeholder","","autocomplete","off",1,"form-control","form-control-sm"],["type","text","formControlName","txtContainerNo","id","txtContainerNo","placeholder","","autocomplete","off",1,"form-control","form-control-sm"],["formControlName","OrderGivenBy_id","id","OrderGivenBy_id",1,"form-control","form-control-sm",3,"change"],["type","text","formControlName","txtMobileNo","id","txtMobileNo","readonly","","placeholder","",1,"form-control","form-control-sm"],["formControlName","DORemarks","id","DORemarks",1,"form-control","form-control-sm"],["style","width:620px;"],["CustomerPartycontent",""],[1,"col-12"],[1,"font-weight-bold"],[1,"ag-theme-alpine",2,"height","500px","font-size","12px!important",3,"rowData","columnDefs","cellValueChanged"],[1,"row","mt-2"],[1,"col-sm-12"],[1,"form-group","float-right",2,"display","flex"],["type","text","formControlName","txtTotalDOQty","id","txtTotalDOQty","readonly","","placeholder","",1,"form-control","form-control-sm"],[1,"row"],[1,"col-sm-3","mt-1","mb-1"],["type","button",1,"btn","btn-secondary","btn-sm",2,"width","100%",3,"disabled","click"],["type","button",1,"btn","btn-secondary","btn-sm",2,"width","100%",3,"click"],["label","Delivery Order List"],[2,"height","100%","box-sizing","border-box"],[1,"ag-theme-alpine",2,"height","450px",3,"rowData","columnDefs","frameworkComponents","getRowStyle"],[3,"value"],[1,"modal-header"],["id","modal-basic-title"],[1,"modal-body"],[1,"col-sm-12","col-md-12"],["formControlName","Party_customer_id","id","Party_customer_id",1,"form-control","form-control-sm"],["disabled","",3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","txtPartyName","id","txtPartyName","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","txtshiffadd1","id","txtshiffadd1","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","txtshiffadd2","id","txtshiffadd2","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","txtPinCode","id","txtPinCode","placeholder","",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["disabled","",3,"value"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-tab-group",2),c.NdJ("selectedIndexChange",function(t){return e.tabDeliveryOrderchange(t)})("selectedIndexChange",function(t){return e.tab=t}),c.TgZ(4,"mat-tab",3),c.TgZ(5,"form",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"label"),c._uU(11,"Customer Name"),c.qZA(),c.TgZ(12,"select",9),c.NdJ("change",function(t){return e.GetCustomerID(t)}),c.TgZ(13,"option",10),c._uU(14,"Select"),c.qZA(),c.YNc(15,P,2,2,"option",11),c.qZA(),c._UZ(16,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(17,"div",13),c.TgZ(18,"div",8),c.TgZ(19,"label"),c._uU(20,"Delivery Order Date"),c.qZA(),c._UZ(21,"input",14),c.ALo(22,"date"),c.qZA(),c.qZA(),c.TgZ(23,"div",13),c.TgZ(24,"div",15),c.TgZ(25,"button",16),c.NdJ("click",function(){return e.OnSearchClick()}),c._uU(26,"Search"),c.qZA(),c._UZ(27,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(28,"div",17),c.TgZ(29,"div",8),c.TgZ(30,"label"),c._uU(31,"Do & Dispatch"),c.qZA(),c._UZ(32,"input",18),c.qZA(),c.qZA(),c.TgZ(33,"div",7),c.TgZ(34,"div",8),c.TgZ(35,"label"),c._uU(36,"Customer Party"),c.qZA(),c.TgZ(37,"select",19),c.TgZ(38,"option",10),c._uU(39,"Select"),c.qZA(),c.YNc(40,B,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(41,"div",13),c.TgZ(42,"div",8),c.TgZ(43,"label"),c._uU(44,"Delivery Party"),c.qZA(),c.TgZ(45,"select",20),c.TgZ(46,"option",10),c._uU(47,"Select"),c.qZA(),c.YNc(48,Q,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(49,"div",13),c.TgZ(50,"div",21),c.TgZ(51,"button",22),c.NdJ("click",function(){c.CHM(t);const r=c.MAs(95);return e.onCustomerPartyContact(r)}),c._uU(52,"ADD Party"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(53,"div",17),c.TgZ(54,"div",8),c.TgZ(55,"label"),c._uU(56,"DO No"),c.qZA(),c._UZ(57,"input",23),c.qZA(),c.qZA(),c.TgZ(58,"div",7),c.TgZ(59,"div",8),c.TgZ(60,"label"),c._uU(61,"Shipping Address"),c.qZA(),c._UZ(62,"input",24),c.qZA(),c.qZA(),c.TgZ(63,"div",7),c.TgZ(64,"div",8),c.TgZ(65,"label"),c._uU(66,"Truck No"),c.qZA(),c._UZ(67,"input",25),c.qZA(),c.qZA(),c.TgZ(68,"div",7),c.TgZ(69,"div",8),c.TgZ(70,"label"),c._uU(71,"Container No"),c.qZA(),c._UZ(72,"input",26),c.qZA(),c.qZA(),c.TgZ(73,"div",7),c.TgZ(74,"div",8),c.TgZ(75,"label"),c._uU(76,"OrderGivenBy"),c.qZA(),c.TgZ(77,"select",27),c.NdJ("change",function(t){return e.GetMobileNo(t)}),c.TgZ(78,"option",10),c._uU(79,"Select"),c.qZA(),c.YNc(80,R,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(81,"div",7),c.TgZ(82,"div",8),c.TgZ(83,"label"),c._uU(84,"Mobile No"),c.qZA(),c._UZ(85,"input",28),c.qZA(),c.qZA(),c.TgZ(86,"div",7),c.TgZ(87,"div",8),c.TgZ(88,"label"),c._uU(89,"Remarks"),c.qZA(),c.TgZ(90,"select",29),c.TgZ(91,"option",10),c._uU(92,"Select "),c.qZA(),c.YNc(93,J,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(94,Y,36,1,"ng-template",30,31,c.W1O),c._UZ(96,"hr"),c.qZA(),c.TgZ(97,"div",32),c.TgZ(98,"p",33),c._uU(99," Delivery Order Details"),c.qZA(),c.TgZ(100,"div"),c.TgZ(101,"ag-grid-angular",34),c.NdJ("cellValueChanged",function(t){return e.onDOCellKeyPress(t)}),c.qZA(),c.qZA(),c.TgZ(102,"div",35),c.TgZ(103,"div",36),c.TgZ(104,"div",37),c.TgZ(105,"label"),c._uU(106,"Total DO Quantity"),c.qZA(),c._UZ(107,"input",38),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(108,"div",39),c.TgZ(109,"div",40),c.TgZ(110,"button",41),c.NdJ("click",function(){return e.onSaveDeliveryOrder()}),c._uU(111,"Save"),c.qZA(),c.qZA(),c.TgZ(112,"div",40),c.TgZ(113,"button",42),c.NdJ("click",function(){return e.onResetDeliveryOrder()}),c._uU(114,"Reset"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(115,"mat-tab",43),c.TgZ(116,"div",44),c._UZ(117,"ag-grid-angular",45),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&t&&(c.xp6(3),c.Q6J("selectedIndex",e.tab),c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(10),c.Q6J("ngForOf",e.customerList),c.xp6(6),c.Q6J("ngModel",c.xi3(22,16,e.todayDate,"yyyy-MM-dd")),c.xp6(4),c.Q6J("disabled",e.checkCust),c.xp6(15),c.Q6J("ngForOf",e.customePartyList),c.xp6(8),c.Q6J("ngForOf",e.customePartyList),c.xp6(32),c.Q6J("ngForOf",e.OrderGivenByList),c.xp6(13),c.Q6J("ngForOf",e.remarkList),c.xp6(8),c.Q6J("rowData",e.DeliveryOrdersearchList)("columnDefs",e.DeliveryOrdercolumnDefs),c.xp6(9),c.Q6J("disabled",e.clickSave),c.xp6(7),c.Q6J("rowData",e.DeliveryOrderList)("columnDefs",e.columnsDeliveryOrderList)("frameworkComponents",e.frameworkComponents)("getRowStyle",e.getRowStyle))},directives:[h.xw,h.yH,f.a8,g.SP,g.uX,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,s.sg,D.TO,n.Fj,n.Wl,Z.N8],pipes:[s.uU],styles:[".rag-red[_ngcontent-%COMP%]{background-color:red!important}"]}),t})(),G=(()=>{class t{constructor(){this.label=""}agInit(t){this.params=t,this.label=this.params.label||null}refresh(t){return!0}onClick(t,e){this.params.onClick instanceof Function&&this.params.onClick({event:t,rowData:this.params.node.data,actions:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-dispatchdeletebutton"]],decls:5,vars:0,consts:[[1,"input-group"],["type","button",1,"btn","btn-secondary","btn-sm","btn-space",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c.NdJ("click",function(t){return e.onClick(t,"Delete")}),c._uU(2,"Delete"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(t){return e.onClick(t,"Print")}),c._uU(4,"Print"),c.qZA(),c.qZA())},styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5%}"]}),t})();function W(t,e){if(1&t&&(c.TgZ(0,"option",37),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function V(t,e){if(1&t&&(c.TgZ(0,"option",37),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerPartyID),c.xp6(1),c.Oqu(t.PartyName)}}let H=(()=>{class t{constructor(t,e,r){this.api=t,this.fb=e,this.dialog=r,this.SaveDispatch={},this.tab=0,this.clickSave=!1,this.DeliveryOrderID=0,this.DispatchDetailList=[],this.DispatchDetail=[],this.DispatchDetailcolumnDefs=[{headerName:"DeliveryOrderNo",field:"DeliveryOrderNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliveryOrderDID",field:"DeliveryOrderDID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ProductID",field:"ProductID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ProductName",field:"ProductName",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LotNo",field:"LotNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StorageArea",field:"StorageArea",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"InwardDID",field:"InwardDID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"InwardLocationID",field:"InwardLocationID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DOQuantity",field:"DOQuantity",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"BalanceQuantity",field:"BalanceQuantity",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DispatchQuantity",field:"DispatchQuantity",hide:!1,filter:"agNumberColumnFilter",valueParser:"Number(newValue)",floatingFilter:!0,cellEditorPopup:!0,sort:"desc",editable:!0,cellStyle:t=>t.value>0?{color:"white",backgroundColor:"#FF0000"}:{color:"black",backgroundColor:"#98FB98"}},{headerName:"BrandName",field:"BrandName",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ItemsInPacket",field:"ItemsInPacket",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StorageAreaID",field:"StorageAreaID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OrderGivenBy",field:"OrderGivenBy",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0}],this.DispatchSearchcolumnDefs=[{headerName:"DeliveryOrderID",field:"DeliveryOrderID",hide:!0},{headerName:"DeliveryOrderNo",field:"DeliveryOrderNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliveryOrderDate",field:"DeliveryOrderDate",hide:!1,type:"date",cellRenderer:"dateTimeRenderer",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OrderGivenBy",field:"OrderGivenBy",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliverTo",field:"DeliverTo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ShippingAddress",field:"ShippingAddress",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TruckNo",field:"TruckNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ContainerNo",field:"ContainerNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0}],this.DispatchsListColumnDefs=[{headerName:"Action",width:180,floatingFilter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.OnActionDispatch.bind(this),label:"Click 1"}},{headerName:"DispatchID",field:"DispatchID",minWidth:100,hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliveryOrderNo",field:"DeliveryOrderNo",hide:!1,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DispatchNo",field:"DispatchNo",hide:!1,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerID",field:"CustomerID",hide:!0,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerName",field:"CustomerName",hide:!1,minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerPartyID",field:"CustomerPartyID",hide:!0,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"PartyName",field:"PartyName",hide:!1,minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ShippingAddress",field:"ShippingAddress",hide:!1,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OrderGivenBy",field:"OrderGivenBy",hide:!1,minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Status",field:"Status",hide:!1,minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",hide:!1,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DispatchDate",field:"DispatchDate",hide:!1,minWidth:100,type:"date",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"WareHouseID",field:"WareHouseID",hide:!0,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusID",field:"StatusID",hide:!0,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CeatedBy",field:"CeatedBy",hide:!1,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TruckNo",field:"TruckNo",hide:!1,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ContainerNo",field:"ContainerNo",hide:!1,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0}],this.currentUser=this.api.getCurrentUser(),this.form=this.fb.group({customer_id:[null,n.kI.required],DeliveryTo_ID:[null,n.kI.required],txtShipping_Address:[null,n.kI.required],OrderGivenBy_id:[null,n.kI.required],txtTruckNo:[null,n.kI.required],txtContainerNo:[null,n.kI.required],DispatchRemarks:[null,n.kI.required],txtTotalDispatchQty:[null,n.kI.required]}),this.frameworkComponents={buttonRenderer:G}}ngOnInit(){this.BindDropdown(),this.onDispatchList(),this.DispatchSearchList=[],this.DispatchDetailList=[]}BindDropdown(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.get("/Customer").subscribe(t=>{this.customerList=t},t=>{console.error(t)}),this.api.get("/CustomerParty").subscribe(t=>{this.customePartyList=t},t=>{console.error(t)}),this.api.get("/Remarks").subscribe(t=>{this.remarkList=t.filter(t=>2==t.ProcessID)},t=>{console.error(t)})})}tabDeliveryOrderchange(t){this.tab=t,this.onDispatchList()}OnSearchClick(){var t;if(null==this.form.value.customer_id||""==this.form.value.customer_id)return this.dialog.alert("Please .... Select Customer Name"),void(null===(t=null==document?void 0:document.getElementById("customer_id"))||void 0===t||t.focus());this.api.get("/Dispatch/DispatchSearch?CustomerID="+this.form.value.customer_id+"&WarehouseId="+this.currentUser.warehouseId+"&CompanyID="+this.currentUser.companyId).subscribe(t=>{this.DispatchSearchList=t},t=>{console.error(t)})}rowDODoubleClicked(t){const e=this.customePartyList.filter(e=>e.PartyName==t.data.DeliverTo);this.form.setValue(e.length>0?{customer_id:this.form.value.customer_id,DeliveryTo_ID:e[0].CustomerPartyID,txtShipping_Address:t.data.ShippingAddress,OrderGivenBy_id:t.data.OrderGivenBy,txtTruckNo:t.data.TruckNo,txtContainerNo:t.data.ContainerNo,DispatchRemarks:t.data.Remarks,txtTotalDispatchQty:0}:{customer_id:this.form.value.customer_id,DeliveryTo_ID:0,txtShipping_Address:t.data.ShippingAddress,OrderGivenBy_id:t.data.OrderGivenBy,txtTruckNo:t.data.TruckNo,txtContainerNo:t.data.ContainerNo,DispatchRemarks:t.data.Remarks,txtTotalDispatchQty:0}),this.DeliveryOrderID=t.data.DeliveryOrderID,this.api.get("/Dispatch/GetDispatchDetails?DeliveryOrderID="+t.data.DeliveryOrderID+"&DeliveryOrderNo="+t.data.DeliveryOrderNo).subscribe(t=>{this.DispatchDetailList=t},t=>{console.error(t)})}onDispatchCellKeyPress(t){console.log(this.DispatchDetailList),t.data.BalanceQuantity>t.data.DispatchQuantity||t.data.BalanceQuantity==t.data.DispatchQuantity?this.onDispatchDetailGridRefresh():t.data.BalanceQuantity<t.data.DispatchQuantity&&(this.DispatchDetailList.forEach(e=>{e.InwardLocationID==t.data.InwardLocationID&&(e.DispatchQuantity=0)}),this.dialog.alert("DispatchQuantity Must be less than or equal to BalanceQuantity.....!!!"),this.onDispatchDetailGridRefresh())}onDispatchDetailGridRefresh(){let t=this.DispatchDetailList.filter(t=>t);this.DispatchDetailList=t;var e=this.DispatchDetailList.map(t=>t.DispatchQuantity).reduce((t,e)=>e+t);console.log(e),this.form.controls.txtTotalDispatchQty.setValue(e)}onDispatchList(){this.api.get("/Dispatch/Dispatch_Select").subscribe(t=>{this.DispatchList=t},t=>{console.error(t)})}OnActionDispatch(t){if("Delete"==String(t.actions)){if(41==t.rowData.StatusID)this.dialog.alert("This transaction already generated Outward, You can't delete it....!!!");else if(43==t.rowData.StatusID)this.dialog.alert("This transaction already generated Cancelled, You can't delete it....!!!");else if(1==confirm("Do you want to deleted or deactivate your dispatch...")){let e=prompt("Remarks ");this.api.post("/Dispatch/Dispatch_Cancelled?DispatchID="+t.rowData.DispatchID+"&Remark="+e+"&CreatedBy="+this.currentUser.userId).subscribe(t=>{this.dialog.alert(t),this.onDispatchList()},t=>{console.error(t)})}}else"Print"==String(t.actions)&&this.api.get("/Dispatch/DispatchReceipt?DispatchID="+t.rowData.DispatchID).subscribe(t=>{console.log("OnDeliveryOrderActions=>",t);var e=t[0].Base64Str;let r=window.open("");null==r||r.document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(e)+"'></iframe>")},t=>{console.error(t)})}onDeleteDORow(t){if(console.log(t),41==t.StatusID)this.dialog.alert("This transaction already generated Outward, You can't delete it....!!!");else if(43==t.StatusID)this.dialog.alert("This transaction already generated Cancelled, You can't delete it....!!!");else if(1==confirm("Do you want to deleted or deactivate your dispatch...")){let e=prompt("Remarks ");this.api.post("/Dispatch/Dispatch_Cancelled?DispatchID="+t.DispatchID+"&Remark="+e+"&CreatedBy="+this.currentUser.userId).subscribe(t=>{this.dialog.alert(t),this.onDispatchList()},t=>{console.error(t)})}}onSaveDispatch(){var t,e,r,i;return i=this.DispatchDetailList.length>0?this.DispatchDetailList.map(t=>t.DispatchQuantity).reduce((t,e)=>e+t):0,null==this.form.value.customer_id||""==this.form.value.customer_id?(this.dialog.alert("Please .... Select Customer Name"),void(null===(t=null==document?void 0:document.getElementById("customer_id"))||void 0===t||t.focus())):null==this.form.value.DeliveryTo_ID||""==this.form.value.DeliveryTo_ID?(this.dialog.alert("Please.... Select Deliver To..!!!"),void(null===(e=null==document?void 0:document.getElementById("DeliveryTo_ID"))||void 0===e||e.focus())):null==this.form.value.OrderGivenBy_id||""==this.form.value.OrderGivenBy_id?(this.dialog.alert("Please Enter Order Given By..!!!"),void(null===(r=null==document?void 0:document.getElementById("OrderGivenBy_id"))||void 0===r||r.focus())):void(i<=0?this.dialog.alert("Please .... Add Dispatch quantity In delivery order detail "):(console.log(i),this.clickSave=!0,this.DispatchDetail=[],this.DispatchDetailList.filter(t=>t.DispatchQuantity>0).forEach(t=>{this.DispatchDetail.push({DeliveryOrderDID:t.DeliveryOrderDID,ProductID:t.ProductID,InwardDID:t.InwardDID,LotNo:t.LotNo,DispatchQuantity:t.DispatchQuantity,InwardLocationID:t.InwardLocationID,StorageAreaID:t.StorageAreaID})}),this.DispatchDetail.slice(),console.log(this.DispatchDetail),this.SaveDispatch={DispatchID:0,CustomerID:this.form.value.customer_id,CustomerPartyID:this.form.value.DeliveryTo_ID,WareHouseID:this.currentUser.warehouseId,ShippingAddress:this.form.value.txtShipping_Address,OrderGivenBy:this.form.value.OrderGivenBy_id,Remarks:this.form.value.DispatchRemarks,CreatedBy:this.currentUser.userId,DeliveryOrderID:this.DeliveryOrderID,TruckNo:this.form.value.txtTruckNo,ContainerNo:this.form.value.txtContainerNo,DispatchDetailModel:this.DispatchDetail},console.log(this.SaveDispatch),this.api.post("/Dispatch/SaveDispatch",this.SaveDispatch).subscribe(t=>{console.log(t),this.dialog.alert(t.Table[0].Message)},t=>{console.error(t),this.clickSave=!1})))}onResetDispatch(){this.form.reset(),this.BindDropdown(),this.DispatchSearchList=[],this.DispatchDetailList=[],this.clickSave=!1}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.sM),c.Y36(n.qu),c.Y36(u.cP))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-dispatch"]],decls:80,vars:12,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],["animationDuration","1ms",3,"selectedIndex","selectedIndexChange"],["label","Dispatch"],[3,"formGroup"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-5","col-md-5"],[1,"form-group"],["formControlName","customer_id","id","customer_id",1,"form-control","form-control-sm"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","customer_id_error"],[1,"col-sm-2","col-md-2"],[1,"form-group","pt-3"],["type","button",1,"btn","btn-secondary","btn-block",3,"click"],["formControlName","DeliveryTo_ID","id","DeliveryTo_ID",1,"form-control","form-control-sm"],[1,"col-sm-6","col-md-6"],["type","text","formControlName","txtShipping_Address","id","txtShipping_Address","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","OrderGivenBy_id","id","OrderGivenBy_id","placeholder","",1,"form-control","form-control-sm"],[1,"col-sm-4","col-md-4"],["type","text","formControlName","txtTruckNo","id","txtTruckNo","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","txtContainerNo","id","txtContainerNo","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","DispatchRemarks","id","DispatchRemarks","placeholder","",1,"form-control","form-control-sm"],[1,"col-12"],[1,"font-weight-bold"],[1,"ag-theme-alpine",2,"height","250px",3,"rowData","columnDefs","rowDoubleClicked"],[1,"ag-theme-alpine",2,"height","250px",3,"rowData","columnDefs","cellValueChanged"],[1,"row","mt-2"],[1,"col-sm-12"],[1,"form-group","float-right",2,"display","flex"],["type","text","formControlName","txtTotalDispatchQty","id","txtTotalDispatchQty","readonly","","placeholder","",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-secondary",2,"width","20%",3,"disabled","click"],["type","button",1,"btn","btn-secondary","ml-3",2,"width","20%",3,"click"],["label","Dispatch List"],[2,"height","100%","box-sizing","border-box"],[1,"ag-theme-alpine",2,"height","500px",3,"rowData","columnDefs","frameworkComponents"],[3,"value"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-tab-group",2),c.NdJ("selectedIndexChange",function(t){return e.tabDeliveryOrderchange(t)})("selectedIndexChange",function(t){return e.tab=t}),c.TgZ(4,"mat-tab",3),c.TgZ(5,"form",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"label"),c._uU(11,"Customer Name"),c.qZA(),c.TgZ(12,"select",9),c.TgZ(13,"option",10),c._uU(14,"Select"),c.qZA(),c.YNc(15,W,2,2,"option",11),c.qZA(),c._UZ(16,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(17,"div",13),c.TgZ(18,"div",14),c.TgZ(19,"button",15),c.NdJ("click",function(){return e.OnSearchClick()}),c._uU(20,"Search"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",7),c.TgZ(22,"div",8),c.TgZ(23,"label"),c._uU(24,"DeliveryTo"),c.qZA(),c.TgZ(25,"select",16),c.TgZ(26,"option",10),c._uU(27,"Select"),c.qZA(),c.YNc(28,V,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",17),c.TgZ(30,"div",8),c.TgZ(31,"label"),c._uU(32,"Shipping Address"),c.qZA(),c._UZ(33,"input",18),c.qZA(),c.qZA(),c.TgZ(34,"div",17),c.TgZ(35,"div",8),c.TgZ(36,"label"),c._uU(37,"OrderGivenBy"),c.qZA(),c._UZ(38,"input",19),c.qZA(),c.qZA(),c.TgZ(39,"div",20),c.TgZ(40,"div",8),c.TgZ(41,"label"),c._uU(42,"Truck No"),c.qZA(),c._UZ(43,"input",21),c.qZA(),c.qZA(),c.TgZ(44,"div",20),c.TgZ(45,"div",8),c.TgZ(46,"label"),c._uU(47,"Container No"),c.qZA(),c._UZ(48,"input",22),c.qZA(),c.qZA(),c.TgZ(49,"div",20),c.TgZ(50,"div",8),c.TgZ(51,"label"),c._uU(52,"Remarks"),c.qZA(),c._UZ(53,"input",23),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(54,"hr"),c.TgZ(55,"div",24),c.TgZ(56,"p",25),c._uU(57," Delivery Order List"),c.qZA(),c.TgZ(58,"div"),c.TgZ(59,"ag-grid-angular",26),c.NdJ("rowDoubleClicked",function(t){return e.rowDODoubleClicked(t)}),c.qZA(),c.qZA(),c.qZA(),c._UZ(60,"hr"),c.TgZ(61,"div",24),c.TgZ(62,"p",25),c._uU(63,"Dispatch Details"),c.qZA(),c.TgZ(64,"div"),c.TgZ(65,"ag-grid-angular",27),c.NdJ("cellValueChanged",function(t){return e.onDispatchCellKeyPress(t)}),c.qZA(),c.qZA(),c.TgZ(66,"div",28),c.TgZ(67,"div",29),c.TgZ(68,"div",30),c.TgZ(69,"label"),c._uU(70,"Total Dispatch Qty"),c.qZA(),c._UZ(71,"input",31),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(72,"br"),c.TgZ(73,"button",32),c.NdJ("click",function(){return e.onSaveDispatch()}),c._uU(74,"Save"),c.qZA(),c.TgZ(75,"button",33),c.NdJ("click",function(){return e.onResetDispatch()}),c._uU(76,"Reset"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(77,"mat-tab",34),c.TgZ(78,"div",35),c._UZ(79,"ag-grid-angular",36),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("selectedIndex",e.tab),c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(10),c.Q6J("ngForOf",e.customerList),c.xp6(13),c.Q6J("ngForOf",e.customePartyList),c.xp6(31),c.Q6J("rowData",e.DispatchSearchList)("columnDefs",e.DispatchSearchcolumnDefs),c.xp6(6),c.Q6J("rowData",e.DispatchDetailList)("columnDefs",e.DispatchDetailcolumnDefs),c.xp6(8),c.Q6J("disabled",e.clickSave),c.xp6(6),c.Q6J("rowData",e.DispatchList)("columnDefs",e.DispatchsListColumnDefs)("frameworkComponents",e.frameworkComponents))},directives:[h.xw,h.yH,f.a8,g.SP,g.uX,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,s.sg,D.TO,n.Fj,Z.N8],styles:[""]}),t})(),$=(()=>{class t{constructor(){this.label=""}agInit(t){this.params=t,this.label=this.params.label||null}refresh(t){return!0}onClick(t,e){this.params.onClick instanceof Function&&this.params.onClick({event:t,rowData:this.params.node.data,actions:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-outwarddeletebutton"]],decls:5,vars:0,consts:[[1,"input-group"],["type","button",1,"btn","btn-secondary","btn-sm","btn-space",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c.NdJ("click",function(t){return e.onClick(t,"Delete")}),c._uU(2,"Delete"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(t){return e.onClick(t,"Print")}),c._uU(4,"Print"),c.qZA(),c.qZA())},styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5%}"]}),t})();function z(t,e){if(1&t&&(c.TgZ(0,"option",43),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function K(t,e){if(1&t&&(c.TgZ(0,"option",43),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerPartyID),c.xp6(1),c.Oqu(t.PartyName)}}function j(t,e){if(1&t&&(c.TgZ(0,"option",43),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.Remarks),c.xp6(1),c.Oqu(t.Remarks)}}function X(t,e){if(1&t&&(c.TgZ(0,"option",43),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.DockID),c.xp6(1),c.Oqu(t.DockName)}}function tt(t,e){if(1&t&&(c.TgZ(0,"option",43),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.UserID),c.xp6(1),c.Oqu(t.UserName)}}function et(t,e){if(1&t&&(c.TgZ(0,"option",43),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.LabourContractorID),c.xp6(1),c.Oqu(t.ContractorName)}}function rt(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",44),c.TgZ(2,"h5",45),c._uU(3,"Customer Party"),c.qZA(),c.qZA(),c._UZ(4,"br"),c.TgZ(5,"form",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"div",46),c.TgZ(9,"div",8),c.TgZ(10,"label"),c._uU(11,"Party Name"),c.qZA(),c._UZ(12,"input",47),c.qZA(),c.qZA(),c.TgZ(13,"div",46),c.TgZ(14,"div",8),c.TgZ(15,"label",48),c._uU(16,"Shipping Address1"),c.qZA(),c._UZ(17,"input",49),c.qZA(),c.qZA(),c.TgZ(18,"div",46),c.TgZ(19,"div",8),c.TgZ(20,"label",48),c._uU(21,"Shipping Address2"),c.qZA(),c._UZ(22,"input",50),c.qZA(),c.qZA(),c.TgZ(23,"div",46),c.TgZ(24,"div",8),c.TgZ(25,"label",48),c._uU(26,"Pin Code"),c.qZA(),c._UZ(27,"input",51),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(28,"div",52),c.TgZ(29,"button",53),c.NdJ("click",function(){return c.CHM(t),c.oxw().onAddParty()}),c._uU(30,"OK"),c.qZA(),c.TgZ(31,"button",54),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),r=c.MAs(125);return e.onCloseAddParty(r)}),c._uU(32,"cancel"),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(5),c.Q6J("formGroup",t.formParty)}}const it=function(){return[10,20,50,100,500]};let ot=(()=>{class t{constructor(t,e,r,i,o){this.api=t,this.fb=e,this.fbParty=r,this.dialogs=i,this.modalService=o,this.outID=0,this.DOID=0,this.DisptID=0,this.tab=0,this.DID=0,this.Out_Count=0,this.OutwardDetailsData={},this.ChargesListData=[],this.OutwardDetailList=[],this.config={backdrop:!1,ignoreBackdropClick:!0},this.SaveCustomerParty={},this.GetPendingDO={},this.newArr=[],this.Saveclick=!1,this.PendingDOListColum=[{header:"DispatchID",field:"DispatchID",hide:!0},{header:"DeliveryOrderID",field:"DeliveryOrderID",hide:!0},{header:"DeliveryOrderNo",field:"DeliveryOrderNo"},{header:"DispatchNo",field:"DispatchNo"},{header:"CreatedDate",field:"CreatedDate",hide:!0},{header:"OrderGivenBy",field:"OrderGivenBy"},{header:"DeliverTo",field:"DeliverTo"},{header:"ShippingAddress",field:"ShippingAddress"},{header:"Remarks",field:"Remarks",hide:!1},{header:"TruckNo",field:"TruckNo",hide:!1},{header:"ContainerNo",field:"ContainerNo"}],this.DeliveryOrderDetailColumns=[{field:"Outward",hide:!1,cellRenderer:t=>this.DeliveryOrderDetailCellRenderer(t),width:10},{field:"ProductName",hide:!1},{field:"LotNo",hide:!1,resizable:!0},{field:"BrandName"},{field:"CountInPacket",hide:!0},{field:"StorageArea",hide:!0},{field:"DispatchQuantity"},{field:"FirstLotNo",hide:!1},{field:"DeliveryOrderDID",hide:!1},{field:"DispatchDID"},{field:"ProductID",hide:!1}],this.DeliveryOrderDetailChargeColumns=[{field:"Add",width:10,hide:!1,cellRenderer:t=>this.DeliveryOrderChargeCellEditRenderer(t)},{field:"ServiceID",hide:!0},{field:"ServiceName",hide:!1,resizable:!0},{field:"C_Rate",hide:!0},{field:"L_Rate",hide:!0}],this.Columnsdata=[{headerName:"Action",width:200,floatingFilter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.OnActionOutward.bind(this),label:"Click 1"}},{headerName:"OutWardID",field:"OutWardID",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OutWardNo",field:"OutWardNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"WarehouseID",field:"WarehouseID",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerName",field:"CustomerName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"WareHouseName",field:"WareHouseName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OutWardDate",field:"OutWardDate",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliveryOrderNo",field:"DeliveryOrderNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DispatchNo",field:"DispatchNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliverTo",field:"DeliverTo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TruckNo",field:"TruckNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ContainerNo",field:"ContainerNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TransporterName",field:"TransporterName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"IsCancelled",field:"IsCancelled",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DriverName",field:"DriverName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DocID",field:"DocID",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LoadingBy",field:"LoadingBy",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusID",field:"StatusID",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusName",field:"StatusName",filter:"agTextColumnFilter",floatingFilter:!0}],this.currentUser=this.api.getCurrentUser();const a=new s.uU("en-US").transform(Date(),"yyyy-MM-dd hh:mm:ss");this.todayDate=a,this.currentUser=this.api.getCurrentUser(),this.frameworkComponents={buttonRenderer:$},this.form=this.fb.group({customer_id:[null,n.kI.required],Outward_Date:[null,n.kI.required],txtTruck_No:[null,n.kI.required],txtContainer_No:[null,n.kI.required],cbCustomer_Party:[null,n.kI.required],cbRemarks:["",n.kI.required],txtDriver_Name:[null,n.kI.required],txtDriver_MobileNo:[null,n.kI.required],cbDock_Name:[null,n.kI.required],cbLodingBy_Name:[null,n.kI.required],cbLabourContractor:[null,n.kI.required]}),this.formParty=this.fbParty.group({txtPartyName:["",n.kI.required],txtShippingAddress1:["",n.kI.required],txtShippingAddress2:["",n.kI.required],txtPinCode:["",n.kI.required]})}ngOnInit(){this.BindDropdown(),this.BindCustomerParty(),this.BindOutwardList(),this.DeliveryOrderDetailList=[],this.DeliveryOrderDetailChargeList=[]}BindDropdown(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.get("/Customer").subscribe(t=>{this.customerList=t},t=>{console.error(t)}),this.api.get("/Remarks").subscribe(t=>{this.remarkList=t.filter(t=>3==t.ProcessID)},t=>{console.error(t)}),this.api.get("/dock").subscribe(t=>{this.dockList=t},t=>{console.error(t)}),this.api.get("/UnloadingBy").subscribe(t=>{this.unloadingList=t},t=>{console.error(t)}),this.api.get("/LabourContracter").subscribe(t=>{this.labourContractorList=t},t=>{console.error(t)})})}BindCustomerParty(){this.api.get("/CustomerParty").subscribe(t=>{this.customePartyList=t},t=>{console.error(t)})}BindOutwardList(){this.api.post("/Outward/GetOutwardList",{outwardID:0,warehouseID:1,outWardDate:"",billStartDate:"",deliveryOrderID:0,customerPartyID:0,truckNo:"",containerNo:"",transporterName:"",remarks:"",createdBy:0,customerID:0,driverName:"",driverNo:"",docID:0,loadingBy:0,transferID:0,dispatchID:0,StatusID:0}).subscribe(t=>{this.OutwardList12=t},t=>{console.error(t)})}tabOutward(t){this.tab=t}OnSearchPendingDO(){var t;null==this.form.value.customer_id||""==this.form.value.customer_id?(this.dialog.alert("Please .... Select Customer Name"),null===(t=null==document?void 0:document.getElementById("customer_id"))||void 0===t||t.focus()):(this.GetPendingDO={CustomerID:this.form.value.customer_id,WarehouseId:this.currentUser.warehouseId,CompanyID:this.currentUser.companyId},this.api.post("/Outward/GetDeliveryOrderByID",this.GetPendingDO).subscribe(t=>{t.length>0?this.PendingDOList=t:this.dialog.alert("No Pending DO .....")},t=>{console.error(t)}))}openPartyWindow(t){var e;null==this.form.value.customer_id||""==this.form.value.customer_id?(this.dialog.alert("Please .... Select Customer Name"),null===(e=null==document?void 0:document.getElementById("customer_id"))||void 0===e||e.focus()):this.modalService.open(t)}onCloseAddParty(t){this.modalService.dismissAll(t)}onAddParty(){var t;null==this.formParty.value.txtPartyName||""==this.formParty.value.txtPartyName?(this.dialog.alert("Please .... Enter Party Name"),null===(t=null==document?void 0:document.getElementById("txtPartyName"))||void 0===t||t.focus()):(this.SaveCustomerParty={CustomerPartyID:0,CustomerID:this.form.value.customer_id,PartyName:this.formParty.value.txtPartyName,ShippingAddress:this.formParty.value.txtShippingAddress1,ShippingAddress1:this.formParty.value.txtShippingAddress2,PinCode:this.formParty.value.txtPinCode,CreatedBy:this.currentUser.userId},this.api.post("/CustomerParty/CustomerPartysave",this.SaveCustomerParty).subscribe(t=>{this.dialog.alert(t),this.formParty.reset(),this.BindCustomerParty()},t=>{console.error(t)}))}onRowDblclicked(t,e){var r;if(null==this.form.value.cbLabourContractor||""==this.form.value.cbLabourContractor)this.dialog.alert("Please .... Select Labour Contractor"),null===(r=null==document?void 0:document.getElementById("cbLabourContractor"))||void 0===r||r.focus();else{this.DOID=Number(t.cellSelection[0].rowData.DeliveryOrderID),this.DisptID=Number(t.cellSelection[0].rowData.DispatchID);const e=this.customePartyList.filter(e=>e.PartyName==t.cellSelection[0].rowData.DeliverTo);this.form.patchValue({txtTruck_No:t.cellSelection[0].rowData.TruckNo,txtContainer_No:t.cellSelection[0].rowData.ContainerNo,cbCustomer_Party:e[0].CustomerPartyID}),this.api.post("/Outward/GetDeliveryOrderDetail",{outwardID:0,warehouseID:0,outWardDate:0,billStartDate:0,deliveryOrderID:0,customerPartyID:0,truckNo:0,containerNo:0,transporterName:0,remarks:0,createdBy:0,customerID:0,driverName:0,driverNo:0,docID:0,loadingBy:0,transferID:0,dispatchID:t.cellSelection[0].rowData.DispatchID,StatusID:0}).subscribe(t=>{this.DeliveryOrderDetailList=t},t=>{console.error(t)})}}DeliveryOrderDetailCellRenderer(t){const e=document.createElement("input");e.type="checkbox",e.value="true",e.checked=t.value;const r={CustomerID:this.form.value.customer_id,WarehouseId:this.currentUser.warehouseId,CompanyID:this.currentUser.companyId,ProductID:t.data.ProductID};if(e.addEventListener("click",e=>{t.setValue(1!=t.value)}),"true"==t.value.toString())this.api.post("/Outward/GetOutwardServices",r).subscribe(e=>{if(this.DeliveryOrderDetailChargeList=[],this.DeliveryOrderDetailChargeList=e,this.DID=this.DID+1,this.OutwardDetailsData={OutwardDID:this.DID,DeliveryOrderDID:t.data.DeliveryOrderDID,DispatchDID:t.data.DispatchDID,OutQuantity:t.data.DispatchQuantity,LabourContractorID:this.form.value.cbLabourContractor},this.OutwardDetailList.length>0){const e=this.OutwardDetailList.filter(e=>e.DeliveryOrderDID!=t.data.DeliveryOrderDID);this.OutwardDetailList=e}this.OutwardDetailList.push(this.OutwardDetailsData),this.DeliveryOrderDetailChargeList.forEach(t=>{1==t.Add&&this.ChargesListData.push({OutwardDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.ChargesListData.slice()},t=>{console.error(t)});else if(this.DeliveryOrderDetailChargeList=[],this.OutwardDetailList.length>0){const e=this.OutwardDetailList.filter(e=>e.DeliveryOrderDID==t.data.DeliveryOrderDID),r=this.ChargesListData.filter(t=>t.OutwardDID!=e[0].OutwardDID);this.ChargesListData=r}return e}DeliveryOrderChargeCellEditRenderer(t){const e=document.createElement("input");return e.type="checkbox",e.value="true",e.checked=t.value,e.addEventListener("click",e=>{t.setValue(1!=t.value);const r=this.ChargesListData.filter(t=>t.OutwardDID!=this.DID);this.ChargesListData=r,this.DeliveryOrderDetailChargeList.forEach(t=>{1==t.Add&&this.ChargesListData.push({OutwardDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.ChargesListData.slice()}),e}OnSaveOutward(){var t,e,r,i,o,a;if(this.DeliveryOrderDetailList.length>0){const t=this.DeliveryOrderDetailList.filter(t=>0==t.Outward);this.Out_Count=t.length}if(console.log("Save"),null==this.form.value.customer_id||""==this.form.value.customer_id)return this.dialog.alert("Please .... Select Customer Name"),void(null===(t=null==document?void 0:document.getElementById("customer_id"))||void 0===t||t.focus());if(null==this.form.value.Outward_Date)return this.dialog.alert("Please... Select Outward Date ..!!!"),void(null===(e=null==document?void 0:document.getElementById("Outward_Date"))||void 0===e||e.focus());if(null==this.form.value.txtTruck_No||""==this.form.value.txtTruck_No)return this.dialog.alert("Please .... Enter Truck No ...."),void(null===(r=null==document?void 0:document.getElementById("txtTruck_No"))||void 0===r||r.focus());if(null==this.form.value.cbDock_Name||""==this.form.value.cbDock_Name)return this.dialog.alert("Please .... select Dock name ...."),void(null===(i=null==document?void 0:document.getElementById("cbDock_Name"))||void 0===i||i.focus());if(null==this.form.value.cbLodingBy_Name)return this.dialog.alert("Please... Select unloading by ..!!!"),void(null===(o=null==document?void 0:document.getElementById("cbLodingBy_Name"))||void 0===o||o.focus());if(null==this.form.value.cbLabourContractor||""==this.form.value.cbLabourContractor)return this.dialog.alert("Please .... select Labour Contractor ...."),void(null===(a=null==document?void 0:document.getElementById("cbLabourContractor"))||void 0===a||a.focus());if(0!=this.DeliveryOrderDetailList.length)if(this.Out_Count>0)this.dialog.alert("Please... Select Outward Product ..!!!");else{this.Saveclick=!0,this.newArr=[],this.OutwardDetailList.forEach(t=>{this.ChargesListData.forEach(e=>{t.OutwardDID==e.OutwardDID&&this.newArr.push({OutwardDID:t.DeliveryOrderDID,ServiceID:e.ServiceID,ServiceName:e.ServiceName,Rate:e.Rate,L_Rate:e.L_Rate})})}),this.ChargesListData=this.newArr;const t={OutwardID:this.outID,WarehouseID:this.currentUser.warehouseId,OutWardDate:this.form.value.Outward_Date,BillStartDate:this.form.value.Outward_Date,DeliveryOrderID:this.DOID,CustomerPartyID:this.form.value.cbCustomer_Party,TruckNo:this.form.value.txtTruck_No,ContainerNo:this.form.value.txtContainer_No,TransporterName:"",Remarks:this.form.value.cbRemarks,CreatedBy:this.currentUser.userId,CustomerID:Number(this.form.value.customer_id),OutwardDetailModel:this.OutwardDetailList,OutwardChargeModel:this.ChargesListData,DriverName:this.form.value.txtDriver_Name,DriverNo:this.form.value.txtDriver_MobileNo,DocID:Number(this.form.value.cbDock_Name),LoadingBy:Number(this.form.value.cbLodingBy_Name),TransferID:0,DispatchID:this.DisptID};this.api.post("/Outward/Outward_Insert",t).subscribe(t=>{this.BindOutwardList()},t=>{console.error(t)})}else this.dialog.alert("Please... Add Outward Details ..!!!")}OnResetOuward(){this.form.reset(),this.Saveclick=!1,this.BindOutwardList();const t=new s.uU("en-US").transform(Date(),"yyyy-MM-dd hh:mm:ss");this.todayDate=t,this.outID=0,this.DOID=0,this.DisptID=0,this.BindCustomerParty(),this.DeliveryOrderDetailList=[],this.DeliveryOrderDetailChargeList=[],this.PendingDOList=[],this.SaveCustomerParty=[],this.DeliveryOrderDetailList=[],this.OutwardDetailList=[],this.ChargesListData=[],this.Out_Count=0,this.newArr=[]}onDeleteOutward(t){if(console.log("0",t),window.confirm("Are sure you want to delete this item ?")){const e={outwardID:t.OutWardID,warehouseID:t.WarehouseID,outWardDate:"",billStartDate:"",deliveryOrderID:0,customerPartyID:0,truckNo:"",containerNo:"",transporterName:"",remarks:"BY test",createdBy:this.currentUser.userId,customerID:0,driverName:"",driverNo:"",docID:0,loadingBy:0,transferID:0,dispatchID:0,StatusID:t.StatusID};console.log("Delete ",e),this.api.post("/Outward/OutwardStatus_validation",e).subscribe(r=>{console.log("process ",r[0].Count),0==r[0].Count?(this.dialog.alert("Some data is updated. So Please, reperform your cancelled operation"),this.BindOutwardList()):(t.StatusID=82)?this.dialog.alert("Sorry,Outward already deactivated or deleted ....!!!"):this.api.post("/Outward/OutWard_Cancelled",e).subscribe(t=>{this.dialog.alert(t),this.BindOutwardList()},t=>{console.error(t)})},t=>{console.error(t)})}}OnActionOutward(t){if("Delete"==String(t.actions))if(window.confirm("Do you want to cancel your Outward...!!!")){const e={outwardID:t.rowData.OutWardID,warehouseID:t.rowData.WarehouseID,outWardDate:"",billStartDate:"",deliveryOrderID:0,customerPartyID:0,truckNo:"",containerNo:"",transporterName:"",remarks:"BY test",createdBy:this.currentUser.userId,customerID:0,driverName:"",driverNo:"",docID:0,loadingBy:0,transferID:0,dispatchID:0,StatusID:t.rowData.StatusID};this.api.post("/Outward/OutwardStatus_validation",e).subscribe(r=>{0==r[0].Count?(this.dialog.alert("Some data is updated. So Please, reperform your cancelled operation"),this.BindOutwardList()):(t.rowData.StatusID=82)?this.dialog.alert("Sorry,Outward already deactivated or deleted ....!!!"):this.api.post("/Outward/OutWard_Cancelled",e).subscribe(t=>{this.dialog.alert(t),this.BindOutwardList()},t=>{console.error(t)})},t=>{console.error(t)})}else console.log("Cancel");else"Print"==String(t.actions)&&this.api.get("/Outward/OutwardReceipt?OutwardID="+t.rowData.OutWardID+"&WarehouseID="+this.currentUser.warehouseId).subscribe(t=>{console.log("OutActionata=>",t);var e=t[0].Base64Str;let r=window.open("");null==r||r.document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(e)+"'></iframe>")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.sM),c.Y36(n.qu),c.Y36(n.qu),c.Y36(u.cP),c.Y36(m.FF))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-outward"]],decls:126,vars:39,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],["animationDuration","1ms",3,"selectedIndex","selectedIndexChange"],["label","Outward"],[3,"formGroup"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-5","col-md-5"],[1,"form-group"],["formControlName","customer_id","id","customer_id",1,"form-control","form-control-sm"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","customer_id_error"],[1,"col-sm-3","col-md-3"],[1,"form-group","pt-3"],["type","button",1,"btn","btn-secondary","btn-block",3,"click"],[1,"col-sm-4","col-md-4"],["type","datetime-local","formControlName","Outward_Date","id","Outward_Date","placeholder","","name","deliveryorder_date",1,"form-control","form-control-rounded",3,"ngModel"],[1,"col-sm-6","col-md-6"],["type","text","formControlName","txtTruck_No","id","txtTruck_No","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","txtContainer_No","id","txtContainer_No","placeholder","",1,"form-control","form-control-sm"],["formControlName","cbCustomer_Party","id","cbCustomer_Party",1,"form-control","form-control-sm"],["formControlName","cbRemarks","id","cbRemarks",1,"form-control","form-control-sm"],["type","text","formControlName","txtDriver_Name","id","txtDriver_Name","placeholder","",1,"form-control","form-control-sm"],["type","text","formControlName","txtDriver_MobileNo","id","txtDriver_MobileNo","placeholder","",1,"form-control","form-control-sm"],["formControlName","cbDock_Name","id","cbDock_Name",1,"form-control","form-control-sm"],["formControlName","cbLodingBy_Name","id","cbLodingBy_Name",1,"form-control","form-control-sm"],["formControlName","cbLabourContractor","id","cbLabourContractor",1,"form-control","form-control-sm"],[1,"row"],[1,"col-12"],[1,"font-weight-bold"],[3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","dblclick"],["gridPendingDOdList",""],[1,"col-8"],[1,"card"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs"],[1,"col-4"],[1,"col-sm-4"],[1,"btn","btn-secondary","btn-sm",2,"width","85px !important",3,"disabled","click"],[1,"btn","btn-secondary","btn-sm",2,"width","85px !important",3,"click"],["label","Outward List"],[1,"ag-theme-alpine",2,"height","400px",3,"rowData","columnDefs","frameworkComponents"],["AddPartyContent",""],[3,"value"],[1,"modal-header"],["id","modal-basic-title"],[1,"col-sm-6"],["type","text","formControlName","txtPartyName","id","txtPartyName","autocomplete","off",1,"form-control","form-control-sm"],["for","company"],["type","text","formControlName","txtShippingAddress1","id","txtShippingAddress1",1,"form-control","form-control-sm"],["type","text","formControlName","txtShippingAddress2","id","txtShippingAddress2",1,"form-control","form-control-sm"],["type","text","formControlName","txtPinCode","id","txtPinCode",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-tab-group",2),c.NdJ("selectedIndexChange",function(t){return e.tabOutward(t)})("selectedIndexChange",function(t){return e.tab=t}),c.TgZ(4,"mat-tab",3),c.TgZ(5,"form",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"label"),c._uU(11,"Customer Name"),c.qZA(),c.TgZ(12,"select",9),c.TgZ(13,"option",10),c._uU(14,"Select"),c.qZA(),c.YNc(15,z,2,2,"option",11),c.qZA(),c._UZ(16,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(17,"div",13),c.TgZ(18,"div",14),c.TgZ(19,"button",15),c.NdJ("click",function(){return e.OnSearchPendingDO()}),c._uU(20,"Pending DO"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",16),c.TgZ(22,"div",8),c.TgZ(23,"label"),c._uU(24,"Outward Date"),c.qZA(),c._UZ(25,"input",17),c.ALo(26,"date"),c.qZA(),c.qZA(),c.TgZ(27,"div",18),c.TgZ(28,"div",8),c.TgZ(29,"label"),c._uU(30,"Truck No"),c.qZA(),c._UZ(31,"input",19),c.qZA(),c.qZA(),c.TgZ(32,"div",18),c.TgZ(33,"div",8),c.TgZ(34,"label"),c._uU(35,"Container No"),c.qZA(),c._UZ(36,"input",20),c.qZA(),c.qZA(),c.TgZ(37,"div",16),c.TgZ(38,"div",8),c.TgZ(39,"label"),c._uU(40,"Customer Party"),c.qZA(),c.TgZ(41,"select",21),c.TgZ(42,"option",10),c._uU(43,"Select"),c.qZA(),c.YNc(44,K,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"div",13),c.TgZ(46,"div",14),c.TgZ(47,"button",15),c.NdJ("click",function(){c.CHM(t);const r=c.MAs(125);return e.openPartyWindow(r)}),c._uU(48,"ADD Party"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(49,"div",7),c.TgZ(50,"div",8),c.TgZ(51,"label"),c._uU(52,"Remarks"),c.qZA(),c.TgZ(53,"select",22),c.TgZ(54,"option",10),c._uU(55,"Select"),c.qZA(),c.YNc(56,j,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(57,"div",18),c.TgZ(58,"div",8),c.TgZ(59,"label"),c._uU(60,"Driver Name"),c.qZA(),c._UZ(61,"input",23),c.qZA(),c.qZA(),c.TgZ(62,"div",18),c.TgZ(63,"div",8),c.TgZ(64,"label"),c._uU(65,"Driver Mobile No"),c.qZA(),c._UZ(66,"input",24),c.qZA(),c.qZA(),c.TgZ(67,"div",16),c.TgZ(68,"div",8),c.TgZ(69,"label"),c._uU(70,"Dock Name"),c.qZA(),c.TgZ(71,"select",25),c.TgZ(72,"option",10),c._uU(73,"Select"),c.qZA(),c.YNc(74,X,2,2,"option",11),c.qZA(),c._UZ(75,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(76,"div",16),c.TgZ(77,"div",8),c.TgZ(78,"label"),c._uU(79,"LodingBy Name"),c.qZA(),c.TgZ(80,"select",26),c.TgZ(81,"option",10),c._uU(82,"Select"),c.qZA(),c.YNc(83,tt,2,2,"option",11),c.qZA(),c._UZ(84,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(85,"div",16),c.TgZ(86,"div",8),c.TgZ(87,"label"),c._uU(88,"Labour Contractor"),c.qZA(),c.TgZ(89,"select",27),c.TgZ(90,"option",10),c._uU(91,"Select"),c.qZA(),c.YNc(92,et,2,2,"option",11),c.qZA(),c._UZ(93,"mat-error",12),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(94,"hr"),c.TgZ(95,"div",28),c.TgZ(96,"div",29),c.TgZ(97,"p",30),c._uU(98,"Pending DO"),c.qZA(),c.TgZ(99,"mtx-grid",31,32),c.NdJ("dblclick",function(r){c.CHM(t);const i=c.MAs(100);return e.onRowDblclicked(i,r)}),c.qZA(),c.qZA(),c.qZA(),c._UZ(101,"hr"),c.TgZ(102,"div",28),c.TgZ(103,"div",33),c.TgZ(104,"p",30),c._uU(105,"Product List"),c.qZA(),c.TgZ(106,"div",34),c._UZ(107,"ag-grid-angular",35),c.qZA(),c.qZA(),c.TgZ(108,"div",36),c.TgZ(109,"p",30),c._uU(110,"Product Charges"),c.qZA(),c.TgZ(111,"div",34),c._UZ(112,"ag-grid-angular",35),c.qZA(),c.qZA(),c.qZA(),c._UZ(113,"hr"),c.TgZ(114,"div",28),c.TgZ(115,"div",37),c.TgZ(116,"button",38),c.NdJ("click",function(){return e.OnSaveOutward()}),c._uU(117,"Save"),c.qZA(),c.qZA(),c.TgZ(118,"div",37),c.TgZ(119,"button",39),c.NdJ("click",function(){return e.OnResetOuward()}),c._uU(120,"Reset"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(121,"mat-tab",40),c.TgZ(122,"div",29),c._UZ(123,"ag-grid-angular",41),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(124,rt,33,1,"ng-template",null,42,c.W1O)}2&t&&(c.xp6(3),c.Q6J("selectedIndex",e.tab),c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(10),c.Q6J("ngForOf",e.customerList),c.xp6(10),c.Q6J("ngModel",c.xi3(26,35,e.todayDate,"yyyy-MM-dd hh:mm:ss")),c.xp6(19),c.Q6J("ngForOf",e.customePartyList),c.xp6(12),c.Q6J("ngForOf",e.remarkList),c.xp6(18),c.Q6J("ngForOf",e.dockList),c.xp6(9),c.Q6J("ngForOf",e.unloadingList),c.xp6(9),c.Q6J("ngForOf",e.labourContractorList),c.xp6(7),c.Q6J("data",e.PendingDOList)("columns",e.PendingDOListColum)("loading",!1)("columnResizable",!0)("multiSelectable",!1)("rowSelectable",!0)("hideRowSelectionCheckbox",!0)("rowHover",!0)("rowStriped",!1)("showToolbar",!1)("toolbarTitle","Detail List")("columnHideable",!1)("columnMovable",!0)("expandable",!1)("pageOnFront",!0)("showPaginator",!1)("pageSizeOptions",c.DdM(38,it))("pageIndex",0),c.xp6(8),c.Q6J("rowData",e.DeliveryOrderDetailList)("columnDefs",e.DeliveryOrderDetailColumns),c.xp6(5),c.Q6J("rowData",e.DeliveryOrderDetailChargeList)("columnDefs",e.DeliveryOrderDetailChargeColumns),c.xp6(4),c.Q6J("disabled",e.Saveclick),c.xp6(7),c.Q6J("rowData",e.OutwardList12)("columnDefs",e.Columnsdata)("frameworkComponents",e.frameworkComponents))},directives:[h.xw,h.yH,f.a8,g.SP,g.uX,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,s.sg,D.TO,n.Fj,I.CM,Z.N8],pipes:[s.uU],styles:[""]}),t})(),at=(()=>{class t{constructor(){this.label=""}agInit(t){this.params=t,this.label=this.params.label||null}refresh(t){return!0}onClick(t,e){this.params.onClick instanceof Function&&this.params.onClick({event:t,rowData:this.params.node.data,actions:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-shiftingedit-button"]],decls:5,vars:0,consts:[[1,"input-group"],["type","button",1,"btn","btn-secondary","btn-sm","btn-space",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c.NdJ("click",function(t){return e.onClick(t,"Delete")}),c._uU(2,"Delete"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(t){return e.onClick(t,"Print")}),c._uU(4,"Print"),c.qZA(),c.qZA())},styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5%}"]}),t})();var nt=r(22238);function lt(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function st(t,e){1&t&&(c.TgZ(0,"span"),c._uU(1,"Customer Name"),c.qZA())}function dt(t,e){if(1&t&&(c.TgZ(0,"div",47),c.YNc(1,st,2,0,"span",48),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.cbCustomerID||null==t.f.cbCustomerID.errors?null:t.f.cbCustomerID.errors.required)}}function ct(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Enter Lot No"),c.qZA())}function ut(t,e){if(1&t&&(c.TgZ(0,"div",47),c.YNc(1,ct,2,0,"div",48),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.txtLotNo||null==t.f.txtLotNo.errors?null:t.f.txtLotNo.errors.required)}}function mt(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Enter inward date"),c.qZA())}function ht(t,e){if(1&t&&(c.TgZ(0,"div",47),c.YNc(1,mt,2,0,"div",48),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.shift_date||null==t.f.shift_date.errors?null:t.f.shift_date.errors.required)}}function ft(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.UserID),c.xp6(1),c.Oqu(t.UserName)}}function gt(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Select Item Type"),c.qZA())}function Dt(t,e){if(1&t&&(c.TgZ(0,"div",47),c.YNc(1,gt,2,0,"div",48),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.cbloadingByID.errors?null:t.f.cbloadingByID.errors.required)}}function pt(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.StorageAreaID),c.xp6(1),c.hij("",t.Storage_Area_Name," ")}}function Zt(t,e){if(1&t&&(c.TgZ(0,"option",46),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.LabourContractorID),c.xp6(1),c.hij(" ",t.ContractorName,"")}}const It=function(t){return{"is-invalid":t}},vt=function(){return[10,20,50,100,500]};let Tt=(()=>{class t{constructor(t,e,r,i,o){this.fb=t,this.fbAdd=e,this.api=r,this.dialog=i,this.dialogBox=o,this.submitted=!1,this.HideSaveButton=!0,this.tab=0,this.UserID=0,this.ServiceList=[],this.ShiftingDetailList=[],this.SDetailSaveList=[],this.SChargeSaveList=[],this.DetailList=[],this.ShiftDetail={},this.InwardDID=0,this.InwardLocationID=0,this.WareHousesID=0,this.FromLocationID=0,this.shiftingsDID=0,this.Flag=!1,this.ShiftingID=0,this.BalanceStockColumn=[{header:"InwardDID",field:"InwardDID",hide:!1},{header:"WareHouseID",field:"WareHouseID",hide:!1},{header:"InwardLocationID",field:"InwardLocationID"},{header:"StorageAreaID",field:"StorageAreaID"},{header:"Location",field:"Location",hide:!1},{header:"ProductName",field:"ProductName"},{header:"LotNo",field:"LotNo"},{header:"BrandName",field:"BrandName"},{header:"ItemsInPacket",field:"ItemsInPacket",hide:!1},{header:"InQuantity",field:"InQuantity",hide:!1},{header:"OutQuantity",field:"OutQuantity"},{header:"InprocessQuantity",field:"InprocessQuantity"},{header:"BalanceQuantity",field:"BalanceQuantity"}],this.serviceColumns=[{field:"ShiftingID",hide:!0},{field:"ServiceID",hide:!0},{field:"ServiceName",hide:!1,resizable:!0,width:120},{field:"Rate",hide:!1,width:70,cellEditorPopup:!0,editable:!0,valueParser:"Number(newValue)",cellStyle:t=>t.value>0?{color:"white",backgroundColor:"#FF0000"}:{color:"black",backgroundColor:"#98FB98"}},{field:"Rate_L",hide:!1,width:80,cellEditorPopup:!0,editable:!0,valueParser:"Number(newValue)",cellStyle:t=>t.value>0?{color:"white",backgroundColor:"#FF0000"}:{color:"black",backgroundColor:"#98FB98"}}],this.ShiftingDetailColumns=[{header:"ShiftingDID",field:"ShiftingDID",hide:!1},{header:"InwardLocationID",field:"InwardLocationID",hide:!1},{header:"InwardDID",field:"InwardDID"},{header:"ProductName",field:"ProductName"},{header:"LotNo",field:"LotNo",hide:!1},{header:"BrandName",field:"BrandName"},{header:"ItemInPackets",field:"ItemInPackets"},{header:"BalanceQuantity",field:"BalanceQuantity"},{header:"ShiftingQuantity",field:"ShiftingQuantity",hide:!1},{header:"FromLocation",field:"FromLocation",hide:!1},{header:"ToLocation",field:"ToLocation"},{header:"LabourContractor",field:"LabourContractor",hide:!1},{header:"FromLocationID",field:"FromLocationID"},{header:"ToLocationID",field:"ToLocationID",hide:!1},{header:"LabourContractorID",field:"LabourContractorID"}],this.ShiftingListColumnDefs=[{headerName:"Action",width:150,floatingFilter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.OnActionShifting.bind(this),label:"Click 1"}},{headerName:"ShiftingDID",field:"ShiftingDID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ShiftingID",field:"ShiftingID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerName",field:"CustomerName",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LotNo",field:"LotNo",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ProductName",field:"ProductName",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"FromLocation",field:"FromLocation",minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ToLocation",field:"ToLocation",minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Quantity",field:"Quantity",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LabourContractorName",field:"LabourContractorName",hide:!0,minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LoadingBy",field:"LoadingBy",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CreatedBy",field:"CreatedBy",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CreatedDate",field:"CreatedDate",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"WarehouseID",field:"WarehouseID",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusName",field:"StatusName",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusID",field:"StatusID",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0}];const a=new s.uU("en-US").transform(Date(),"yyyy-MM-dd hh:mm:ss");this.todayDate=a,this.currentUser=this.api.getCurrentUser(),this.frameworkComponents={buttonRenderer:at}}ngOnInit(){this.form=this.fb.group({cbCustomerID:["",n.kI.required],txtLotNo:[""],shift_date:["",n.kI.required],cbloadingByID:[null,n.kI.required],txtProductName:[""],txtShiftDetailLotNo:[""],txtBrandName:[""],txtpacketcount:[""],txtBalquantity:[""],txtShiftingQty:[""],txtLocation:[""],cbToLocation:[""],cblabourcontractor_id:[""]}),this.ShiftingServiceList=[],this.BindDropdown(),this.BindShiftingList()}BindDropdown(){return(0,a.mG)(this,void 0,void 0,function*(){const t={warehouseID:this.currentUser.warehouseId,StorageAreaID:0,LTD_StorageAreaS:null,createdBy:0,BlockID:0};this.api.get("/Customer").subscribe(t=>{this.customerList=t},t=>{console.error(t)}),this.api.get("/UnloadingBy").subscribe(t=>{this.loadingByList=t},t=>{console.error(t)}),this.api.get("/LabourContracter").subscribe(t=>{this.labourContractorList=t},t=>{console.error(t)}),this.api.post("/Storage/StorageArea_Select",t).subscribe(t=>{this.StorageAreas=t},t=>{console.error(t)})})}BindShiftingList(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.post("/Shifting/Shifting_List",{warehouseID:this.currentUser.warehouseId,StorageAreaID:0,LTD_StorageAreaS:null,createdBy:0,BlockID:0}).subscribe(t=>{this.ShiftingList=t},t=>{console.error(t)})})}get f(){return this.form.controls}OnSearchClick(){var t,e;return null==this.form.value.cbCustomerID||""==this.form.value.cbCustomerID?(this.dialog.alert("Please .... Select Customer Name"),void(null===(t=null==document?void 0:document.getElementById("cbCustomerID"))||void 0===t||t.focus())):null==this.form.value.txtLotNo||""==this.form.value.txtLotNo?(this.dialog.alert("Please .... Enter Lot No "),void(null===(e=null==document?void 0:document.getElementById("txtLotNo"))||void 0===e||e.focus())):void this.api.post("/Shifting/GetInwardDetails",{remarks:"",shiftingDID:0,shiftingID:0,warehouseID:0,customerID:this.form.value.cbCustomerID,createdBy:0,shiftingDate:0,loadingBy:0,LotNo:this.form.value.txtLotNo}).subscribe(t=>{this.BalanceStockList=t},t=>{console.error(t)})}onRowDblclicked(t,e){this.api.get("/Shifting/Shifting_services").subscribe(e=>{var r;this.ShiftingServiceList=e,this.InwardDID=0,this.InwardLocationID=0,this.WareHousesID=0,this.FromLocationID=0,this.form.controls.txtProductName.reset(),this.form.controls.txtShiftDetailLotNo.reset(),this.form.controls.txtBrandName.reset(),this.form.controls.txtpacketcount.reset(),this.form.controls.txtBalquantity.reset(),this.form.controls.txtShiftingQty.reset(),this.form.controls.txtLocation.reset(),this.form.controls.cbToLocation.reset(),this.InwardDID=t.cellSelection[0].rowData.InwardDID,this.InwardLocationID=t.cellSelection[0].rowData.InwardLocationID,this.WareHousesID=t.cellSelection[0].rowData.WareHouseID,this.FromLocationID=t.cellSelection[0].rowData.StorageAreaID,this.form.patchValue({txtProductName:t.cellSelection[0].rowData.ProductName,txtShiftDetailLotNo:t.cellSelection[0].rowData.LotNo,txtBrandName:t.cellSelection[0].rowData.BrandName,txtpacketcount:t.cellSelection[0].rowData.ItemsInPacket,txtBalquantity:t.cellSelection[0].rowData.BalanceQuantity,txtShiftingQty:"",txtLocation:t.cellSelection[0].rowData.Location}),null===(r=null==document?void 0:document.getElementById("txtShiftingQty"))||void 0===r||r.focus()},t=>{console.error(t)})}onKeyfilter(t){Number(this.form.value.txtBalquantity)>0&&Number(this.form.value.txtBalquantity)<Number(t)&&(this.dialog.alert("Shifting Quantity greater than the Balance Quantity ....!!!"),this.form.controls.txtShiftingQty.setValue(""))}OnToLocationSelect(t){const e=this.StorageAreas.filter(t=>t.StorageAreaID==this.form.value.cbToLocation);(""!=this.form.value.txtLocation||null!=this.form.value.txtLocation)&&this.form.value.txtLocation==e[0].Storage_Area_Name&&(this.dialog.alert("Please Select other location"),this.form.controls.cbToLocation.reset())}OnAddClick(){var t,e,r,i;if(null==this.form.value.txtShiftingQty||""==this.form.value.txtShiftingQty)return this.dialog.alert("Please .... Enter Shifting Quantity...!!"),void(null===(t=null==document?void 0:document.getElementById("txtShiftingQty"))||void 0===t||t.focus());if(Number(this.form.value.txtBalquantity)<Number(this.form.value.txtShiftingQty))return this.dialog.alert("Shifting Quantity greater than the Balance Quantity ....!!!"),void(null===(e=null==document?void 0:document.getElementById("txtShiftingQty"))||void 0===e||e.focus());if(null==this.form.value.cbToLocation||0==this.form.value.cbToLocation)return this.dialog.alert("Please .... Select To Location...!!"),void(null===(r=null==document?void 0:document.getElementById("cbToLocation"))||void 0===r||r.focus());if(null==this.form.value.cblabourcontractor_id||0==this.form.value.cblabourcontractor_id)return this.dialog.alert("Please .... Select Labour Contractor...!!"),void(null===(i=null==document?void 0:document.getElementById("cblabourcontractor_id"))||void 0===i||i.focus());{const t=this.StorageAreas.filter(t=>t.StorageAreaID==this.form.value.cbToLocation),e=this.StorageAreas.filter(t=>t.StorageAreaID==this.FromLocationID),r=this.labourContractorList.filter(t=>t.LabourContractorID==this.form.value.cblabourcontractor_id);0==this.Flag&&(this.shiftingsDID=this.shiftingsDID+1);const i=this.ShiftingDetailList.filter(t=>t.ShiftingDID!=this.shiftingsDID);this.ShiftingDetailList=i;const o=this.ServiceList.filter(t=>t.ShiftingDID!=this.shiftingsDID);this.ServiceList=o,this.ShiftDetail=[],this.ShiftDetail={ShiftingDID:this.shiftingsDID,InwardLocationID:this.InwardLocationID,InwardDID:this.InwardDID,ProductName:this.form.value.txtProductName,LotNo:this.form.value.txtShiftDetailLotNo,BrandName:this.form.value.txtBrandName,ItemInPacket:this.form.value.txtpacketcount,BalanceQuantity:this.form.value.txtBalquantity,ShiftingQuantity:Number(this.form.value.txtShiftingQty),FromLocation:e[0].Storage_Area_Name,ToLocation:t[0].Storage_Area_Name,LabourContractor:r[0].ContractorName,FromLocationID:this.FromLocationID,ToLocationID:Number(this.form.value.cbToLocation),LabourContractorID:Number(this.form.value.cblabourcontractor_id)},this.DetailList=this.ShiftingDetailList,this.DetailList.push(this.ShiftDetail),this.ShiftingDetailList=this.DetailList.slice(),this.ShiftingServiceList.forEach(t=>{t.Rate>=0&&this.ServiceList.push({ShiftingDID:this.shiftingsDID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,Rate:t.Rate,Rate_L:t.Rate_L})}),this.InwardDID=0,this.InwardLocationID=0,this.WareHousesID=0,this.FromLocationID=0,this.form.controls.txtProductName.reset(),this.form.controls.txtShiftDetailLotNo.reset(),this.form.controls.txtBrandName.reset(),this.form.controls.txtpacketcount.reset(),this.form.controls.txtBalquantity.reset(),this.form.controls.txtShiftingQty.reset(),this.form.controls.txtLocation.reset(),this.form.controls.cbToLocation.reset(),this.form.controls.txtLotNo.reset(),this.BalanceStockList=[],this.ShiftingServiceList=[]}}onSubmit(t){this.submitted=!0,console.log(t),this.form.invalid?this.dialog.alert("invalid"):0==this.ShiftingDetailList.length?this.dialog.alert("Enter Shifting Detail ..."):(this.HideSaveButton=!1,this.dialog.alert("Save"),this.ShiftingDetailList.forEach(t=>{t.ShiftingDID>0&&this.SDetailSaveList.push({ShiftingDID:t.ShiftingDID,InwardLocationID:t.InwardLocationID,LotNo:t.LotNo,InwardDID:t.InwardDID,FromLocationID:t.FromLocationID,ToLocationID:t.ToLocationID,Quantity:t.ShiftingQuantity,LabourContractorID:t.LabourContractorID})}),this.ServiceList.forEach(t=>{(t.Rate>0||t.Rate_L>0)&&this.SChargeSaveList.push({ShiftingDID:t.ShiftingDID,ServiceID:t.ServiceID,Rate:t.Rate,Rate_L:t.Rate_L})}),this.api.post("/Shifting/Shifting_insert",{ShiftingID:this.ShiftingID,WarehouseID:this.currentUser.warehouseId,CustomerID:this.form.value.cbCustomerID,CreatedBy:this.currentUser.userId,TD_ShiftingDetails:this.SDetailSaveList,TD_ShiftingCharges:this.SChargeSaveList,ShiftingDate:this.form.value.shift_date,LoadingBy:this.form.value.cbloadingByID}).subscribe(t=>{this.dialog.alert(t.Table[0].Column1)},t=>{console.error(t)}))}tabchange(t){this.tab=t}onReset(){this.submitted=!1,this.HideSaveButton=!0}onShiftDetailRowDblclick(t,e){this.Flag=!0,this.InwardDID=0,this.InwardLocationID=0,this.WareHousesID=0,this.FromLocationID=0,this.form.controls.txtProductName.reset(),this.form.controls.txtShiftDetailLotNo.reset(),this.form.controls.txtBrandName.reset(),this.form.controls.txtpacketcount.reset(),this.form.controls.txtBalquantity.reset(),this.form.controls.txtShiftingQty.reset(),this.form.controls.txtLocation.reset(),this.form.controls.cbToLocation.reset(),this.form.controls.cblabourcontractor_id.reset(),this.form.patchValue({txtProductName:t.cellSelection[0].rowData.ProductName,txtShiftDetailLotNo:t.cellSelection[0].rowData.LotNo,txtBrandName:t.cellSelection[0].rowData.BrandName,txtpacketcount:t.cellSelection[0].rowData.ItemsInPacket,txtBalquantity:t.cellSelection[0].rowData.BalanceQuantity,txtShiftingQty:t.cellSelection[0].rowData.ShiftingQuantity,txtLocation:t.cellSelection[0].rowData.FromLocation,cbToLocation:t.cellSelection[0].rowData.ToLocationID,cblabourcontractor_id:t.cellSelection[0].rowData.LabourContractorID}),this.InwardDID=t.cellSelection[0].rowData.InwardDID,this.InwardLocationID=t.cellSelection[0].rowData.InwardLocationID,this.WareHousesID=this.currentUser.warehouseId,this.FromLocationID=t.cellSelection[0].rowData.FromLocationID,this.shiftingsDID=t.cellSelection[0].rowData.ShiftingDID;const r=this.ServiceList.filter(t=>t.ShiftingDID==this.shiftingsDID);this.ShiftingServiceList=r}OnActionShifting(t){if("Delete"==String(t.actions)){if(window.confirm("Do you want to cancel your Shifting...!!!")){const e={remarks:"",shiftingDID:0,shiftingID:t.rowData.ShiftingID,warehouseID:this.currentUser.warehouseId,customerID:this.form.value.cbCustomerID,createdBy:0,shiftingDate:0,loadingBy:0,LotNo:this.form.value.txtLotNo,StatusID:t.rowData.StatusID};console.log(e),this.api.post("/Shifting/ShiftingStatus_validation",e).subscribe(e=>{console.log(e),Number(e[0])>0?62==Number(t.rowData.StatusID)?this.dialog.alert("Sorry,this transaction has already cancelled ....!!!"):61==Number(t.rowData.StatusID)&&this.api.post("/Shifting/Shifting_Cancelled",{warehouseID:this.currentUser.warehouseId,StorageAreaID:0,shiftingDID:t.rowData.ShiftingDID,shiftingID:t.rowData.ShiftingID,LTD_StorageAreaS:null,BlockID:0,remarks:"text",createdBy:this.currentUser.userId}).subscribe(t=>{this.dialog.alert(t),this.BindShiftingList()},t=>{console.error(t)}):this.dialog.alert("Some data is updated. So Please reperform your delete operation...!!!")},t=>{console.error(t)})}}else"Print"==String(t.actions)&&this.api.get("/Shifting/ShiftingReceipt?ShiftingID="+t.rowData.ShiftingID).subscribe(t=>{console.log("OnActionShifting=>",t);var e=t[0].Base64Str;let r=window.open("");null==r||r.document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(e)+"'></iframe>")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.qu),c.Y36(n.qu),c.Y36(l.sM),c.Y36(u.cP),c.Y36(nt.uw))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-shifting"]],decls:129,vars:67,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],["animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Shifting"],[3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-6"],[1,"form-group"],["formControlName","cbCustomerID","id","cbCustomerID",1,"form-control","form-control-sm",3,"ngClass"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-sm-4"],["for","company"],["type","text","formControlName","txtLotNo","id","txtLotNo",1,"form-control","form-control-sm"],[1,"col-sm-2"],[1,"row"],[1,"form-group","pl-2"],["type","button",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"click"],["type","datetime-local","formControlName","shift_date","id","shift_date","placeholder","yyyy-MM-dd","name","shift_date",1,"form-control","form-control-sm",3,"ngModel"],[1,"col-sm-8"],["formControlName","cbloadingByID","id","cbloadingByID",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-12"],[1,"font-weight-bold"],[3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","dblclick"],["gridPendingDOdList",""],[1,"col-12"],["type","text","formControlName","txtProductName","id","txtProductName","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtShiftDetailLotNo","id","txtShiftDetailLotNo","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtBrandName","id","txtBrandName","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtpacketcount","id","txtpacketcount","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtBalquantity","id","txtBalquantity","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtShiftingQty","id","txtShiftingQty","autocomplete","off","placeholder","",1,"form-control","form-control-sm",3,"keyup"],["txtShiftingQty",""],["type","text","formControlName","txtLocation","id","txtLocation","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["formControlName","cbToLocation","id","cbToLocation",1,"form-control","form-control-sm",3,"change"],["disabled","",3,"ngValue"],["formControlName","cblabourcontractor_id","id","cblabourcontractor_id",1,"form-control","form-control-sm"],[1,"card"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs"],["gridShiftDetailList",""],["type","submit",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"hidden","value"],["label","Shifting List"],[2,"height","100%","box-sizing","border-box"],[1,"ag-theme-alpine",2,"height","450px",3,"rowData","columnDefs","frameworkComponents"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-tab-group",2),c.NdJ("selectedIndexChange",function(t){return e.tabchange(t)})("selectedIndexChange",function(t){return e.tab=t}),c.TgZ(4,"mat-tab",3),c.TgZ(5,"form",4),c.NdJ("ngSubmit",function(){return e.onSubmit(e.form)}),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"label"),c._uU(11,"Customer Name"),c.qZA(),c.TgZ(12,"select",9),c.TgZ(13,"option",10),c._uU(14,"Select "),c.qZA(),c.YNc(15,lt,2,2,"option",11),c.qZA(),c.YNc(16,dt,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(17,"div",13),c.TgZ(18,"div",8),c.TgZ(19,"label",14),c._uU(20,"LotNo"),c.qZA(),c._UZ(21,"input",15),c.YNc(22,ut,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(23,"div",16),c.TgZ(24,"div",17),c.TgZ(25,"div",18),c.TgZ(26,"button",19),c.NdJ("click",function(){return e.OnSearchClick()}),c._uU(27,"Apply "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(28,"div",13),c.TgZ(29,"div",8),c.TgZ(30,"label",14),c._uU(31,"Shifting Date"),c.qZA(),c._UZ(32,"input",20),c.ALo(33,"date"),c.YNc(34,ht,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(35,"div",21),c.TgZ(36,"div",8),c.TgZ(37,"label"),c._uU(38,"Loading By"),c.qZA(),c.TgZ(39,"select",22),c.TgZ(40,"option",10),c._uU(41,"Select "),c.qZA(),c.YNc(42,ft,2,2,"option",11),c.qZA(),c.YNc(43,Dt,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(44,"div",23),c._UZ(45,"hr"),c.TgZ(46,"p",24),c._uU(47,"Pending DO"),c.qZA(),c.TgZ(48,"mtx-grid",25,26),c.NdJ("dblclick",function(r){c.CHM(t);const i=c.MAs(49);return e.onRowDblclicked(i,r)}),c.qZA(),c.qZA(),c.TgZ(50,"div",27),c._UZ(51,"hr"),c.TgZ(52,"p",24),c._uU(53,"Shifting Details"),c.qZA(),c.TgZ(54,"div",17),c.TgZ(55,"div",21),c.TgZ(56,"div",17),c.TgZ(57,"div",7),c.TgZ(58,"div",8),c.TgZ(59,"label"),c._uU(60,"Product Name"),c.qZA(),c._UZ(61,"input",28),c.qZA(),c.qZA(),c.TgZ(62,"div",7),c.TgZ(63,"div",8),c.TgZ(64,"label"),c._uU(65,"Lot No"),c.qZA(),c._UZ(66,"input",29),c.qZA(),c.qZA(),c.TgZ(67,"div",7),c.TgZ(68,"div",8),c.TgZ(69,"label"),c._uU(70,"Brand Name "),c.qZA(),c._UZ(71,"input",30),c.qZA(),c.qZA(),c.TgZ(72,"div",7),c.TgZ(73,"div",8),c.TgZ(74,"label"),c._uU(75,"Count In Packet"),c.qZA(),c._UZ(76,"input",31),c.qZA(),c.qZA(),c.TgZ(77,"div",7),c.TgZ(78,"div",8),c.TgZ(79,"label"),c._uU(80,"Balance Quantity"),c.qZA(),c._UZ(81,"input",32),c.qZA(),c.qZA(),c.TgZ(82,"div",7),c.TgZ(83,"div",8),c.TgZ(84,"label"),c._uU(85,"Shifting Quantity"),c.qZA(),c.TgZ(86,"input",33,34),c.NdJ("keyup",function(){c.CHM(t);const r=c.MAs(87);return e.onKeyfilter(r.value)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(88,"div",7),c.TgZ(89,"div",8),c.TgZ(90,"label"),c._uU(91,"Location"),c.qZA(),c._UZ(92,"input",35),c.qZA(),c.qZA(),c.TgZ(93,"div",7),c.TgZ(94,"div",8),c.TgZ(95,"label"),c._uU(96,"To Location"),c.qZA(),c.TgZ(97,"select",36),c.NdJ("change",function(t){return e.OnToLocationSelect(t)}),c.TgZ(98,"option",37),c._uU(99,"Select "),c.qZA(),c.YNc(100,pt,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(101,"div",7),c.TgZ(102,"div",8),c.TgZ(103,"label"),c._uU(104,"Labour Contracter"),c.qZA(),c.TgZ(105,"select",38),c.TgZ(106,"option",37),c._uU(107,"Select "),c.qZA(),c.YNc(108,Zt,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(109,"div",7),c.TgZ(110,"div",8),c.TgZ(111,"button",19),c.NdJ("click",function(){return e.OnAddClick()}),c._uU(112," Add "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(113,"div",13),c.TgZ(114,"div",39),c._UZ(115,"ag-grid-angular",40),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(116,"div",27),c._UZ(117,"hr"),c.TgZ(118,"p",24),c._uU(119," Shifting Detail List "),c.qZA(),c.TgZ(120,"mtx-grid",25,41),c.NdJ("dblclick",function(r){c.CHM(t);const i=c.MAs(121);return e.onShiftDetailRowDblclick(i,r)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(122,"div",23),c.TgZ(123,"div",8),c.TgZ(124,"button",42),c._uU(125," Save "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(126,"mat-tab",43),c.TgZ(127,"div",44),c._UZ(128,"ag-grid-angular",45),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&t&&(c.xp6(3),c.Q6J("selectedIndex",e.tab),c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(7),c.Q6J("ngClass",c.VKq(61,It,e.submitted&&e.f.cbCustomerID.invalid)),c.xp6(3),c.Q6J("ngForOf",e.customerList),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.cbCustomerID.invalid),c.xp6(6),c.Q6J("ngIf",e.submitted&&e.f.txtLotNo.invalid),c.xp6(10),c.Q6J("ngModel",c.xi3(33,58,e.todayDate,"yyyy-MM-dd hh:mm:ss")),c.xp6(2),c.Q6J("ngIf",e.submitted&&e.f.shift_date.invalid),c.xp6(5),c.Q6J("ngClass",c.VKq(63,It,e.submitted&&e.f.cbloadingByID.invalid)),c.xp6(3),c.Q6J("ngForOf",e.loadingByList),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.cbloadingByID.invalid),c.xp6(5),c.Q6J("data",e.BalanceStockList)("columns",e.BalanceStockColumn)("loading",!1)("columnResizable",!0)("multiSelectable",!1)("rowSelectable",!0)("hideRowSelectionCheckbox",!0)("rowHover",!0)("rowStriped",!1)("showToolbar",!1)("toolbarTitle","Detail List")("columnHideable",!1)("columnMovable",!0)("expandable",!1)("pageOnFront",!0)("showPaginator",!1)("pageSizeOptions",c.DdM(65,vt))("pageIndex",0),c.xp6(50),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.StorageAreas),c.xp6(6),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.labourContractorList),c.xp6(7),c.Q6J("rowData",e.ShiftingServiceList)("columnDefs",e.serviceColumns),c.xp6(5),c.Q6J("data",e.ShiftingDetailList)("columns",e.ShiftingDetailColumns)("loading",!1)("columnResizable",!0)("multiSelectable",!1)("rowSelectable",!1)("hideRowSelectionCheckbox",!1)("rowHover",!0)("rowStriped",!1)("showToolbar",!1)("toolbarTitle","Detail List")("columnHideable",!1)("columnMovable",!0)("expandable",!1)("pageOnFront",!0)("showPaginator",!1)("pageSizeOptions",c.DdM(66,vt))("pageIndex",0),c.xp6(4),c.Q6J("hidden",!e.HideSaveButton)("value",e.submitted),c.xp6(4),c.Q6J("rowData",e.ShiftingList)("columnDefs",e.ShiftingListColumnDefs)("frameworkComponents",e.frameworkComponents))},directives:[h.xw,h.yH,f.a8,g.SP,g.uX,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,s.mk,p.oO,n.YN,n.Kr,s.sg,s.O5,n.Fj,I.CM,Z.N8],pipes:[s.uU],styles:[""]}),t})(),bt=(()=>{class t{constructor(){this.label=""}agInit(t){this.params=t,this.label=this.params.label||null}refresh(t){return!0}onClick(t,e){this.params.onClick instanceof Function&&this.params.onClick({event:t,rowData:this.params.node.data,actions:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-transferdeletebutton"]],decls:5,vars:0,consts:[[1,"input-group"],["type","button",1,"btn","btn-secondary","btn-sm","btn-space",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c.NdJ("click",function(t){return e.onClick(t,"Delete")}),c._uU(2,"Delete"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(t){return e.onClick(t,"Print")}),c._uU(4,"Print"),c.qZA(),c.qZA())},styles:[".btn-space[_ngcontent-%COMP%]{margin-right:5%}"]}),t})();function yt(t,e){if(1&t&&(c.TgZ(0,"option",55),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function Ct(t,e){1&t&&(c.TgZ(0,"span"),c._uU(1,"Select Customer"),c.qZA())}function Nt(t,e){if(1&t&&(c.TgZ(0,"div",56),c.YNc(1,Ct,2,0,"span",57),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.cbCustomerID||null==t.f.cbCustomerID.errors?null:t.f.cbCustomerID.errors.required)}}function At(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"select Transfer date"),c.qZA())}function wt(t,e){if(1&t&&(c.TgZ(0,"div",56),c.YNc(1,At,2,0,"div",57),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.Transfer_date||null==t.f.Transfer_date.errors?null:t.f.Transfer_date.errors.required)}}function xt(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Enter Lot No"),c.qZA())}function qt(t,e){if(1&t&&(c.TgZ(0,"div",56),c.YNc(1,xt,2,0,"div",57),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.txtTransfeNo||null==t.f.txtTransfeNo.errors?null:t.f.txtTransfeNo.errors.required)}}function Lt(t,e){if(1&t&&(c.TgZ(0,"option",55),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function St(t,e){1&t&&(c.TgZ(0,"span"),c._uU(1,"Select To Customer"),c.qZA())}function _t(t,e){if(1&t&&(c.TgZ(0,"div",56),c.YNc(1,St,2,0,"span",57),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.cbToCustomerID||null==t.f.cbToCustomerID.errors?null:t.f.cbToCustomerID.errors.required)}}function kt(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Order Given By"),c.qZA())}function Ot(t,e){if(1&t&&(c.TgZ(0,"div",56),c.YNc(1,kt,2,0,"div",57),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.txtOrderGivenBy||null==t.f.txtOrderGivenBy.errors?null:t.f.txtOrderGivenBy.errors.required)}}function Ut(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Enter Lot No"),c.qZA())}function Ft(t,e){if(1&t&&(c.TgZ(0,"div",56),c.YNc(1,Ut,2,0,"div",57),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.txtRemarks||null==t.f.txtRemarks.errors?null:t.f.txtRemarks.errors.required)}}function Pt(t,e){if(1&t&&(c.TgZ(0,"option",58),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.ProductID),c.xp6(1),c.Oqu(t.ProductName)}}function Bt(t,e){if(1&t&&(c.TgZ(0,"option",58),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.StorageAreaTypeID),c.xp6(1),c.hij("",t.ServiceName," ")}}function Qt(t,e){if(1&t&&(c.TgZ(0,"option",55),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.StorageAreaID),c.xp6(1),c.hij("",t.StorageArea," ")}}function Rt(t,e){if(1&t&&(c.TgZ(0,"option",55),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.LabourContractorID),c.xp6(1),c.hij("",t.ContractorName," ")}}function Jt(t,e){if(1&t&&(c.TgZ(0,"option",55),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.Remarks),c.xp6(1),c.hij("",t.Remarks," ")}}const Mt=function(t){return{"is-invalid":t}},Yt=function(){return[10,20,50,100,500]};let Et=(()=>{class t{constructor(t,e,r,i,o){this.fb=t,this.fbAdd=e,this.api=r,this.dialog=i,this.dialogBox=o,this.tab=0,this.submitted=!1,this.HideSaveButton=!0,this.DID=0,this.TransfersID=0,this.InwardDID=0,this.InwardLocationID=0,this.StorageAreaID=0,this.NewLotNo="",this.NewLotNoID=0,this.TransferDetailsList=[],this.DetailList=[],this.ChargesList=[],this.TransferchargesList=[],this.TrnsNewLotList=[],this.flag=!1,this.TransferDetailtab=0,this.TransferDetailsListSave=[],this.TransferChargesListSave=[],this.ShiftingProductListCol=[{headerName:"InwardDID",field:"InwardDID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ProductID",field:"ProductID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ProductName",field:"ProductName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LotNo",field:"LotNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"FirstLotNo",field:"FirstLotNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"BrandName",field:"BrandName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CountInPacket",field:"CountInPacket",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"InwardLocationID",field:"InwardLocationID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StorageAreaID",field:"StorageAreaID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Location",field:"Location",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StorageAreaTypeID",field:"StorageAreaTypeID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StorageAreaType",field:"StorageAreaType",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"BalanceQuantity",field:"BalanceQuantity",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ProductRemarks",field:"ProductRemarks",filter:"agTextColumnFilter",floatingFilter:!0}],this.serviceColumns=[{field:"Add",cellRenderer:t=>this.checkBoxCellEditRenderer(t),hide:!1,width:10},{field:"TransferDID",hide:!0},{field:"ServiceID",hide:!0,resizable:!1},{field:"ServiceName"},{field:"C_Rate",hide:!0},{field:"L_Rate",hide:!0}],this.TransferListColumnDefs=[{headerName:"Action",width:150,floatingFilter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.OnActionTransfer.bind(this),label:"Click 1"}},{headerName:"TransferID",field:"TransferID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TransferNo",field:"TransferNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"WareHouseID",field:"WareHouseID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"FromCustomerID",field:"FromCustomerID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"FromCustomer",field:"FromCustomer",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ToCustomerID",field:"ToCustomerID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ToCustomer",field:"ToCustomer",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TransferDate",field:"TransferDate",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OrderGivenBy",field:"OrderGivenBy",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"WareHouseName",field:"WareHouseName",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StatusID",field:"StatusID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Status",field:"Status",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0}],this.TransferDetailColumns=[{header:"TransferDID",field:"TransferDID",hide:!0},{header:"InwardDID",field:"InwardDID",hide:!0},{header:"LotNo",field:"LotNo",hide:!1},{header:"NewLotNo",field:"NewLotNo"},{header:"ProductID",field:"ProductID",hide:!0},{header:"ProductName",field:"ProductName"},{header:"BrandName",field:"BrandName"},{header:"InwardLocationID",field:"InwardLocationID",hide:!0},{header:"StorageAreaID",field:"StorageAreaID",hide:!0},{header:"ToStorageAreaID",field:"ToStorageAreaID",hide:!0},{header:"Location",field:"Location"},{header:"BalanceQty",field:"BalanceQty"},{header:"TransferQty",field:"TransferQty"},{header:"StorageAreaTypeID",field:"StorageAreaTypeID",hide:!0},{header:"StorageAreaType",field:"StorageAreaType"},{header:"LabourContractorID",field:"LabourContractorID",hide:!0},{header:"LabourContractorName",field:"LabourContractorName"},{header:"countInPacket",field:"countInPacket"},{header:"ProductRemarks",field:"ProductRemarks"}];const a=new s.uU("en-US").transform(Date(),"yyyy-MM-dd hh:mm:ss");this.todayDate=a,this.currentUser=this.api.getCurrentUser(),this.frameworkComponents={buttonRenderer:bt}}ngOnInit(){this.ProductList=[],this.TransferServiceList=[],this.form=this.fb.group({cbCustomerID:["",n.kI.required],Transfer_date:["",n.kI.required],txtTransfeNo:["",n.kI.required],cbToCustomerID:["",n.kI.required],txtOrderGivenBy:[null,n.kI.required],txtRemarks:[""],txtLotNo:[""],cbproduct_id:[""],txtBalanceQty:[""],txtBrand:[""],txtCount:[""],txtTransferQty:[""],cbStorageAreaType:[""],txtBillingCycle:[""],ckCustomerarea:[""],cbRemarks:[""],txtNewLotNo:[""],cbLocation:[""],cbLabourContractor:[""]}),this.BindDropdown(),this.BindTransferList(),this.BindTransferNewLotList()}get f(){return this.form.controls}BindDropdown(){return(0,a.mG)(this,void 0,void 0,function*(){const t={wareHouseID:this.currentUser.warehouseId,companyID:0,fromCustomerID:0,toCustomerID:0,transferDate:0,orderGivenBy:0,remarks:0,createdBy:0,financialYearID:0,storageAreaMasterID:0};this.api.get("/Customer").subscribe(t=>{this.customerList=t},t=>{console.error(t)}),this.api.get("/StorageAreaType/ServieceStorageAreaType").subscribe(t=>{this.StorageAreaTypeList=t},t=>{console.error(t)}),this.api.post("/Transfer/GetStorageArea",t).subscribe(t=>{this.LocationList=t},t=>{console.error(t)}),this.api.get("/LabourContracter").subscribe(t=>{this.labourContractorList=t},t=>{console.error(t)}),this.api.get("/Remarks").subscribe(t=>{this.remarkList=t.filter(t=>6==t.ProcessID)},t=>{console.error(t)})})}BindTransferNewLotList(){return(0,a.mG)(this,void 0,void 0,function*(){this.TrnsNewLotList=[],this.NewLotNolist=[],this.BindNewLotNoData={InwardID:0,CustomerID:0,Remarks:0,CreatedBy:0,serviceID:0,ProductID:0,CompanyId:Number(this.currentUser.companyId),WarehouseId:Number(this.currentUser.warehouseId),FinantialYearId:Number(this.currentUser.FinantialYearId),challan:0,StorageAreaMasterID:1,FinancialYear:""},this.api.post("/Inward/GetLotNo",this.BindNewLotNoData).subscribe(t=>{this.NewLotNolist=t,this.NewLotNo=this.NewLotNolist[0].Prefix+this.NewLotNolist[0].LotNo+this.NewLotNolist[0].Sufix,this.NewLotNoID=Number(this.NewLotNolist[0].LotNo),this.form.controls.txtNewLotNo.setValue(this.NewLotNo)},t=>{console.error(t)})})}BindTransferList(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.post("/Transfer/Transfer_List",{transferID:0,wareHouseID:this.currentUser.warehouseId,companyID:0,fromCustomerID:0,toCustomerID:0,transferDate:0,orderGivenBy:0,remarks:"",createdBy:0,financialYearID:0,storageAreaMasterID:0}).subscribe(t=>{this.TransferList=t},t=>{console.error(t)})})}tabchange(t){this.tab=t}OnSaveTransfer(t){this.submitted=!0,console.log(t),this.TransferDetailsList.forEach(t=>{this.TransferDetailsList.length>0&&this.TransferDetailsListSave.push({TransferDID:t.TransferDID,InwardDID:t.InwardDID,ProductID:t.ProductID,LotNo:t.LotNo,InwardLocationID:t.InwardLocationID,StorageAreaID:t.StorageAreaID,TransferQuantity:t.TransferQty,ToStorageAreaID:t.ToStorageAreaID,LabourContractorID:t.LabourContractorID,Remarks:t.ProductRemarks,StorageAreaTypeID:t.StorageAreaTypeID,NewLotNo:t.NewLotNo})}),this.TransferDetailsListSave.slice(),this.TransferchargesList.forEach(t=>{this.TransferchargesList.length>0&&this.TransferChargesListSave.push({Add:t.Add,TransferDID:t.TransferDID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,C_Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.TransferChargesListSave.slice(),this.SaveTransferData={TransferID:this.TransfersID,WareHouseID:this.currentUser.warehouseId,CompanyID:this.currentUser.companyId,FromCustomerID:this.form.value.cbCustomerID,ToCustomerID:this.form.value.cbToCustomerID,TransferDate:this.form.value.Transfer_date,OrderGivenBy:this.form.value.txtOrderGivenBy,Remarks:this.form.value.txtRemarks,CreatedBy:this.currentUser.userId,TDTransferDetail:this.TransferDetailsListSave,TDTransferCharges:this.TransferChargesListSave,FinancialYearID:this.currentUser.FinantialYearId,StorageAreaMasterID:1},console.log(this.SaveTransferData),this.api.post("/Transfer/Transfer_Insert",this.SaveTransferData).subscribe(t=>{this.dialog.alert(t.Table[0].Message),this.BindTransferList()},t=>{console.error(t)})}GetCustomerID(t){this.api.post("/Transfer/GetTransferProductList",{transferID:0,wareHouseID:this.currentUser.warehouseId,companyID:0,fromCustomerID:this.form.value.cbCustomerID,toCustomerID:0,transferDate:0,orderGivenBy:"",remarks:"",createdBy:0,financialYearID:this.currentUser.FinantialYearId,storageAreaMasterID:0}).subscribe(t=>{this.ProductList=t},t=>{console.error(t)}),this.api.post("/Inward/GetCustomerProducts?customerid="+this.form.value.cbCustomerID+"&warehouseid="+this.currentUser.warehouseId).subscribe(t=>{this.ProductNameList=t},t=>{console.error(t)})}checkBoxCellEditRenderer(t){const e=document.createElement("input");return e.type="checkbox",e.value="false",e.checked=t.value,e.addEventListener("click",e=>{t.setValue(1!=t.value),this.ChargesList=[],this.TransferServiceList.forEach(t=>{1==t.Add&&this.ChargesList.push({Add:!0,TransferDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,C_Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.ChargesList.slice()}),e}OnCustomerarea(t){var e;1==this.form.value.ckCustomerarea?null==this.form.value.cbToCustomerID||""==this.form.value.cbToCustomerID?(this.dialog.alert("Please... Select To CustomerID ..!!!"),null===(e=null==document?void 0:document.getElementById("cbToCustomerID"))||void 0===e||e.focus(),this.form.controls.ckCustomerarea.setValue(!1)):this.api.post("/Transfer/GetStorageArea",{wareHouseID:this.currentUser.warehouseId,companyID:0,fromCustomerID:0,toCustomerID:this.form.value.cbToCustomerID,transferDate:0,orderGivenBy:0,remarks:0,createdBy:0,financialYearID:0,storageAreaMasterID:0}).subscribe(t=>{this.LocationList=t},t=>{console.error(t)}):this.api.post("/Transfer/GetStorageArea",{wareHouseID:this.currentUser.warehouseId,companyID:0,fromCustomerID:0,toCustomerID:0,transferDate:0,orderGivenBy:0,remarks:0,createdBy:0,financialYearID:0,storageAreaMasterID:0}).subscribe(t=>{this.LocationList=t},t=>{console.error(t)})}onProductListRowClicked(t){var e;const r={InwardID:0,CustomerID:Number(this.form.value.cbCustomerID),Remarks:"",CreatedBy:0,serviceID:0,ProductID:Number(t.data.ProductID),CompanyId:0,WarehouseId:this.currentUser.warehouseId,FinantialYearId:0,challan:"",StorageAreaMasterID:0,FinancialYear:""};this.api.post("/Transfer/GetTransferServices",r).subscribe(t=>{this.TransferServiceList=t},t=>{console.error(t)}),this.form.patchValue({txtLotNo:t.data.LotNo,cbproduct_id:t.data.ProductID,txtBrand:t.data.BrandName,txtBalanceQty:t.data.BalanceQuantity,txtCount:t.data.CountInPacket,cbStorageAreaType:t.data.StorageAreaTypeID,cbLocation:t.data.StorageAreaID}),this.InwardDID=0,this.InwardLocationID=0,this.StorageAreaID=0,this.InwardDID=t.data.InwardDID,this.InwardLocationID=t.data.InwardLocationID,this.StorageAreaID=t.data.StorageAreaID,null===(e=null==document?void 0:document.getElementById("txtTransferQty"))||void 0===e||e.focus()}onKeyTransferQty(t){Number(this.form.value.txtTransferQty)>0&&Number(this.form.value.txtBalanceQty)<Number(t)&&(this.dialog.alert("Transfer Quantity is less than equal to balance quantity ....!!!"),this.form.controls.txtTransferQty.setValue(""))}OnAddClick(){var t,e;if(null==this.form.value.txtTransferQty||""==this.form.value.txtTransferQty||"0"==this.form.value.txtTransferQty)return null===(t=null==document?void 0:document.getElementById("txtTransferQty"))||void 0===t||t.focus(),void this.dialog.alert("Please .... Enter Transfer Quantity...");if(null==this.form.value.cbLabourContractor||""==this.form.value.cbLabourContractor)return null===(e=null==document?void 0:document.getElementById("cbLabourContractor"))||void 0===e||e.focus(),void this.dialog.alert("Please .... Enter Labour Contractor....");{if(1==this.flag){const t=this.DetailList.filter(t=>t.TransferDID!=this.DID);this.DetailList=t;const e=this.TransferchargesList.filter(t=>t.TransferDID!=this.DID);this.TransferchargesList=e}const t=this.ProductNameList.filter(t=>t.ProductID==this.form.value.cbproduct_id),e=this.LocationList.filter(t=>t.StorageAreaID==this.form.value.cbLocation),r=this.StorageAreaTypeList.filter(t=>t.StorageAreaTypeID==this.form.value.cbStorageAreaType),i=this.labourContractorList.filter(t=>t.LabourContractorID==this.form.value.cbLabourContractor);0==this.flag&&(this.DID=this.DID+1,this.TrnsNewLotList.push({LotNo:String(this.NewLotNoID),Prefix:"",Sufix:""}),this.NewLotNoID=this.NewLotNoID+1),this.newTransferDetail=[],this.newTransferDetail={TransferDID:this.DID,InwardDID:this.InwardDID,LotNo:this.form.value.txtLotNo,NewLotNo:this.form.value.txtNewLotNo,ProductID:this.form.value.cbproduct_id,ProductName:t[0].ProductName,BrandName:this.form.value.txtBrand,InwardLocationID:this.InwardLocationID,StorageAreaID:this.StorageAreaID,ToStorageAreaID:Number(this.form.value.cbLocation),Location:e[0].StorageArea,BalanceQty:this.form.value.txtBalanceQty,TransferQty:Number(this.form.value.txtTransferQty),StorageAreaTypeID:this.form.value.cbStorageAreaType,StorageAreaType:r[0].ServiceName,LabourContractorID:this.form.value.cbLabourContractor,LabourContractorName:i[0].ContractorName,countInPacket:this.form.value.txtCount,ProductRemarks:this.form.value.cbRemarks},this.DetailList.push(this.newTransferDetail),this.TransferDetailsList=this.DetailList.slice(),this.TransferServiceList.forEach(t=>{1==t.Add&&this.TransferchargesList.push({Add:!0,TransferDID:this.DID,ServiceID:t.ServiceID,ServiceName:t.ServiceName,C_Rate:t.C_Rate,L_Rate:t.L_Rate})}),this.NewLotNo=this.NewLotNolist[0].Prefix+this.NewLotNoID+this.NewLotNolist[0].Sufix,this.form.controls.txtNewLotNo.setValue(this.NewLotNo),this.form.controls.txtLotNo.reset(),this.form.controls.cbproduct_id.reset(),this.form.controls.txtBalanceQty.reset(),this.form.controls.txtBrand.reset(),this.form.controls.txtCount.reset(),this.form.controls.txtTransferQty.reset(),this.form.controls.cbStorageAreaType.reset(),this.form.controls.txtBillingCycle.reset(),this.form.controls.ckCustomerarea.reset(),this.form.controls.cbRemarks.reset(),this.form.controls.cbLocation.reset(),this.TransferServiceList=[]}console.log("Add_detail",this.TransferDetailsList),console.log("Add_charges",this.TransferchargesList)}onRowDblclickedTransfer(t,e){this.flag=!0,this.InwardDID=0,this.InwardLocationID=0,this.StorageAreaID=0,this.DID=t.cellSelection[0].rowData.TransferDID,this.InwardDID=t.cellSelection[0].rowData.InwardDID,this.InwardLocationID=t.cellSelection[0].rowData.InwardLocationID,this.StorageAreaID=t.cellSelection[0].rowData.StorageAreaID,this.form.patchValue({txtLotNo:t.cellSelection[0].rowData.LotNo,cbproduct_id:t.cellSelection[0].rowData.ProductID,txtBalanceQty:t.cellSelection[0].rowData.BalanceQty,txtBrand:t.cellSelection[0].rowData.BrandName,txtCount:t.cellSelection[0].rowData.countInPacket,txtTransferQty:t.cellSelection[0].rowData.TransferQty,cbStorageAreaType:t.cellSelection[0].rowData.StorageAreaTypeID,txtBillingCycle:"",ckCustomerarea:!1,cbRemarks:t.cellSelection[0].rowData.ProductRemarks,txtNewLotNo:t.cellSelection[0].rowData.NewLotNo,cbLocation:t.cellSelection[0].rowData.ToStorageAreaID,cbLabourContractor:t.cellSelection[0].rowData.LabourContractorID}),this.TransferDetailtab=0;const r={InwardID:0,CustomerID:Number(this.form.value.cbCustomerID),Remarks:"",CreatedBy:0,serviceID:0,ProductID:Number(t.cellSelection[0].rowData.ProductID),CompanyId:0,WarehouseId:this.currentUser.warehouseId,FinantialYearId:0,challan:"",StorageAreaMasterID:0,FinancialYear:""};this.api.post("/Transfer/GetTransferServices",r).subscribe(t=>{this.TransferServiceList=t,this.serviceListEditBind()},t=>{console.error(t)})}serviceListEditBind(){const t=this.TransferchargesList.filter(t=>t.TransferDID==this.DID);this.TransferServiceTest=t;let e=this.TransferServiceTest.concat(this.TransferServiceList.filter(t=>!this.TransferServiceTest.find(e=>e.ServiceID==t.ServiceID)));this.TransferServiceList=e,this.TransferServiceList.forEach(t=>{t.ServiceID>0&&(t.TransferDID=this.DID)})}OnActionTransfer(t){if(console.log(t.rowData),"Delete"==String(t.actions)){if(window.confirm("Do you want to cancel your Transfer...!!!")){const e={transferID:Number(t.rowData.TransferID),wareHouseID:Number(t.rowData.WareHouseID),companyID:0,fromCustomerID:Number(t.rowData.FromCustomerID),toCustomerID:0,transferDate:"",orderGivenBy:"",remarks:"",createdBy:0,financialYearID:0,storageAreaMasterID:0,StatusID:Number(t.rowData.StatusID)};console.log(e),this.api.post("/Transfer/TransferStatus_validation",e).subscribe(e=>{if(Number(e[0])>0)if(72==Number(t.rowData.StatusID))this.dialog.alert("Sorry,Transfer already deactivated or deleted ....!!!");else{const e={transferID:Number(t.rowData.TransferID),wareHouseID:Number(t.rowData.WareHouseID),companyID:0,fromCustomerID:Number(t.rowData.FromCustomerID),toCustomerID:Number(t.rowData.ToCustomerID),transferDate:"",orderGivenBy:"",remarks:"",createdBy:this.currentUser.userId,financialYearID:0,storageAreaMasterID:0,StatusID:Number(t.rowData.StatusID)};this.api.post("/Transfer/Transfer_Cancelled",e).subscribe(t=>{this.dialog.alert(t),this.BindTransferList()},t=>{console.error(t)})}else this.dialog.alert("Please re-perform your delete operation...!!!")},t=>{console.error(t)})}}else"Print"==String(t.actions)&&this.api.get("/Transfer/TransferReceipt?TransferID="+t.rowData.TransferID).subscribe(t=>{console.log("OnActionTransfer=>",t);var e=t[0].Base64Str;let r=window.open("");null==r||r.document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(e)+"'></iframe>")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.qu),c.Y36(n.qu),c.Y36(l.sM),c.Y36(u.cP),c.Y36(nt.uw))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-transfer"]],decls:161,vars:62,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],["animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Transfer"],[3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-7"],[1,"form-group"],["formControlName","cbCustomerID","id","cbCustomerID",1,"form-control","form-control-sm",3,"ngClass","change"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-sm-3"],["for","company"],["type","datetime-local","formControlName","Transfer_date","id","Transfer_date","placeholder","yyyy-MM-dd","name","Transfer_date",1,"form-control","form-control-sm",3,"ngModel"],[1,"col-sm-2"],["type","text","readonly","","formControlName","txtTransfeNo","id","txtTransfeNo",1,"form-control","form-control-sm"],[1,"col-sm-6"],["formControlName","cbToCustomerID","id","cbToCustomerID",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","txtOrderGivenBy","id","txtOrderGivenBy",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","txtRemarks","id","txtRemarks",1,"form-control","form-control-sm"],[1,"col-sm-12"],[1,"font-weight-bold"],[2,"height","100%","box-sizing","border-box"],[1,"ag-theme-alpine",2,"height","450px",3,"rowData","columnDefs","rowSelection","rowDoubleClicked"],["label","Transfer Product Details"],[1,"col-sm-9"],[1,"row"],["type","text","formControlName","txtLotNo","id","txtLotNo","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["formControlName","cbproduct_id","id","cbproduct_id",1,"form-control","form-control-sm"],["disabled","",3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","txtBalanceQty","id","txtBalanceQty","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtBrand","id","txtBrand","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","text","formControlName","txtTransferQty","id","txtTransferQty","autocomplete","off","placeholder","",1,"form-control","form-control-sm",3,"keyup"],["txtTransferQty",""],["type","text","formControlName","txtCount","id","txtCount","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["formControlName","cbStorageAreaType","id","cbStorageAreaType","readonly","",1,"form-control","form-control-sm"],["disabled","",3,"ngValue"],["type","text","formControlName","txtBillingCycle","id","txtBillingCycle","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["type","checkbox","formControlName","ckCustomerarea","id","ckCustomerarea",1,"form-control",3,"change"],["type","text","formControlName","txtNewLotNo","id","txtNewLotNo","autocomplete","off","placeholder","","readonly","",1,"form-control","form-control-sm"],["formControlName","cbLocation","id","cbLocation",1,"form-control","form-control-sm"],["formControlName","cbLabourContractor","id","cbLabourContractor",1,"form-control","form-control-sm"],["formControlName","cbRemarks","id","cbRemarks",1,"form-control","form-control-sm"],[1,"card"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs"],["type","button",1,"btn","btn-primary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"click"],["label","Product Detail List"],[1,"col-12"],[2,"height","400px",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","dblclick"],["gridTransferDetailList",""],["type","submit",1,"btn","btn-primary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"hidden","value"],["label","Transfer List"],[1,"ag-theme-alpine",2,"height","450px",3,"rowData","columnDefs","frameworkComponents"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["disabled","",3,"value"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-tab-group",2),c.NdJ("selectedIndexChange",function(t){return e.tabchange(t)})("selectedIndexChange",function(t){return e.tab=t}),c.TgZ(4,"mat-tab",3),c.TgZ(5,"form",4),c.NdJ("ngSubmit",function(){return e.OnSaveTransfer(e.form)}),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"div",8),c.TgZ(10,"label"),c._uU(11,"Customer Name"),c.qZA(),c.TgZ(12,"select",9),c.NdJ("change",function(t){return e.GetCustomerID(t)}),c.TgZ(13,"option",10),c._uU(14,"Select "),c.qZA(),c.YNc(15,yt,2,2,"option",11),c.qZA(),c.YNc(16,Nt,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(17,"div",13),c.TgZ(18,"div",8),c.TgZ(19,"label",14),c._uU(20,"Transfer Date"),c.qZA(),c._UZ(21,"input",15),c.ALo(22,"date"),c.YNc(23,wt,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(24,"div",16),c.TgZ(25,"div",8),c.TgZ(26,"label",14),c._uU(27,"Transfer No"),c.qZA(),c._UZ(28,"input",17),c.YNc(29,qt,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(30,"div",18),c.TgZ(31,"div",8),c.TgZ(32,"label"),c._uU(33,"To Customer"),c.qZA(),c.TgZ(34,"select",19),c.TgZ(35,"option",10),c._uU(36,"Select "),c.qZA(),c.YNc(37,Lt,2,2,"option",11),c.qZA(),c.YNc(38,_t,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(39,"div",13),c.TgZ(40,"div",8),c.TgZ(41,"label",14),c._uU(42,"Order Given By"),c.qZA(),c._UZ(43,"input",20),c.YNc(44,Ot,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(45,"div",13),c.TgZ(46,"div",8),c.TgZ(47,"label",14),c._uU(48,"Remarks"),c.qZA(),c._UZ(49,"input",21),c.YNc(50,Ft,2,1,"div",12),c.qZA(),c.qZA(),c.TgZ(51,"div",22),c._UZ(52,"hr"),c.TgZ(53,"p",23),c._uU(54,"Product List"),c.qZA(),c.TgZ(55,"div",24),c.TgZ(56,"ag-grid-angular",25),c.NdJ("rowDoubleClicked",function(t){return e.onProductListRowClicked(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(57,"div",22),c._UZ(58,"hr"),c.TgZ(59,"mat-card"),c.TgZ(60,"mat-tab-group",2),c.NdJ("selectedIndexChange",function(t){return e.TransferDetailtab=t}),c.TgZ(61,"mat-tab",26),c.TgZ(62,"div",6),c.TgZ(63,"div",27),c.TgZ(64,"div",28),c.TgZ(65,"div",18),c.TgZ(66,"div",8),c.TgZ(67,"label"),c._uU(68,"Lot No"),c.qZA(),c._UZ(69,"input",29),c.qZA(),c.qZA(),c.TgZ(70,"div",18),c.TgZ(71,"div",8),c.TgZ(72,"label"),c._uU(73,"Product Name"),c.qZA(),c.TgZ(74,"select",30),c.TgZ(75,"option",10),c._uU(76,"Select "),c.qZA(),c.YNc(77,Pt,2,2,"option",31),c.qZA(),c.qZA(),c.qZA(),c.TgZ(78,"div",18),c.TgZ(79,"div",8),c.TgZ(80,"label"),c._uU(81,"Balance Qty"),c.qZA(),c._UZ(82,"input",32),c.qZA(),c.qZA(),c.TgZ(83,"div",18),c.TgZ(84,"div",8),c.TgZ(85,"label"),c._uU(86,"Brand"),c.qZA(),c._UZ(87,"input",33),c.qZA(),c.qZA(),c.TgZ(88,"div",18),c.TgZ(89,"div",8),c.TgZ(90,"label"),c._uU(91,"Transfer Qty"),c.qZA(),c.TgZ(92,"input",34,35),c.NdJ("keyup",function(){c.CHM(t);const r=c.MAs(93);return e.onKeyTransferQty(r.value)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(94,"div",18),c.TgZ(95,"div",8),c.TgZ(96,"label"),c._uU(97,"Count"),c.qZA(),c._UZ(98,"input",36),c.qZA(),c.qZA(),c.TgZ(99,"div",18),c.TgZ(100,"div",8),c.TgZ(101,"label"),c._uU(102,"Storage Type"),c.qZA(),c.TgZ(103,"select",37),c._UZ(104,"option",38),c.YNc(105,Bt,2,2,"option",31),c.qZA(),c.qZA(),c.qZA(),c.TgZ(106,"div",18),c.TgZ(107,"div",8),c.TgZ(108,"label"),c._uU(109,"Billing Cycle"),c.qZA(),c._UZ(110,"input",39),c.qZA(),c.qZA(),c.TgZ(111,"div",18),c.TgZ(112,"div",8),c.TgZ(113,"label"),c._uU(114,"Use To Customer Area"),c.qZA(),c.TgZ(115,"input",40),c.NdJ("change",function(t){return e.OnCustomerarea(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(116,"div",18),c.TgZ(117,"div",8),c.TgZ(118,"label"),c._uU(119,"New Lot No"),c.qZA(),c._UZ(120,"input",41),c.qZA(),c.qZA(),c.TgZ(121,"div",18),c.TgZ(122,"div",8),c.TgZ(123,"label"),c._uU(124,"Location"),c.qZA(),c.TgZ(125,"select",42),c._UZ(126,"option",38),c.YNc(127,Qt,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(128,"div",18),c.TgZ(129,"div",8),c.TgZ(130,"label"),c._uU(131,"Labour Contractor"),c.qZA(),c.TgZ(132,"select",43),c._UZ(133,"option",38),c.YNc(134,Rt,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(135,"div",22),c.TgZ(136,"div",8),c.TgZ(137,"label"),c._uU(138,"Remarks"),c.qZA(),c.TgZ(139,"select",44),c._UZ(140,"option",38),c.YNc(141,Jt,2,2,"option",11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(142,"div",13),c.TgZ(143,"div",45),c._UZ(144,"ag-grid-angular",46),c.qZA(),c.qZA(),c.TgZ(145,"div",27),c.TgZ(146,"div",8),c.TgZ(147,"button",47),c.NdJ("click",function(){return e.OnAddClick()}),c._uU(148,"Add"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(149,"mat-tab",48),c.TgZ(150,"div",49),c._UZ(151,"hr"),c.TgZ(152,"mtx-grid",50,51),c.NdJ("dblclick",function(r){c.CHM(t);const i=c.MAs(153);return e.onRowDblclickedTransfer(i,r)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(154,"div",27),c.TgZ(155,"div",8),c.TgZ(156,"button",52),c._uU(157," Save "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(158,"mat-tab",53),c.TgZ(159,"div",24),c._UZ(160,"ag-grid-angular",54),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&t&&(c.xp6(3),c.Q6J("selectedIndex",e.tab),c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(7),c.Q6J("ngClass",c.VKq(55,Mt,e.submitted&&e.f.cbCustomerID.invalid)),c.xp6(3),c.Q6J("ngForOf",e.customerList),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.cbCustomerID.invalid),c.xp6(5),c.Q6J("ngModel",c.xi3(22,52,e.todayDate,"yyyy-MM-dd hh:mm:ss")),c.xp6(2),c.Q6J("ngIf",e.submitted&&e.f.Transfer_date.invalid),c.xp6(6),c.Q6J("ngIf",e.submitted&&e.f.txtTransfeNo.invalid),c.xp6(5),c.Q6J("ngClass",c.VKq(57,Mt,e.submitted&&e.f.cbToCustomerID.invalid)),c.xp6(3),c.Q6J("ngForOf",e.customerList),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.cbToCustomerID.invalid),c.xp6(5),c.Q6J("ngClass",c.VKq(59,Mt,e.submitted&&e.form.controls.txtOrderGivenBy.errors)),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.txtOrderGivenBy.invalid),c.xp6(6),c.Q6J("ngIf",e.submitted&&e.f.txtRemarks.invalid),c.xp6(6),c.Q6J("rowData",e.ProductList)("columnDefs",e.ShiftingProductListCol)("rowSelection","single"),c.xp6(4),c.Q6J("selectedIndex",e.TransferDetailtab),c.xp6(17),c.Q6J("ngForOf",e.ProductNameList),c.xp6(27),c.Q6J("ngValue",null),c.xp6(1),c.Q6J("ngForOf",e.StorageAreaTypeList),c.xp6(21),c.Q6J("ngValue",null),c.xp6(1),c.Q6J("ngForOf",e.LocationList),c.xp6(6),c.Q6J("ngValue",null),c.xp6(1),c.Q6J("ngForOf",e.labourContractorList),c.xp6(6),c.Q6J("ngValue",null),c.xp6(1),c.Q6J("ngForOf",e.remarkList),c.xp6(3),c.Q6J("rowData",e.TransferServiceList)("columnDefs",e.serviceColumns),c.xp6(8),c.Q6J("data",e.TransferDetailsList)("columns",e.TransferDetailColumns)("loading",!1)("columnResizable",!1)("multiSelectable",!1)("rowSelectable",!1)("hideRowSelectionCheckbox",!1)("rowHover",!0)("rowStriped",!1)("showToolbar",!1)("toolbarTitle","Detail List")("columnHideable",!1)("columnMovable",!0)("expandable",!1)("pageOnFront",!0)("showPaginator",!1)("pageSizeOptions",c.DdM(61,Yt))("pageIndex",0),c.xp6(4),c.Q6J("hidden",!e.HideSaveButton)("value",e.submitted),c.xp6(4),c.Q6J("rowData",e.TransferList)("columnDefs",e.TransferListColumnDefs)("frameworkComponents",e.frameworkComponents))},directives:[h.xw,h.yH,f.a8,g.SP,g.uX,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,s.mk,p.oO,n.YN,n.Kr,s.sg,s.O5,n.Fj,Z.N8,n.Wl,I.CM],pipes:[s.uU],styles:[""]}),t})();function Gt(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Enter Lot No..."),c.qZA())}function Wt(t,e){if(1&t&&(c.TgZ(0,"div",37),c.YNc(1,Gt,2,0,"div",38),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.txtLotNo.errors?null:t.f.txtLotNo.errors.required)}}function Vt(t,e){if(1&t&&(c.TgZ(0,"option",39),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.BrandID),c.xp6(1),c.Oqu(t.BrandName)}}function Ht(t,e){if(1&t&&(c.TgZ(0,"option",39),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.Counts),c.xp6(1),c.Oqu(t.Counts)}}function $t(t,e){if(1&t&&(c.TgZ(0,"option",39),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.DockID),c.xp6(1),c.hij("",t.DockName," ")}}function zt(t,e){if(1&t&&(c.TgZ(0,"option",39),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.UserID),c.xp6(1),c.hij("",t.UserName," ")}}function Kt(t,e){if(1&t&&(c.TgZ(0,"option",40),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.StorageAreaID),c.xp6(1),c.hij(" ",t.Storage_Area_Name,"")}}const jt=function(t){return{"is-invalid":t}};let Xt=(()=>{class t{constructor(t,e,r){this.fb=t,this.api=e,this.dialog=r,this.submitted=!1,this.HideSaveButton=!0,this.InwardID=0,this.InwardDID=0,this.CustomerName="",this.BalanceQuantity=0,this.OutQuantity=0,this.PendingDO=0,this.LotUpdateDataList=[],this.LotColumnDefs=[{headerName:"InwardID",field:"InwardID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"InwardDID",field:"InwardDID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerName",field:"CustomerName",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LotNo",field:"LotNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ProductName",field:"ProductName",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"BrandName",field:"BrandName",minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"BrandID",field:"BrandID",hide:!0,minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DockName",field:"DockName",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DockID",field:"DockID",hide:!0,minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"UnLoadingBy",field:"UnLoadingBy",hide:!0,minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"UserID",field:"UserID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"InQuantity",field:"InQuantity",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"PendingDO",field:"PendingDO",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TruckNo",field:"TruckNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ContainerNo",field:"ContainerNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"OutQuantity",field:"OutQuantity",minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"BalanceQuantity",field:"BalanceQuantity",minWidth:100,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StorageAreaID",field:"StorageAreaID",hide:!0,minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"StorageArea",field:"StorageArea",hide:!1,minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0}],this.currentUser=this.api.getCurrentUser()}ngOnInit(){this.form=this.fb.group({txtLotNo:[null,n.kI.required],txtProductid:[null,n.kI.required],lot_no:[null,n.kI.required],cbbrandid:[null,n.kI.required],txtpacketcount:[null,n.kI.required],cbDockID:[null,n.kI.required],cbUnloadingBy:[null,n.kI.required],txtTruckNo:[null,n.kI.required],txtContainerNo:[""],txtInQuantity:[null,n.kI.required],cbStorageArea:[null,n.kI.required],remarks:[""]}),this.LotDetailList=[],this.BindComboBox()}get f(){return this.form.controls}BindComboBox(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.get("/Brands/Brand_Select").subscribe(t=>{this.BrandsList=t},t=>{console.error(t)}),this.api.get("/CountInPacket").subscribe(t=>{this.packateCountList=t},t=>{console.error(t)}),this.api.get("/dock").subscribe(t=>{this.dockList=t},t=>{console.error(t)}),this.api.get("/UnloadingBy").subscribe(t=>{this.unloadingList=t},t=>{console.error(t)}),this.api.post("/Storage/StorageArea_Select").subscribe(t=>{this.StorageAreaList=t},t=>{console.error(t)})})}OnSearch(){var t;if(null==this.form.value.txtLotNo||""==this.form.value.txtLotNo)return null===(t=null==document?void 0:document.getElementById("txtLotNo"))||void 0===t||t.focus(),void this.dialog.alert("Select LotNo .....");this.api.post("/InwardUpdate/GetInwardByLotNo",{LotNo:this.form.value.txtLotNo,WarehouseID:this.currentUser.warehouseId}).subscribe(t=>{this.LotDetailList=t.Table},t=>{console.error(t)})}onSubmit(t){if(this.LotDetailList.length>0){const t={inwardDID:this.LotDetailList[0].InwardDID,brandId:Number(this.LotDetailList[0].BrandID),itemsInPacket:this.LotDetailList[0].ItemsInPacket,inQuantity:this.LotDetailList[0].InQuantity,lotno:this.LotDetailList[0].LotNo,docID:this.LotDetailList[0].DockID,unLoadingBy:this.LotDetailList[0].UserID,remarks:this.LotDetailList[0].Remarks,truckNo:this.LotDetailList[0].TruckNo,containerNo:this.LotDetailList[0].ContainerNo,inwardID:this.LotDetailList[0].InwardID,storageAreaID:this.LotDetailList[0].StorageAreaID};this.api.post("/InwardUpdate/InwardUpdate_insert",t).subscribe(t=>{this.dialog.alert(t),this.form.controls.txtLotNo.reset(),this.LotDetailList=[],this.onResetClick()},t=>{console.error(t)})}else this.dialog.alert("Invalid")}OnUpdateclick(){if(this.submitted=!0,this.form.invalid)this.dialog.alert("Invalid");else if(0!=this.LotDetailList.length){if(this.LotDetailList.length>0){const t=this.BrandsList.filter(t=>t.BrandID==this.form.value.cbbrandid),e=this.dockList.filter(t=>t.DockID==this.form.value.cbDockID),r=this.unloadingList.filter(t=>t.UserID==this.form.value.cbUnloadingBy),i=this.StorageAreaList.filter(t=>t.StorageAreaID==this.form.value.cbStorageArea);this.LotDetailList.forEach(o=>{this.LotDetailList.length>0&&this.LotUpdateDataList.push({InwardID:o.InwardID,InwardDID:o.InwardDID,CustomerName:o.CustomerName,LotNo:this.form.value.lot_no,ProductName:this.form.value.txtProductid,BrandName:t[0].BrandName,BrandID:this.form.value.cbbrandid,ItemsInPacket:this.form.value.txtpacketcount,DockName:e[0].DockName,DockID:this.form.value.cbDockID,UnLoadingBy:r[0].UserName,UserID:this.form.value.cbUnloadingBy,InQuantity:o.InQuantity,PendingDO:o.PendingDO,TruckNo:this.form.value.txtTruckNo,ContainerNo:this.form.value.txtContainerNo,OutQuantity:o.OutQuantity,BalanceQuantity:o.BalanceQuantity,StorageAreaID:this.form.value.cbStorageArea,StorageArea:i[0].Storage_Area_Name,Remarks:this.form.value.remarks})})}this.LotDetailList=this.LotUpdateDataList,console.log("LotUpdateDataList",this.LotUpdateDataList),this.onResetClick()}else this.dialog.alert("Invalid")}onResetClick(){this.submitted=!1,this.LotUpdateDataList=[],this.form.controls.txtProductid.reset(),this.form.controls.lot_no.reset(),this.form.controls.cbbrandid.reset(),this.form.controls.txtpacketcount.reset(),this.form.controls.cbDockID.reset(),this.form.controls.txtTruckNo.reset(),this.form.controls.cbUnloadingBy.reset(),this.form.controls.txtContainerNo.reset(),this.form.controls.txtInQuantity.reset(),this.form.controls.cbStorageArea.reset(),this.form.controls.remarks.reset()}onProductListRowClicked(t){console.log("onProductListRowClicked",t.data),this.InwardID=t.data.InwardID,this.InwardDID=t.data.InwardDID,this.CustomerName=t.data.CustomerName,this.BalanceQuantity=t.data.CustomerName,this.OutQuantity=t.data.OutQuantity,this.PendingDO=t.data.PendingDO,this.form.patchValue({txtProductid:t.data.ProductName,lot_no:t.data.LotNo,cbbrandid:t.data.BrandID,txtpacketcount:t.data.ItemsInPacket,cbDockID:t.data.DockID,cbUnloadingBy:t.data.UserID,txtTruckNo:t.data.TruckNo,txtContainerNo:t.data.ContainerNo,txtInQuantity:t.data.InQuantity,cbStorageArea:t.data.StorageAreaID,remarks:t.data.Remarks})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.qu),c.Y36(l.sM),c.Y36(u.cP))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-inward-update"]],decls:103,vars:49,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],[3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-6","col-md-6"],[1,"form-group"],["for","company"],["type","text","formControlName","txtLotNo","id","txtLotNo",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"click"],[1,"col-sm-12","col-md-12"],[2,"height","100%","box-sizing","border-box"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs","rowDoubleClicked"],[1,"col-12"],[1,"font-weight-bold"],[1,"row"],[1,"col-sm-4","col-md-3"],["type","text","formControlName","txtProductid","id","txtProductid","placeholder","","readonly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","lot_no","id","lot_no","placeholder","","readonly","",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","cbbrandid","id","cbbrandid",1,"form-control","form-control-sm",3,"ngClass"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","txtpacketcount","id","txtpacketcount",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","cbDockID","id","cbDockID",1,"form-control","form-control-sm",3,"ngClass"],["disabled","",3,"ngValue"],["formControlName","cbUnloadingBy","id","cbUnloadingBy",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","txtTruckNo","id","txtTruckNo","autocomplete","off","placeholder","","required","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","txtContainerNo","id","txtContainerNo","placeholder","","autocomplete","off",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","txtInQuantity","id","txtInQuantity","placeholder","","autocomplete","off",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","cbStorageArea","id","cbStorageArea",1,"form-control","form-control-sm",3,"ngClass"],["disabled","",3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","remarks","id","remarks","placeholder","","autocomplete","off",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-3"],["type","button",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"disabled","click"],[1,"col-sm-6","col-md-3"],["type","submit",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["disabled","",3,"value"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"form",2),c.NdJ("ngSubmit",function(){return e.onSubmit(e.form)}),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c.TgZ(7,"label",7),c._uU(8,"Lot No."),c.qZA(),c._UZ(9,"input",8),c.YNc(10,Wt,2,1,"div",9),c.qZA(),c.qZA(),c.TgZ(11,"div",5),c.TgZ(12,"div",6),c.TgZ(13,"button",10),c.NdJ("click",function(){return e.OnSearch()}),c._uU(14," Search "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"div",11),c.TgZ(16,"div",12),c.TgZ(17,"ag-grid-angular",13),c.NdJ("rowDoubleClicked",function(t){return e.onProductListRowClicked(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",14),c._UZ(19,"hr"),c.TgZ(20,"p",15),c._uU(21," Product Details "),c.qZA(),c.TgZ(22,"div",16),c.TgZ(23,"div",14),c.TgZ(24,"div",16),c.TgZ(25,"div",17),c.TgZ(26,"div",6),c.TgZ(27,"label"),c._uU(28,"Product Name"),c.qZA(),c._UZ(29,"input",18),c.qZA(),c.qZA(),c.TgZ(30,"div",17),c.TgZ(31,"div",6),c.TgZ(32,"label"),c._uU(33,"Lot No"),c.qZA(),c._UZ(34,"input",19),c.qZA(),c.qZA(),c.TgZ(35,"div",17),c.TgZ(36,"div",6),c.TgZ(37,"label"),c._uU(38,"Brand Name "),c.qZA(),c.TgZ(39,"select",20),c.TgZ(40,"option",21),c._uU(41,"Select "),c.qZA(),c.YNc(42,Vt,2,2,"option",22),c.qZA(),c.qZA(),c.qZA(),c.TgZ(43,"div",17),c.TgZ(44,"div",6),c.TgZ(45,"label"),c._uU(46,"Item In Packet"),c.qZA(),c.TgZ(47,"select",23),c.TgZ(48,"option",21),c._uU(49,"Select "),c.qZA(),c.YNc(50,Ht,2,2,"option",22),c.qZA(),c.qZA(),c.qZA(),c.TgZ(51,"div",17),c.TgZ(52,"div",6),c.TgZ(53,"label"),c._uU(54,"Dock Name"),c.qZA(),c.TgZ(55,"select",24),c.TgZ(56,"option",25),c._uU(57,"Select "),c.qZA(),c.YNc(58,$t,2,2,"option",22),c.qZA(),c.qZA(),c.qZA(),c.TgZ(59,"div",17),c.TgZ(60,"div",6),c.TgZ(61,"label"),c._uU(62,"Unloading By"),c.qZA(),c.TgZ(63,"select",26),c.TgZ(64,"option",25),c._uU(65,"Select "),c.qZA(),c.YNc(66,zt,2,2,"option",22),c.qZA(),c.qZA(),c.qZA(),c.TgZ(67,"div",17),c.TgZ(68,"div",6),c.TgZ(69,"label"),c._uU(70,"Truck No"),c.qZA(),c._UZ(71,"input",27),c.qZA(),c.qZA(),c.TgZ(72,"div",17),c.TgZ(73,"div",6),c.TgZ(74,"label"),c._uU(75,"Container No"),c.qZA(),c._UZ(76,"input",28),c.qZA(),c.qZA(),c.TgZ(77,"div",17),c.TgZ(78,"div",6),c.TgZ(79,"label"),c._uU(80,"In Quantity"),c.qZA(),c._UZ(81,"input",29),c.qZA(),c.qZA(),c.TgZ(82,"div",17),c.TgZ(83,"div",6),c.TgZ(84,"label"),c._uU(85,"Storage Area"),c.qZA(),c.TgZ(86,"select",30),c.TgZ(87,"option",25),c._uU(88,"Select "),c.qZA(),c.YNc(89,Kt,2,2,"option",31),c.qZA(),c.qZA(),c.qZA(),c.TgZ(90,"div",17),c.TgZ(91,"div",6),c.TgZ(92,"label"),c._uU(93,"Remarks"),c.qZA(),c._UZ(94,"input",32),c.qZA(),c.qZA(),c.TgZ(95,"div",33),c.TgZ(96,"div",6),c.TgZ(97,"button",34),c.NdJ("click",function(){return e.OnUpdateclick()}),c._uU(98," Update "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(99,"div",35),c.TgZ(100,"div",6),c.TgZ(101,"button",36),c._uU(102," Save "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(7),c.Q6J("ngClass",c.VKq(25,jt,e.submitted&&e.f.txtLotNo.invalid)),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.txtLotNo.invalid),c.xp6(7),c.Q6J("rowData",e.LotDetailList)("columnDefs",e.LotColumnDefs),c.xp6(12),c.Q6J("ngClass",c.VKq(27,jt,e.submitted&&e.f.txtProductid.invalid)),c.xp6(5),c.Q6J("ngClass",c.VKq(29,jt,e.submitted&&e.f.lot_no.invalid)),c.xp6(5),c.Q6J("ngClass",c.VKq(31,jt,e.submitted&&e.f.cbbrandid.invalid)),c.xp6(3),c.Q6J("ngForOf",e.BrandsList),c.xp6(5),c.Q6J("ngClass",c.VKq(33,jt,e.submitted&&e.f.txtpacketcount.invalid)),c.xp6(3),c.Q6J("ngForOf",e.packateCountList),c.xp6(5),c.Q6J("ngClass",c.VKq(35,jt,e.submitted&&e.f.cbDockID.invalid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.dockList),c.xp6(5),c.Q6J("ngClass",c.VKq(37,jt,e.submitted&&e.f.cbUnloadingBy.invalid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.unloadingList),c.xp6(5),c.Q6J("ngClass",c.VKq(39,jt,e.submitted&&e.f.txtTruckNo.invalid)),c.xp6(5),c.Q6J("ngClass",c.VKq(41,jt,e.submitted&&e.f.txtContainerNo.invalid)),c.xp6(5),c.Q6J("ngClass",c.VKq(43,jt,e.submitted&&e.f.txtInQuantity.invalid)),c.xp6(5),c.Q6J("ngClass",c.VKq(45,jt,e.submitted&&e.f.cbStorageArea.invalid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.StorageAreaList),c.xp6(5),c.Q6J("ngClass",c.VKq(47,jt,e.submitted&&e.f.remarks.invalid)),c.xp6(3),c.Q6J("disabled",e.submitted))},directives:[h.xw,h.yH,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,s.mk,p.oO,s.O5,Z.N8,n.EJ,n.YN,n.Kr,s.sg,n.Q7],styles:[""]}),t})();function te(t,e){if(1&t&&(c.TgZ(0,"option",33),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.Oqu(t.CustomerName)}}function ee(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Select Customer..."),c.qZA())}function re(t,e){if(1&t&&(c.TgZ(0,"div",34),c.YNc(1,ee,2,0,"div",35),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.Customerid.errors?null:t.f.Customerid.errors.required)}}function ie(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Enter Outward No..."),c.qZA())}function oe(t,e){if(1&t&&(c.TgZ(0,"div",34),c.YNc(1,ie,2,0,"div",35),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.f.txtOutwardNo.errors?null:t.f.txtOutwardNo.errors.required)}}function ae(t,e){if(1&t&&(c.TgZ(0,"option",33),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.DockID),c.xp6(1),c.hij("",t.DockName," ")}}function ne(t,e){if(1&t&&(c.TgZ(0,"option",33),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.UserID),c.xp6(1),c.hij("",t.UserName," ")}}function le(t,e){if(1&t&&(c.TgZ(0,"option",33),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.LabourContractorID),c.xp6(1),c.hij("",t.ContractorName," ")}}function se(t,e){if(1&t&&(c.TgZ(0,"option",33),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerPartyID),c.xp6(1),c.hij("",t.PartyName," ")}}const de=function(t){return{"is-invalid":t}};let ce=(()=>{class t{constructor(t,e,r){this.fb=t,this.api=e,this.dialog=r,this.submitted=!1,this.HideSaveButton=!0,this.InwardID=0,this.InwardDID=0,this.CustomerName="",this.BalanceQuantity=0,this.OutQuantity=0,this.PendingDO=0,this.LotUpdateDataList=[],this.UserID=0,this.LotColumnDefs=[{headerName:"outWardID",field:"OutWardID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerName",field:"CustomerName",minWidth:200,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DocID",field:"DocID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DockName",field:"DockName",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"UserID",field:"UserID",hide:!0,minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LoadingBy",field:"LoadingBy",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"TruckNo",field:"TruckNo",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"ContainerNo",field:"ContainerNo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LabourContractorID",field:"LabourContractorID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"LabourContractor",field:"ContractorName",filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"CustomerPartyID",field:"CustomerPartyID",hide:!0,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"DeliverTo",field:"DeliverTo",hide:!1,filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Remarks",field:"Remarks",minWidth:120,filter:"agTextColumnFilter",floatingFilter:!0}],this.currentUser=this.api.getCurrentUser()}ngOnInit(){this.form=this.fb.group({Customerid:[null,n.kI.required],txtOutwardNo:[null,n.kI.required],cbDockID:[null,n.kI.required],cbLoadingBy:[null,n.kI.required],txtTruckNo:[null,n.kI.required],txtContainerNo:[null,n.kI.required],cbLabourContractor:[null,n.kI.required],cbDeliverTo:[null,n.kI.required],remarks:[""]}),this.LotDetailList=[],this.BindComboBox()}get f(){return this.form.controls}BindComboBox(){this.api.get("/Customer").subscribe(t=>{this.CustomerList=t},t=>{console.error(t)}),this.api.get("/dock").subscribe(t=>{this.dockList=t},t=>{console.error(t)}),this.api.get("/UnloadingBy").subscribe(t=>{this.loadingList=t,console.log(t)},t=>{console.error(t)}),this.api.get("/LabourContracter/LabourContractors_Select").subscribe(t=>{this.LabourContractorList=t},t=>{console.error(t)}),this.api.get("/CustomerParty").subscribe(t=>{this.DeliverToList=t},t=>{console.error(t)})}OnSearch(){var t,e;return null==this.form.value.Customerid||""==this.form.value.Customerid?(null===(t=null==document?void 0:document.getElementById("Customerid"))||void 0===t||t.focus(),void this.dialog.alert("Select Customer .....")):null==this.form.value.txtOutwardNo||""==this.form.value.txtOutwardNo?(null===(e=null==document?void 0:document.getElementById("txtOutwardNo"))||void 0===e||e.focus(),void this.dialog.alert("Select OutwardNo .....")):(this.api.post("/OutWard_Update/OutwardUpdate_Search",{CustomerID:2,OutWardNo:"146"}).subscribe(t=>{this.LotDetailList=t},t=>{console.error(t)}),void console.log("LotDeatailList",this.LotDetailList))}onSubmit(t){if(this.LotDetailList.length>0){const t=this.CustomerList.filter(t=>t.CustomerName==this.LotDetailList[0].CustomerName),e=this.loadingList.filter(t=>t.UserName==this.LotDetailList[0].LoadingBy);this.api.post("/OutWard_Update/OutwardUpdate_insert",{outWardID:this.LotDetailList[0].outWardID,docID:this.LotDetailList[0].DocID,truckNo:this.LotDetailList[0].TruckNo,containerNo:this.LotDetailList[0].ContainerNo,loadingBy:e[0].UserID,customerPartyID:this.LotDetailList[0].customerPartyID,remarks:this.LotDetailList[0].Remarks,labourContractorID:this.LotDetailList[0].LabourContractorID,customerID:t[0].CustomerID,createdBy:this.LotDetailList[0].createdBy}).subscribe(t=>{this.dialog.alert(t),this.form.controls.outWardID.reset(),this.LotDetailList=[],this.onResetClick()},t=>{console.error(t)})}else this.dialog.alert("Invalid")}OnUpdateclick(){if(this.submitted=!0,this.form.invalid)this.dialog.alert("Invalid");else if(0!=this.LotDetailList.length){if(this.LotDetailList.length>0){const t=this.dockList.filter(t=>t.DockID==this.form.value.cbDockID),e=this.loadingList.filter(t=>t.UserID==this.form.value.cbLoadingBy),r=(this.LabourContractorList.filter(t=>t.LabourContractorID==this.form.value.cbLabourContractor),this.DeliverToList.filter(t=>t.CustomerPartyID==this.form.value.cbDeliverTo));this.LotDetailList.forEach(i=>{this.LotDetailList.length>0&&this.LotUpdateDataList.push({outWardID:i.OutWardID,DocID:this.form.value.cbDockID,DockName:t[0].DockName,TruckNo:this.form.value.txtTruckNo,ContainerNo:this.form.value.txtContainerNo,LoadingBy:e[0].UserName,LabourContractorID:i.LabourContractorID,Remarks:this.form.value.remarks,DeliverTo:r[0].PartyName,createdBy:i.CreatedBy,customerPartyID:r[0].CustomerPartyID,CustomerName:i.CustomerName,ContractorName:i.ContractorName})})}this.LotDetailList=this.LotUpdateDataList,console.log("LotUpdateDataList",this.LotUpdateDataList),this.onResetClick()}else this.dialog.alert("Invalid")}onResetClick(){this.submitted=!1,this.LotUpdateDataList=[],this.form.controls.cbDockID.reset(),this.form.controls.cbLoadingBy.reset(),this.form.controls.txtTruckNo.reset(),this.form.controls.txtContainerNo.reset(),this.form.controls.cbLabourContractor.reset(),this.form.controls.cbDeliverTo.reset(),this.form.controls.remarks.reset()}onProductListRowClicked(t){this.strUserID=this.loadingList.filter(e=>e.UserName==t.data.LoadingBy),this.form.patchValue({cbDockID:t.data.DocID,cbLoadingBy:this.strUserID[0].UserID,txtTruckNo:t.data.TruckNo,txtContainerNo:t.data.ContainerNo,cbLabourContractor:t.data.LabourContractorID,cbDeliverTo:t.data.CustomerPartyID,remarks:t.data.Remarks})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.qu),c.Y36(l.sM),c.Y36(u.cP))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-outward-update"]],decls:89,vars:42,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],[3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-6","col-md-6"],[1,"form-group"],["formControlName","Customerid","id","Customerid",1,"form-control","form-control-sm",3,"ngClass"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","company"],["type","text","formControlName","txtOutwardNo","id","txtOutwardNo",1,"form-control","form-control-sm",3,"ngClass"],["type","button",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"click"],[1,"col-sm-12","col-md-12"],[2,"height","100%","box-sizing","border-box"],[1,"ag-theme-alpine",2,"height","300px",3,"rowData","columnDefs","rowDoubleClicked"],[1,"col-12"],[1,"font-weight-bold"],[1,"row"],[1,"col-sm-4","col-md-3"],["formControlName","cbDockID","id","cbDockID",1,"form-control","form-control-sm",3,"ngClass"],["disabled","",3,"ngValue"],["formControlName","cbLoadingBy","id","cbLoadingBy",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","txtTruckNo","id","txtTruckNo","autocomplete","off","placeholder","","required","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","txtContainerNo","id","txtContainerNo","placeholder","","autocomplete","off",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","cbLabourContractor","id","cbLabourContractor",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","cbDeliverTo","id","cbDeliverTo",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","remarks","id","remarks","placeholder","","autocomplete","off",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-3"],["type","button",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important",3,"disabled","click"],[1,"col-sm-6","col-md-3"],["type","submit",1,"btn","btn-secondary","btn-sm",2,"width","85px !important","margin-top","20px !important"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"form",2),c.NdJ("ngSubmit",function(){return e.onSubmit(e.form)}),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c.TgZ(7,"label"),c._uU(8,"Customer Name "),c.qZA(),c.TgZ(9,"select",7),c.TgZ(10,"option",8),c._uU(11,"Select "),c.qZA(),c.YNc(12,te,2,2,"option",9),c.qZA(),c.YNc(13,re,2,1,"div",10),c.qZA(),c.qZA(),c.TgZ(14,"div",5),c.TgZ(15,"div",6),c.TgZ(16,"label",11),c._uU(17,"Outward No"),c.qZA(),c._UZ(18,"input",12),c.YNc(19,oe,2,1,"div",10),c.qZA(),c.qZA(),c.TgZ(20,"div",5),c.TgZ(21,"div",6),c.TgZ(22,"button",13),c.NdJ("click",function(){return e.OnSearch()}),c._uU(23," Search "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",14),c.TgZ(25,"div",15),c.TgZ(26,"ag-grid-angular",16),c.NdJ("rowDoubleClicked",function(t){return e.onProductListRowClicked(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(27,"div",17),c._UZ(28,"hr"),c.TgZ(29,"p",18),c._uU(30," Product Details "),c.qZA(),c.TgZ(31,"div",19),c.TgZ(32,"div",17),c.TgZ(33,"div",19),c.TgZ(34,"div",20),c.TgZ(35,"div",6),c.TgZ(36,"label"),c._uU(37,"Dock Name"),c.qZA(),c.TgZ(38,"select",21),c.TgZ(39,"option",22),c._uU(40,"Select "),c.qZA(),c.YNc(41,ae,2,2,"option",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"div",20),c.TgZ(43,"div",6),c.TgZ(44,"label"),c._uU(45,"Loading By"),c.qZA(),c.TgZ(46,"select",23),c.TgZ(47,"option",22),c._uU(48,"Select "),c.qZA(),c.YNc(49,ne,2,2,"option",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(50,"div",20),c.TgZ(51,"div",6),c.TgZ(52,"label"),c._uU(53,"Truck No"),c.qZA(),c._UZ(54,"input",24),c.qZA(),c.qZA(),c.TgZ(55,"div",20),c.TgZ(56,"div",6),c.TgZ(57,"label"),c._uU(58,"Container No"),c.qZA(),c._UZ(59,"input",25),c.qZA(),c.qZA(),c.TgZ(60,"div",20),c.TgZ(61,"div",6),c.TgZ(62,"label"),c._uU(63,"Labour Contractor"),c.qZA(),c.TgZ(64,"select",26),c.TgZ(65,"option",22),c._uU(66,"Select "),c.qZA(),c.YNc(67,le,2,2,"option",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(68,"div",20),c.TgZ(69,"div",6),c.TgZ(70,"label"),c._uU(71,"Deliver To"),c.qZA(),c.TgZ(72,"select",27),c.TgZ(73,"option",22),c._uU(74,"Select "),c.qZA(),c.YNc(75,se,2,2,"option",9),c.qZA(),c.qZA(),c.qZA(),c.TgZ(76,"div",20),c.TgZ(77,"div",6),c.TgZ(78,"label"),c._uU(79,"Remarks"),c.qZA(),c._UZ(80,"input",28),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(81,"div",29),c.TgZ(82,"div",6),c.TgZ(83,"button",30),c.NdJ("click",function(){return e.OnUpdateclick()}),c._uU(84," Update "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(85,"div",31),c.TgZ(86,"div",6),c.TgZ(87,"button",32),c._uU(88," Save "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Q6J("formGroup",e.form),c.xp6(7),c.Q6J("ngClass",c.VKq(24,de,e.submitted&&e.f.Customerid.invalid)),c.xp6(3),c.Q6J("ngForOf",e.CustomerList),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.Customerid.invalid),c.xp6(5),c.Q6J("ngClass",c.VKq(26,de,e.submitted&&e.f.txtOutwardNo.invalid)),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.f.txtOutwardNo.invalid),c.xp6(7),c.Q6J("rowData",e.LotDetailList)("columnDefs",e.LotColumnDefs),c.xp6(12),c.Q6J("ngClass",c.VKq(28,de,e.submitted&&e.f.cbDockID.invalid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.dockList),c.xp6(5),c.Q6J("ngClass",c.VKq(30,de,e.submitted&&e.f.cbLoadingBy.invalid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.loadingList),c.xp6(5),c.Q6J("ngClass",c.VKq(32,de,e.submitted&&e.f.txtTruckNo.invalid)),c.xp6(5),c.Q6J("ngClass",c.VKq(34,de,e.submitted&&e.f.txtContainerNo.invalid)),c.xp6(5),c.Q6J("ngClass",c.VKq(36,de,e.submitted&&e.f.cbLabourContractor.invalid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.LabourContractorList),c.xp6(5),c.Q6J("ngClass",c.VKq(38,de,e.submitted&&e.f.cbDeliverTo.invalid)),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",e.DeliverToList),c.xp6(5),c.Q6J("ngClass",c.VKq(40,de,e.submitted&&e.f.remarks.invalid)),c.xp6(3),c.Q6J("disabled",e.submitted))},directives:[h.xw,h.yH,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,s.mk,p.oO,n.YN,n.Kr,s.sg,s.O5,n.Fj,Z.N8,n.Q7],styles:[""]}),t})();function ue(t,e){if(1&t&&(c.TgZ(0,"option",28),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t.CustomerID),c.xp6(1),c.hij("",t.CustomerName," ")}}function me(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Select Customer....... "),c.qZA())}function he(t,e){if(1&t&&(c.TgZ(0,"div",29),c.YNc(1,me,2,0,"div",26),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.form.controls.customer_id.errors.required)}}function fe(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Select From Date....... "),c.qZA())}function ge(t,e){if(1&t&&(c.TgZ(0,"div",29),c.YNc(1,fe,2,0,"div",26),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.form.controls.from_date.errors.required)}}function De(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Select To_date....... "),c.qZA())}function pe(t,e){if(1&t&&(c.TgZ(0,"div",29),c.YNc(1,De,2,0,"div",26),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.form.controls.To_date.errors.required)}}function Ze(t,e){1&t&&(c.TgZ(0,"th"),c._uU(1,"DeliveryTo"),c.qZA())}function Ie(t,e){1&t&&(c.ynx(0),c.TgZ(1,"tr",30),c.TgZ(2,"td",31),c._uU(3," No data found "),c.qZA(),c.qZA(),c.BQk())}function ve(t,e){if(1&t&&(c.TgZ(0,"td",32),c._uU(1),c.qZA()),2&t){const t=c.oxw().$implicit;c.xp6(1),c.Oqu(t.DeliveryTo)}}function Te(t,e){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"tr"),c.TgZ(2,"td",32),c._uU(3),c.qZA(),c.TgZ(4,"td",25),c._uU(5),c.qZA(),c.TgZ(6,"td",25),c._uU(7),c.qZA(),c.TgZ(8,"td",25),c._uU(9),c.qZA(),c.TgZ(10,"td",25),c._uU(11),c.qZA(),c.TgZ(12,"td",32),c._uU(13),c.qZA(),c.TgZ(14,"td",32),c._uU(15),c.qZA(),c.TgZ(16,"td",32),c._uU(17),c.qZA(),c.TgZ(18,"td",32),c._uU(19),c.qZA(),c.YNc(20,ve,2,1,"td",33),c.TgZ(21,"td",32),c._uU(22),c.qZA(),c.TgZ(23,"td",32),c._uU(24),c.qZA(),c.TgZ(25,"td"),c.TgZ(26,"input",34),c.NdJ("ngModelChange",function(e){return c.CHM(t).$implicit.Loading=e})("change",function(){const e=c.CHM(t).$implicit;return c.oxw().onChangesRates(e)}),c.qZA(),c.qZA(),c.TgZ(27,"td"),c.TgZ(28,"input",34),c.NdJ("ngModelChange",function(e){return c.CHM(t).$implicit.Unloading=e})("change",function(){const e=c.CHM(t).$implicit;return c.oxw().onChangesRates(e)}),c.qZA(),c.qZA(),c.TgZ(29,"td"),c.TgZ(30,"input",34),c.NdJ("ngModelChange",function(e){return c.CHM(t).$implicit.Thappi=e})("change",function(){const e=c.CHM(t).$implicit;return c.oxw().onChangesRates(e)}),c.qZA(),c.qZA(),c.TgZ(31,"td"),c.TgZ(32,"input",34),c.NdJ("ngModelChange",function(e){return c.CHM(t).$implicit.Varai=e})("change",function(){const e=c.CHM(t).$implicit;return c.oxw().onChangesRates(e)}),c.qZA(),c.qZA(),c.TgZ(33,"td"),c.TgZ(34,"input",34),c.NdJ("ngModelChange",function(e){return c.CHM(t).$implicit.Shifting=e})("change",function(){const e=c.CHM(t).$implicit;return c.oxw().onChangesRates(e)}),c.qZA(),c.qZA(),c.TgZ(35,"td"),c.TgZ(36,"input",34),c.NdJ("ngModelChange",function(e){return c.CHM(t).$implicit.Dummping=e})("change",function(){const e=c.CHM(t).$implicit;return c.oxw().onChangesRates(e)}),c.qZA(),c.qZA(),c.TgZ(37,"td"),c.TgZ(38,"input",34),c.NdJ("ngModelChange",function(e){return c.CHM(t).$implicit.Weights=e})("change",function(){const e=c.CHM(t).$implicit;return c.oxw().onChangesRates(e)}),c.qZA(),c.qZA(),c.qZA(),c.BQk()}if(2&t){const t=e.$implicit,r=c.oxw();c.xp6(3),c.Oqu(t.Process),c.xp6(2),c.Oqu(t.ID),c.xp6(2),c.Oqu(t.DID),c.xp6(2),c.Oqu(t.CustomerID),c.xp6(2),c.Oqu(t.ProductID),c.xp6(2),c.Oqu(r.dateConvert(t.Date)),c.xp6(2),c.Oqu(t.CustomerName),c.xp6(2),c.Oqu(t.ProductName),c.xp6(2),c.Oqu(t.ItemsInPacket),c.xp6(1),c.Q6J("ngIf","Outward"==r.ProcessType),c.xp6(2),c.Oqu(t.lotno),c.xp6(2),c.Oqu(t.Qty),c.xp6(2),c.Q6J("ngModel",t.Loading),c.xp6(2),c.Q6J("ngModel",t.Unloading),c.xp6(2),c.Q6J("ngModel",t.Thappi),c.xp6(2),c.Q6J("ngModel",t.Varai),c.xp6(2),c.Q6J("ngModel",t.Shifting),c.xp6(2),c.Q6J("ngModel",t.Dummping),c.xp6(2),c.Q6J("ngModel",t.Weights)}}const be=[{path:"Inward",component:U},{path:"DeliveryOrder",component:E},{path:"EditEntries",component:(()=>{class t{constructor(t,e,r,i){this.api=t,this.fb=e,this.modalService=r,this.dialog=i,this.submitted=!1,this.ProcessType="",this.EditEntriesID=0,this.datalength=1,this.GetInwardOutwardData=[],this.currentUser=this.api.getCurrentUser(),this.form=this.fb.group({customer_id:[null],from_date:[null,n.kI.required],To_date:[null,n.kI.required],chk_Inward:[null,n.kI.required],chk_Outward:[null,n.kI.required],txtLotno:[""]}),this.onReset()}ngOnInit(){this.BindDropdownCustomers()}BindDropdownCustomers(){return(0,a.mG)(this,void 0,void 0,function*(){this.api.get("/Customer").subscribe(t=>{this.customerList=t},t=>{console.error(t)})})}GetCustomerID(t){}btnSerch(t){console.log(t.value),this.submitted=!0,this.form.invalid||this.api.post("/EditEntries/GetInwardOutward_EditCharge",{CustomerID:null==t.value.customer_id?0:t.value.customer_id,FromDate:t.value.from_date,ToDate:t.value.To_date,Process:1==t.value.chk_Inward?"Inward":"Outward",lotno:t.value.txtLotno}).subscribe(t=>{this.GetInwardOutwardData=[],this.GetInwardOutwardData=t,this.datalength=0==this.GetInwardOutwardData.length?0:1,console.log("GetInwardOutwardData",this.GetInwardOutwardData)},t=>{})}dateConvert(t){return new s.uU("en-US").transform(t,"dd-MM-yyyy")}onbtnReset(){this.onReset()}onReset(){this.form.reset();const t=new s.uU("en-US").transform(Date(),"yyyy-MM-dd");this.todayDate=t,this.form.controls.from_date.setValue(this.todayDate),this.form.controls.To_date.setValue(this.todayDate),this.form.controls.chk_Inward.setValue(!0),this.form.controls.chk_Outward.setValue(!1),this.form.controls.txtLotno.setValue(""),this.ProcessType="Inward"}onCheck_Inward(t){1==t.target.checked&&(this.form.controls.chk_Inward.setValue(!0),this.form.controls.chk_Outward.setValue(!1),this.ProcessType="Inward")}onCheck_Outward(t){1==t.target.checked&&(this.form.controls.chk_Outward.setValue(!0),this.form.controls.chk_Inward.setValue(!1),this.ProcessType="Outward")}onChangesRates(t){this.api.post("/EditEntries/EditEntries_insert",{EditEntriesID:this.EditEntriesID,createdby:this.currentUser.userId,process:t.Process,TD_EditEntries:[{customerID:t.CustomerID,ProductID:t.ProductID,DID:t.DID,Loading:t.Loading,Unloading:t.Unloading,Thappi:t.Thappi,Varai:t.Varai,Shifting:t.Shifting,Dummping:t.Dummping,Weights:t.Weights}]}).subscribe(t=>{this.dialog.alert(t[0].message),console.log("EditEntries_insert",t[0].message)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.sM),c.Y36(n.qu),c.Y36(m.FF),c.Y36(u.cP))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-edit-entries"]],decls:97,vars:16,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],[3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-sm-4","col-md-4"],[1,"form-group"],["formControlName","customer_id","id","customer_id",1,"form-control","form-control-sm",3,"change"],["value","null","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"col-sm-3","col-md-3"],["type","date","formControlName","from_date","id","from_date","placeholder","","name","from_date",1,"form-control","form-control-rounded",3,"ngModel"],["type","date","formControlName","To_date","id","To_date","placeholder","","name","To_date",1,"form-control","form-control-rounded",3,"ngModel"],[1,"col-sm-2","col-md-2"],["type","text","formControlName","txtLotno","id","txtLotno","placeholder","","autocomplete","off",1,"form-control","form-control-sm"],[1,"col-sm-1","col-md-1"],["type","checkbox","formControlName","chk_Inward","id","chk_Inward",1,"form-control",3,"change"],["type","checkbox","formControlName","chk_Outward","id","chk_Outward",1,"form-control",3,"change"],[1,"form-group","pt-3"],["type","submit",1,"btn","btn-secondary","btn-block"],["type","button","type","button",1,"btn","btn-secondary","btn-block",3,"click"],[1,"table"],[1,"table123"],[1,"Table_Header"],[2,"display","none"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"],[1,"tablerow","tablerow-underline"],["colspan","14",1,"tdhead","direct-sticky",2,"padding","4px !important","width","2px !important","text-align","center","background-color","darkgray","font-size","large"],[1,"Table_Td"],["class","Table_Td",4,"ngIf"],["type","checkbox",3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"form",2),c.NdJ("ngSubmit",function(){return e.btnSerch(e.form)}),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"label"),c._uU(9,"Customer Name"),c.qZA(),c.TgZ(10,"select",7),c.NdJ("change",function(t){return e.GetCustomerID(t)}),c.TgZ(11,"option",8),c._uU(12,"Select"),c.qZA(),c.YNc(13,ue,2,2,"option",9),c.qZA(),c.YNc(14,he,2,1,"div",10),c.qZA(),c.qZA(),c.TgZ(15,"div",11),c.TgZ(16,"div",6),c.TgZ(17,"label"),c._uU(18,"From Date"),c.qZA(),c._UZ(19,"input",12),c.ALo(20,"date"),c.YNc(21,ge,2,1,"div",10),c.qZA(),c.qZA(),c.TgZ(22,"div",11),c.TgZ(23,"div",6),c.TgZ(24,"label"),c._uU(25,"To Date"),c.qZA(),c._UZ(26,"input",13),c.ALo(27,"date"),c.YNc(28,pe,2,1,"div",10),c.qZA(),c.qZA(),c.TgZ(29,"div",14),c.TgZ(30,"div",6),c.TgZ(31,"label"),c._uU(32,"Lot No"),c.qZA(),c._UZ(33,"input",15),c.qZA(),c.qZA(),c.TgZ(34,"div",16),c.TgZ(35,"div",6),c.TgZ(36,"label"),c._uU(37,"Inward"),c.qZA(),c.TgZ(38,"input",17),c.NdJ("change",function(t){return e.onCheck_Inward(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(39,"div",16),c.TgZ(40,"div",6),c.TgZ(41,"label"),c._uU(42,"Outward"),c.qZA(),c.TgZ(43,"input",18),c.NdJ("change",function(t){return e.onCheck_Outward(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(44,"div",14),c.TgZ(45,"div",19),c.TgZ(46,"button",20),c._uU(47,"Search"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(48,"div",14),c.TgZ(49,"div",19),c.TgZ(50,"button",21),c.NdJ("click",function(){return e.onbtnReset()}),c._uU(51,"Reset"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(52,"mat-card"),c.TgZ(53,"div",22),c.TgZ(54,"table",23),c.TgZ(55,"thead",24),c.TgZ(56,"tr"),c.TgZ(57,"th"),c._uU(58,"Process"),c.qZA(),c.TgZ(59,"th",25),c._uU(60,"ID"),c.qZA(),c.TgZ(61,"th",25),c._uU(62,"DID"),c.qZA(),c.TgZ(63,"th",25),c._uU(64,"CustomerID"),c.qZA(),c.TgZ(65,"th",25),c._uU(66,"ProductID"),c.qZA(),c.TgZ(67,"th"),c._uU(68,"Date"),c.qZA(),c.TgZ(69,"th"),c._uU(70,"CustomerName"),c.qZA(),c.TgZ(71,"th"),c._uU(72,"ProductName"),c.qZA(),c.TgZ(73,"th"),c._uU(74,"ItemsInPacket"),c.qZA(),c.YNc(75,Ze,2,0,"th",26),c.TgZ(76,"th"),c._uU(77,"LotNo"),c.qZA(),c.TgZ(78,"th"),c._uU(79,"Qty"),c.qZA(),c.TgZ(80,"th"),c._uU(81,"Loading"),c.qZA(),c.TgZ(82,"th"),c._uU(83,"Unloading"),c.qZA(),c.TgZ(84,"th"),c._uU(85,"Thappi"),c.qZA(),c.TgZ(86,"th"),c._uU(87,"Varai"),c.qZA(),c.TgZ(88,"th"),c._uU(89,"Shifting "),c.qZA(),c.TgZ(90,"th"),c._uU(91,"Dummping"),c.qZA(),c.TgZ(92,"th"),c._uU(93,"Weights"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(94,"tbody"),c.YNc(95,Ie,4,0,"ng-container",26),c.YNc(96,Te,39,19,"ng-container",27),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("formGroup",e.form),c.xp6(10),c.Q6J("ngForOf",e.customerList),c.xp6(1),c.Q6J("ngIf",e.submitted&&e.form.controls.customer_id.errors),c.xp6(5),c.Q6J("ngModel",c.xi3(20,10,e.todayDate,"yyyy-MM-dd")),c.xp6(2),c.Q6J("ngIf",e.submitted&&e.form.controls.from_date.errors),c.xp6(5),c.Q6J("ngModel",c.xi3(27,13,e.todayDate,"yyyy-MM-dd")),c.xp6(2),c.Q6J("ngIf",e.submitted&&e.form.controls.To_date.errors),c.xp6(47),c.Q6J("ngIf","Outward"==e.ProcessType),c.xp6(20),c.Q6J("ngIf",0==e.datalength),c.xp6(1),c.Q6J("ngForOf",e.GetInwardOutwardData))},directives:[h.xw,h.yH,f.a8,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,s.sg,s.O5,n.Fj,n.Wl,n.On],pipes:[s.uU],styles:[".table123[_ngcontent-%COMP%]{display:block;overflow-y:auto;overflow-x:auto;height:200px}.Table_Header[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:-5px;background-color:#fff}.Table_Td[_ngcontent-%COMP%]{white-space:nowrap}.Datanotfoundcss[_ngcontent-%COMP%]{text-align:center}"]}),t})()},{path:"Dispatch",component:H},{path:"Outward",component:ot},{path:"Shifting",component:Tt},{path:"Transfer",component:Et},{path:"InwardUpdate",component:Xt},{path:"OutwardUpdate",component:ce}];let ye=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[o.Bz.forChild(be)],o.Bz]}),t})(),Ce=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.m,nt.Is,ye,Z.sF.withComponents([])]]}),t})()}}]);