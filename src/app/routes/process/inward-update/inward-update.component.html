<div fxLayout="row wrap" class="matero-row">
    <div fxFlex="100" class="matero-col">
        <form [formGroup]="form" (ngSubmit)="onSubmit(form)">
            <div class="col-md-12">
                <div class="row pt-2">
                    <div class="col-sm-6 col-md-6">
                        <div class="form-group">
                          <label for="company">Lot No.</label>
                          <input type="text" [ngClass]="{'is-invalid': submitted && f.txtLotNo.invalid}"
                            formControlName="txtLotNo" id="txtLotNo" class=" form-control form-control-sm" />
                          <div *ngIf="submitted && f.txtLotNo.invalid" class="invalid-feedback">
                            <div *ngIf="f.txtLotNo.errors?.required">Enter Lot No...</div>
                          </div>
                        </div>      
                      </div>
                      <div class="col-sm-6 col-md-6">
                        <div class="form-group">
                          <button type="button" class="btn btn-secondary btn-sm" (click)="OnSearch()"
                            style="width: 85px !important; margin-top: 20px !important;"> Search </button>
                        </div>
                      </div>
                      <div class="col-sm-12 col-md-12">
                        <div style="height: 100%; box-sizing: border-box;">
                            <ag-grid-angular 
                              style="height: 300px;"
                              class="ag-theme-alpine"
                              [rowData]="LotDetailList"
                              [columnDefs]="LotColumnDefs"
                              (rowDoubleClicked)="onProductListRowClicked($event)"
                              >
                            </ag-grid-angular>
                          </div>
                      </div>
                      
                      <div class="col-12" >
                      <hr>
                        <p class="font-weight-bold"> Product Details </p>
                        <div class="row">                  
                          <div class="col-12">
                            <div class="row">
                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Product Name</label>
                                    <input type="text" formControlName="txtProductid" id="txtProductid" class=" form-control form-control-sm"
                                    [ngClass]="{'is-invalid': submitted && f.txtProductid.invalid}" placeholder="" readonly/>
                                  </div>
                                </div>

                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Lot No</label>
                                    <input type="text" formControlName="lot_no" id="lot_no" class=" form-control form-control-sm"
                                    [ngClass]="{'is-invalid': submitted && f.lot_no.invalid}" placeholder="" readonly/>
                                  </div>
                                </div>
        
                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Brand Name </label>
                                    <select class="form-control form-control-sm" [ngClass]="{'is-invalid': submitted && f.cbbrandid.invalid}"                                  
                                      formControlName="cbbrandid" id="cbbrandid">
                                      <option value="null" disabled>Select </option>
                                      <option *ngFor="let b of BrandsList" value="{{b.BrandID}}" >{{b.BrandName}}</option>
                                    </select>
                                  </div>                                 
                                </div>
                                
                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Item In Packet</label>
                                    <select class="form-control form-control-sm" formControlName="txtpacketcount" id="txtpacketcount"
                                    [ngClass]="{'is-invalid': submitted && f.txtpacketcount.invalid}" >
                                      <option value="null" disabled>Select </option>
                                      <option *ngFor="let c of packateCountList" value={{c.Counts}} >{{c.Counts}}</option>
                                    </select>
                                  </div>                                  
                                </div>
                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Dock Name</label>
                                    <select class="form-control form-control-sm" [ngClass]="{'is-invalid': submitted && f.cbDockID.invalid}" 
                                      formControlName="cbDockID" id="cbDockID">
                                      <option [ngValue]="null" disabled>Select </option>
                                      <option *ngFor="let s of dockList" value="{{s.DockID}}">{{s.DockName}}
                                      </option>
                                    </select>
                                  </div>
                                </div>

                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Unloading By</label>
                                    <select class="form-control form-control-sm" [ngClass]="{'is-invalid': submitted && f.cbUnloadingBy.invalid}" 
                                      formControlName="cbUnloadingBy" id="cbUnloadingBy">
                                      <option [ngValue]="null" disabled>Select </option>
                                      <option *ngFor="let s of unloadingList" value="{{s.UserID}}">{{s.UserName}}
                                      </option>
                                    </select>
                                  </div>
                                </div>

                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Truck No</label>
                                    <input type="text" formControlName="txtTruckNo" id="txtTruckNo" autocomplete="off"
                                    [ngClass]="{'is-invalid': submitted && f.txtTruckNo.invalid}" 
                                      class="form-control form-control-sm" placeholder="" required />                              
                                  </div>
        
                                  
                                </div>
        
                                
                                
                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Container No</label>
                                    <input type="text" formControlName="txtContainerNo" id="txtContainerNo"
                                    [ngClass]="{'is-invalid': submitted && f.txtContainerNo.invalid}" 
                                      class="form-control form-control-sm" placeholder="" autocomplete="off"/>
                                  </div>                                  
                                </div>

                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>In Quantity</label>
                                    <input type="text" formControlName="txtInQuantity" id="txtInQuantity" class="form-control form-control-sm"
                                    [ngClass]="{'is-invalid': submitted && f.txtInQuantity.invalid}" 
                                      placeholder="" autocomplete="off"/>
                                  </div>
                                </div>
                                
                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Storage Area</label>
                                    <select class=" form-control form-control-sm" [ngClass]="{'is-invalid': submitted && f.cbStorageArea.invalid}" 
                                      formControlName="cbStorageArea" id="cbStorageArea">
                                      <option [ngValue]="null" disabled>Select </option>
                                      <option *ngFor="let l of StorageAreaList" value="{{l.StorageAreaID}}" disabled>
                                        {{l.Storage_Area_Name}}</option>
                                    </select>
                                  </div>
                                </div>
                               
        
                                <div class="col-sm-4 col-md-3">
                                  <div class="form-group">
                                    <label>Remarks</label>
                                    <input type="text" formControlName="remarks" id="remarks" class="form-control form-control-sm"
                                    [ngClass]="{'is-invalid': submitted && f.remarks.invalid}" 
                                      placeholder="" autocomplete="off"/>
                                  </div>
                                </div>
                                
                                
                                <div class="col-3">
                                  <div class="form-group">
                                    <button type="button" [disabled]="submitted" (click)="OnUpdateclick()" class="btn btn-secondary btn-sm"
                                      style="width: 85px !important; margin-top: 20px !important;"> Update </button>
                                  </div>
                                </div>
        
                                
                            </div>
                          </div>
                          
                        </div>
                      </div>


                      <div class="col-sm-6 col-md-3">
                        <div class="form-group">
                          <button type="submit"  class="btn btn-secondary btn-sm"
                            style="width: 85px !important; margin-top: 20px !important;"> Save </button>
                        </div>
                      </div>
                </div>
            </div>
        </form>
    </div>
</div>